/**
 * React (with addons) v0.12.2
 *
 * Copyright 2013-2014, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */

/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */

/*!
	Papa Parse
	v4.0.7
	https://github.com/mholt/PapaParse
*/

/*
 * Scroller
 * http://github.com/zynga/scroller
 *
 * Copyright 2011, Zynga Inc.
 * Licensed under the MIT License.
 * https://raw.github.com/zynga/scroller/master/MIT-LICENSE.txt
 *
 * Based on the work of: Unify Project (unify-project.org)
 * http://unify-project.org
 * Copyright 2011, Deutsche Telekom AG
 * License: MIT + Apache (V2)
 */

// Easing Equations (c) 2003 Robert Penner, all rights reserved.

!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("react",[],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.React=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e){"use strict";var n=t("./LinkedStateMixin"),r=t("./React"),i=t("./ReactComponentWithPureRenderMixin"),o=t("./ReactCSSTransitionGroup"),a=t("./ReactTransitionGroup"),s=t("./ReactUpdates"),u=t("./cx"),l=t("./cloneWithProps"),c=t("./update");r.addons={CSSTransitionGroup:o,LinkedStateMixin:n,PureRenderMixin:i,TransitionGroup:a,batchedUpdates:s.batchedUpdates,classSet:u,cloneWithProps:l,update:c},e.exports=r},{"./LinkedStateMixin":25,"./React":31,"./ReactCSSTransitionGroup":34,"./ReactComponentWithPureRenderMixin":39,"./ReactTransitionGroup":87,"./ReactUpdates":88,"./cloneWithProps":110,"./cx":115,"./update":154}],2:[function(t,e){"use strict";var n=t("./focusNode"),r={componentDidMount:function(){this.props.autoFocus&&n(this.getDOMNode())}};e.exports=r},{"./focusNode":122}],3:[function(t,e){"use strict";function n(){var t=window.opera;return"object"==typeof t&&"function"==typeof t.version&&parseInt(t.version(),10)<=12}function r(t){return(t.ctrlKey||t.altKey||t.metaKey)&&!(t.ctrlKey&&t.altKey)}var i=t("./EventConstants"),o=t("./EventPropagators"),a=t("./ExecutionEnvironment"),s=t("./SyntheticInputEvent"),u=t("./keyOf"),l=a.canUseDOM&&"TextEvent"in window&&!("documentMode"in document||n()),c=32,h=String.fromCharCode(c),p=i.topLevelTypes,f={beforeInput:{phasedRegistrationNames:{bubbled:u({onBeforeInput:null}),captured:u({onBeforeInputCapture:null})},dependencies:[p.topCompositionEnd,p.topKeyPress,p.topTextInput,p.topPaste]}},d=null,g=!1,v={eventTypes:f,extractEvents:function(t,e,n,i){var a;if(l)switch(t){case p.topKeyPress:var u=i.which;if(u!==c)return;g=!0,a=h;break;case p.topTextInput:if(a=i.data,a===h&&g)return;break;default:return}else{switch(t){case p.topPaste:d=null;break;case p.topKeyPress:i.which&&!r(i)&&(d=String.fromCharCode(i.which));break;case p.topCompositionEnd:d=i.data}if(null===d)return;a=d}if(a){var v=s.getPooled(f.beforeInput,n,i);return v.data=a,d=null,o.accumulateTwoPhaseDispatches(v),v}}};e.exports=v},{"./EventConstants":17,"./EventPropagators":22,"./ExecutionEnvironment":23,"./SyntheticInputEvent":98,"./keyOf":144}],4:[function(t,e){var n=t("./invariant"),r={addClass:function(t,e){return n(!/\s/.test(e)),e&&(t.classList?t.classList.add(e):r.hasClass(t,e)||(t.className=t.className+" "+e)),t},removeClass:function(t,e){return n(!/\s/.test(e)),e&&(t.classList?t.classList.remove(e):r.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),t},conditionClass:function(t,e,n){return(n?r.addClass:r.removeClass)(t,e)},hasClass:function(t,e){return n(!/\s/.test(e)),t.classList?!!e&&t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}};e.exports=r},{"./invariant":137}],5:[function(t,e){"use strict";function n(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}var r={columnCount:!0,flex:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeOpacity:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(t){i.forEach(function(e){r[n(e,t)]=r[t]})});var o={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};e.exports=a},{}],6:[function(t,e){"use strict";var n=t("./CSSProperty"),r=t("./ExecutionEnvironment"),i=(t("./camelizeStyleName"),t("./dangerousStyleValue")),o=t("./hyphenateStyleName"),a=t("./memoizeStringOnly"),s=(t("./warning"),a(function(t){return o(t)})),u="cssFloat";r.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(u="styleFloat");var l={createMarkupForStyles:function(t){var e="";for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];null!=r&&(e+=s(n)+":",e+=i(n,r)+";")}return e||null},setValueForStyles:function(t,e){var r=t.style;for(var o in e)if(e.hasOwnProperty(o)){var a=i(o,e[o]);if("float"===o&&(o=u),a)r[o]=a;else{var s=n.shorthandPropertyExpansions[o];if(s)for(var l in s)r[l]="";else r[o]=""}}}};e.exports=l},{"./CSSProperty":5,"./ExecutionEnvironment":23,"./camelizeStyleName":109,"./dangerousStyleValue":116,"./hyphenateStyleName":135,"./memoizeStringOnly":146,"./warning":155}],7:[function(t,e){"use strict";function n(){this._callbacks=null,this._contexts=null}var r=t("./PooledClass"),i=t("./Object.assign"),o=t("./invariant");i(n.prototype,{enqueue:function(t,e){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(t),this._contexts.push(e)},notifyAll:function(){var t=this._callbacks,e=this._contexts;if(t){o(t.length===e.length),this._callbacks=null,this._contexts=null;for(var n=0,r=t.length;r>n;n++)t[n].call(e[n]);t.length=0,e.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(n),e.exports=n},{"./Object.assign":29,"./PooledClass":30,"./invariant":137}],8:[function(t,e){"use strict";function n(t){return"SELECT"===t.nodeName||"INPUT"===t.nodeName&&"file"===t.type}function r(t){var e=x.getPooled(T.change,R,t);M.accumulateTwoPhaseDispatches(e),E.batchedUpdates(i,e)}function i(t){y.enqueueEvents(t),y.processEventQueue()}function o(t,e){D=t,R=e,D.attachEvent("onchange",r)}function a(){D&&(D.detachEvent("onchange",r),D=null,R=null)}function s(t,e,n){return t===C.topChange?n:void 0}function u(t,e,n){t===C.topFocus?(a(),o(e,n)):t===C.topBlur&&a()}function l(t,e){D=t,R=e,k=t.value,O=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(D,"value",I),D.attachEvent("onpropertychange",h)}function c(){D&&(delete D.value,D.detachEvent("onpropertychange",h),D=null,R=null,k=null,O=null)}function h(t){if("value"===t.propertyName){var e=t.srcElement.value;e!==k&&(k=e,r(t))}}function p(t,e,n){return t===C.topInput?n:void 0}function f(t,e,n){t===C.topFocus?(c(),l(e,n)):t===C.topBlur&&c()}function d(t){return t!==C.topSelectionChange&&t!==C.topKeyUp&&t!==C.topKeyDown||!D||D.value===k?void 0:(k=D.value,R)}function g(t){return"INPUT"===t.nodeName&&("checkbox"===t.type||"radio"===t.type)}function v(t,e,n){return t===C.topClick?n:void 0}var m=t("./EventConstants"),y=t("./EventPluginHub"),M=t("./EventPropagators"),b=t("./ExecutionEnvironment"),E=t("./ReactUpdates"),x=t("./SyntheticEvent"),w=t("./isEventSupported"),_=t("./isTextInputElement"),S=t("./keyOf"),C=m.topLevelTypes,T={change:{phasedRegistrationNames:{bubbled:S({onChange:null}),captured:S({onChangeCapture:null})},dependencies:[C.topBlur,C.topChange,C.topClick,C.topFocus,C.topInput,C.topKeyDown,C.topKeyUp,C.topSelectionChange]}},D=null,R=null,k=null,O=null,N=!1;b.canUseDOM&&(N=w("change")&&(!("documentMode"in document)||document.documentMode>8));var P=!1;b.canUseDOM&&(P=w("input")&&(!("documentMode"in document)||document.documentMode>9));var I={get:function(){return O.get.call(this)},set:function(t){k=""+t,O.set.call(this,t)}},B={eventTypes:T,extractEvents:function(t,e,r,i){var o,a;if(n(e)?N?o=s:a=u:_(e)?P?o=p:(o=d,a=f):g(e)&&(o=v),o){var l=o(t,e,r);if(l){var c=x.getPooled(T.change,l,i);return M.accumulateTwoPhaseDispatches(c),c}}a&&a(t,e,r)}};e.exports=B},{"./EventConstants":17,"./EventPluginHub":19,"./EventPropagators":22,"./ExecutionEnvironment":23,"./ReactUpdates":88,"./SyntheticEvent":96,"./isEventSupported":138,"./isTextInputElement":140,"./keyOf":144}],9:[function(t,e){"use strict";var n=0,r={createReactRootIndex:function(){return n++}};e.exports=r},{}],10:[function(t,e){"use strict";function n(t){switch(t){case m.topCompositionStart:return M.compositionStart;case m.topCompositionEnd:return M.compositionEnd;case m.topCompositionUpdate:return M.compositionUpdate}}function r(t,e){return t===m.topKeyDown&&e.keyCode===d}function i(t,e){switch(t){case m.topKeyUp:return-1!==f.indexOf(e.keyCode);case m.topKeyDown:return e.keyCode!==d;case m.topKeyPress:case m.topMouseDown:case m.topBlur:return!0;default:return!1}}function o(t){this.root=t,this.startSelection=l.getSelection(t),this.startValue=this.getText()}var a=t("./EventConstants"),s=t("./EventPropagators"),u=t("./ExecutionEnvironment"),l=t("./ReactInputSelection"),c=t("./SyntheticCompositionEvent"),h=t("./getTextContentAccessor"),p=t("./keyOf"),f=[9,13,27,32],d=229,g=u.canUseDOM&&"CompositionEvent"in window,v=!g||"documentMode"in document&&document.documentMode>8&&document.documentMode<=11,m=a.topLevelTypes,y=null,M={compositionEnd:{phasedRegistrationNames:{bubbled:p({onCompositionEnd:null}),captured:p({onCompositionEndCapture:null})},dependencies:[m.topBlur,m.topCompositionEnd,m.topKeyDown,m.topKeyPress,m.topKeyUp,m.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:p({onCompositionStart:null}),captured:p({onCompositionStartCapture:null})},dependencies:[m.topBlur,m.topCompositionStart,m.topKeyDown,m.topKeyPress,m.topKeyUp,m.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:p({onCompositionUpdate:null}),captured:p({onCompositionUpdateCapture:null})},dependencies:[m.topBlur,m.topCompositionUpdate,m.topKeyDown,m.topKeyPress,m.topKeyUp,m.topMouseDown]}};o.prototype.getText=function(){return this.root.value||this.root[h()]},o.prototype.getData=function(){var t=this.getText(),e=this.startSelection.start,n=this.startValue.length-this.startSelection.end;return t.substr(e,t.length-n-e)};var b={eventTypes:M,extractEvents:function(t,e,a,u){var l,h;if(g?l=n(t):y?i(t,u)&&(l=M.compositionEnd):r(t,u)&&(l=M.compositionStart),v&&(y||l!==M.compositionStart?l===M.compositionEnd&&y&&(h=y.getData(),y=null):y=new o(e)),l){var p=c.getPooled(l,a,u);return h&&(p.data=h),s.accumulateTwoPhaseDispatches(p),p}}};e.exports=b},{"./EventConstants":17,"./EventPropagators":22,"./ExecutionEnvironment":23,"./ReactInputSelection":63,"./SyntheticCompositionEvent":94,"./getTextContentAccessor":132,"./keyOf":144}],11:[function(t,e){"use strict";function n(t,e,n){t.insertBefore(e,t.childNodes[n]||null)}var r,i=t("./Danger"),o=t("./ReactMultiChildUpdateTypes"),a=t("./getTextContentAccessor"),s=t("./invariant"),u=a();r="textContent"===u?function(t,e){t.textContent=e}:function(t,e){for(;t.firstChild;)t.removeChild(t.firstChild);if(e){var n=t.ownerDocument||document;t.appendChild(n.createTextNode(e))}};var l={dangerouslyReplaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,updateTextContent:r,processUpdates:function(t,e){for(var a,u=null,l=null,c=0;a=t[c];c++)if(a.type===o.MOVE_EXISTING||a.type===o.REMOVE_NODE){var h=a.fromIndex,p=a.parentNode.childNodes[h],f=a.parentID;s(p),u=u||{},u[f]=u[f]||[],u[f][h]=p,l=l||[],l.push(p)}var d=i.dangerouslyRenderMarkup(e);if(l)for(var g=0;g<l.length;g++)l[g].parentNode.removeChild(l[g]);for(var v=0;a=t[v];v++)switch(a.type){case o.INSERT_MARKUP:n(a.parentNode,d[a.markupIndex],a.toIndex);break;case o.MOVE_EXISTING:n(a.parentNode,u[a.parentID][a.fromIndex],a.toIndex);break;case o.TEXT_CONTENT:r(a.parentNode,a.textContent);break;case o.REMOVE_NODE:}}};e.exports=l},{"./Danger":14,"./ReactMultiChildUpdateTypes":70,"./getTextContentAccessor":132,"./invariant":137}],12:[function(t,e){"use strict";function n(t,e){return(t&e)===e}var r=t("./invariant"),i={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(t){var e=t.Properties||{},o=t.DOMAttributeNames||{},s=t.DOMPropertyNames||{},u=t.DOMMutationMethods||{};t.isCustomAttribute&&a._isCustomAttributeFunctions.push(t.isCustomAttribute);for(var l in e){r(!a.isStandardName.hasOwnProperty(l)),a.isStandardName[l]=!0;var c=l.toLowerCase();if(a.getPossibleStandardName[c]=l,o.hasOwnProperty(l)){var h=o[l];a.getPossibleStandardName[h]=l,a.getAttributeName[l]=h}else a.getAttributeName[l]=c;a.getPropertyName[l]=s.hasOwnProperty(l)?s[l]:l,a.getMutationMethod[l]=u.hasOwnProperty(l)?u[l]:null;var p=e[l];a.mustUseAttribute[l]=n(p,i.MUST_USE_ATTRIBUTE),a.mustUseProperty[l]=n(p,i.MUST_USE_PROPERTY),a.hasSideEffects[l]=n(p,i.HAS_SIDE_EFFECTS),a.hasBooleanValue[l]=n(p,i.HAS_BOOLEAN_VALUE),a.hasNumericValue[l]=n(p,i.HAS_NUMERIC_VALUE),a.hasPositiveNumericValue[l]=n(p,i.HAS_POSITIVE_NUMERIC_VALUE),a.hasOverloadedBooleanValue[l]=n(p,i.HAS_OVERLOADED_BOOLEAN_VALUE),r(!a.mustUseAttribute[l]||!a.mustUseProperty[l]),r(a.mustUseProperty[l]||!a.hasSideEffects[l]),r(!!a.hasBooleanValue[l]+!!a.hasNumericValue[l]+!!a.hasOverloadedBooleanValue[l]<=1)}}},o={},a={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(t){for(var e=0;e<a._isCustomAttributeFunctions.length;e++){var n=a._isCustomAttributeFunctions[e];if(n(t))return!0}return!1},getDefaultValueForProperty:function(t,e){var n,r=o[t];return r||(o[t]=r={}),e in r||(n=document.createElement(t),r[e]=n[e]),r[e]},injection:i};e.exports=a},{"./invariant":137}],13:[function(t,e){"use strict";function n(t,e){return null==e||r.hasBooleanValue[t]&&!e||r.hasNumericValue[t]&&isNaN(e)||r.hasPositiveNumericValue[t]&&1>e||r.hasOverloadedBooleanValue[t]&&e===!1}var r=t("./DOMProperty"),i=t("./escapeTextForBrowser"),o=t("./memoizeStringOnly"),a=(t("./warning"),o(function(t){return i(t)+'="'})),s={createMarkupForID:function(t){return a(r.ID_ATTRIBUTE_NAME)+i(t)+'"'},createMarkupForProperty:function(t,e){if(r.isStandardName.hasOwnProperty(t)&&r.isStandardName[t]){if(n(t,e))return"";var o=r.getAttributeName[t];return r.hasBooleanValue[t]||r.hasOverloadedBooleanValue[t]&&e===!0?i(o):a(o)+i(e)+'"'}return r.isCustomAttribute(t)?null==e?"":a(t)+i(e)+'"':null},setValueForProperty:function(t,e,i){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){var o=r.getMutationMethod[e];if(o)o(t,i);else if(n(e,i))this.deleteValueForProperty(t,e);else if(r.mustUseAttribute[e])t.setAttribute(r.getAttributeName[e],""+i);else{var a=r.getPropertyName[e];r.hasSideEffects[e]&&""+t[a]==""+i||(t[a]=i)}}else r.isCustomAttribute(e)&&(null==i?t.removeAttribute(e):t.setAttribute(e,""+i))},deleteValueForProperty:function(t,e){if(r.isStandardName.hasOwnProperty(e)&&r.isStandardName[e]){var n=r.getMutationMethod[e];if(n)n(t,void 0);else if(r.mustUseAttribute[e])t.removeAttribute(r.getAttributeName[e]);else{var i=r.getPropertyName[e],o=r.getDefaultValueForProperty(t.nodeName,i);r.hasSideEffects[e]&&""+t[i]===o||(t[i]=o)}}else r.isCustomAttribute(e)&&t.removeAttribute(e)}};e.exports=s},{"./DOMProperty":12,"./escapeTextForBrowser":120,"./memoizeStringOnly":146,"./warning":155}],14:[function(t,e){"use strict";function n(t){return t.substring(1,t.indexOf(" "))}var r=t("./ExecutionEnvironment"),i=t("./createNodesFromMarkup"),o=t("./emptyFunction"),a=t("./getMarkupWrap"),s=t("./invariant"),u=/^(<[^ \/>]+)/,l="data-danger-index",c={dangerouslyRenderMarkup:function(t){s(r.canUseDOM);for(var e,c={},h=0;h<t.length;h++)s(t[h]),e=n(t[h]),e=a(e)?e:"*",c[e]=c[e]||[],c[e][h]=t[h];var p=[],f=0;for(e in c)if(c.hasOwnProperty(e)){var d=c[e];for(var g in d)if(d.hasOwnProperty(g)){var v=d[g];d[g]=v.replace(u,"$1 "+l+'="'+g+'" ')}var m=i(d.join(""),o);for(h=0;h<m.length;++h){var y=m[h];y.hasAttribute&&y.hasAttribute(l)&&(g=+y.getAttribute(l),y.removeAttribute(l),s(!p.hasOwnProperty(g)),p[g]=y,f+=1)}}return s(f===p.length),s(p.length===t.length),p},dangerouslyReplaceNodeWithMarkup:function(t,e){s(r.canUseDOM),s(e),s("html"!==t.tagName.toLowerCase());var n=i(e,o)[0];t.parentNode.replaceChild(n,t)}};e.exports=c},{"./ExecutionEnvironment":23,"./createNodesFromMarkup":114,"./emptyFunction":118,"./getMarkupWrap":129,"./invariant":137}],15:[function(t,e){"use strict";var n=t("./keyOf"),r=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({CompositionEventPlugin:null}),n({BeforeInputEventPlugin:null}),n({AnalyticsEventPlugin:null}),n({MobileSafariClickEventPlugin:null})];e.exports=r},{"./keyOf":144}],16:[function(t,e){"use strict";var n=t("./EventConstants"),r=t("./EventPropagators"),i=t("./SyntheticMouseEvent"),o=t("./ReactMount"),a=t("./keyOf"),s=n.topLevelTypes,u=o.getFirstReactDOM,l={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},c=[null,null],h={eventTypes:l,extractEvents:function(t,e,n,a){if(t===s.topMouseOver&&(a.relatedTarget||a.fromElement))return null;if(t!==s.topMouseOut&&t!==s.topMouseOver)return null;var h;if(e.window===e)h=e;else{var p=e.ownerDocument;h=p?p.defaultView||p.parentWindow:window}var f,d;if(t===s.topMouseOut?(f=e,d=u(a.relatedTarget||a.toElement)||h):(f=h,d=e),f===d)return null;var g=f?o.getID(f):"",v=d?o.getID(d):"",m=i.getPooled(l.mouseLeave,g,a);m.type="mouseleave",m.target=f,m.relatedTarget=d;var y=i.getPooled(l.mouseEnter,v,a);return y.type="mouseenter",y.target=d,y.relatedTarget=f,r.accumulateEnterLeaveDispatches(m,y,g,v),c[0]=m,c[1]=y,c}};e.exports=h},{"./EventConstants":17,"./EventPropagators":22,"./ReactMount":68,"./SyntheticMouseEvent":100,"./keyOf":144}],17:[function(t,e){"use strict";var n=t("./keyMirror"),r=n({bubbled:null,captured:null}),i=n({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),o={topLevelTypes:i,PropagationPhases:r};e.exports=o},{"./keyMirror":143}],18:[function(t,e){var n=t("./emptyFunction"),r={listen:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},capture:function(t,e,r){return t.addEventListener?(t.addEventListener(e,r,!0),{remove:function(){t.removeEventListener(e,r,!0)}}):{remove:n}},registerDefault:function(){}};e.exports=r},{"./emptyFunction":118}],19:[function(t,e){"use strict";var n=t("./EventPluginRegistry"),r=t("./EventPluginUtils"),i=t("./accumulateInto"),o=t("./forEachAccumulated"),a=t("./invariant"),s={},u=null,l=function(t){if(t){var e=r.executeDispatch,i=n.getPluginModuleForEvent(t);i&&i.executeDispatch&&(e=i.executeDispatch),r.executeDispatchesInOrder(t,e),t.isPersistent()||t.constructor.release(t)}},c=null,h={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(t){c=t},getInstanceHandle:function(){return c},injectEventPluginOrder:n.injectEventPluginOrder,injectEventPluginsByName:n.injectEventPluginsByName},eventNameDispatchConfigs:n.eventNameDispatchConfigs,registrationNameModules:n.registrationNameModules,putListener:function(t,e,n){a(!n||"function"==typeof n);var r=s[e]||(s[e]={});r[t]=n},getListener:function(t,e){var n=s[e];return n&&n[t]},deleteListener:function(t,e){var n=s[e];n&&delete n[t]},deleteAllListeners:function(t){for(var e in s)delete s[e][t]},extractEvents:function(t,e,r,o){for(var a,s=n.plugins,u=0,l=s.length;l>u;u++){var c=s[u];if(c){var h=c.extractEvents(t,e,r,o);h&&(a=i(a,h))}}return a},enqueueEvents:function(t){t&&(u=i(u,t))},processEventQueue:function(){var t=u;u=null,o(t,l),a(!u)},__purge:function(){s={}},__getListenerBank:function(){return s}};e.exports=h},{"./EventPluginRegistry":20,"./EventPluginUtils":21,"./accumulateInto":106,"./forEachAccumulated":123,"./invariant":137}],20:[function(t,e){"use strict";function n(){if(a)for(var t in s){var e=s[t],n=a.indexOf(t);if(o(n>-1),!u.plugins[n]){o(e.extractEvents),u.plugins[n]=e;var i=e.eventTypes;for(var l in i)o(r(i[l],e,l))}}}function r(t,e,n){o(!u.eventNameDispatchConfigs.hasOwnProperty(n)),u.eventNameDispatchConfigs[n]=t;var r=t.phasedRegistrationNames;if(r){for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];i(s,e,n)}return!0}return t.registrationName?(i(t.registrationName,e,n),!0):!1}function i(t,e,n){o(!u.registrationNameModules[t]),u.registrationNameModules[t]=e,u.registrationNameDependencies[t]=e.eventTypes[n].dependencies}var o=t("./invariant"),a=null,s={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(t){o(!a),a=Array.prototype.slice.call(t),n()},injectEventPluginsByName:function(t){var e=!1;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];s.hasOwnProperty(r)&&s[r]===i||(o(!s[r]),s[r]=i,e=!0)}e&&n()},getPluginModuleForEvent:function(t){var e=t.dispatchConfig;if(e.registrationName)return u.registrationNameModules[e.registrationName]||null;for(var n in e.phasedRegistrationNames)if(e.phasedRegistrationNames.hasOwnProperty(n)){var r=u.registrationNameModules[e.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){a=null;for(var t in s)s.hasOwnProperty(t)&&delete s[t];u.plugins.length=0;var e=u.eventNameDispatchConfigs;for(var n in e)e.hasOwnProperty(n)&&delete e[n];var r=u.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=u},{"./invariant":137}],21:[function(t,e){"use strict";function n(t){return t===g.topMouseUp||t===g.topTouchEnd||t===g.topTouchCancel}function r(t){return t===g.topMouseMove||t===g.topTouchMove}function i(t){return t===g.topMouseDown||t===g.topTouchStart}function o(t,e){var n=t._dispatchListeners,r=t._dispatchIDs;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)e(t,n[i],r[i]);else n&&e(t,n,r)}function a(t,e,n){t.currentTarget=d.Mount.getNode(n);var r=e(t,n);return t.currentTarget=null,r}function s(t,e){o(t,e),t._dispatchListeners=null,t._dispatchIDs=null}function u(t){var e=t._dispatchListeners,n=t._dispatchIDs;if(Array.isArray(e)){for(var r=0;r<e.length&&!t.isPropagationStopped();r++)if(e[r](t,n[r]))return n[r]}else if(e&&e(t,n))return n;return null}function l(t){var e=u(t);return t._dispatchIDs=null,t._dispatchListeners=null,e}function c(t){var e=t._dispatchListeners,n=t._dispatchIDs;f(!Array.isArray(e));var r=e?e(t,n):null;return t._dispatchListeners=null,t._dispatchIDs=null,r}function h(t){return!!t._dispatchListeners}var p=t("./EventConstants"),f=t("./invariant"),d={Mount:null,injectMount:function(t){d.Mount=t}},g=p.topLevelTypes,v={isEndish:n,isMoveish:r,isStartish:i,executeDirectDispatch:c,executeDispatch:a,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:h,injection:d,useTouchEvents:!1};e.exports=v},{"./EventConstants":17,"./invariant":137}],22:[function(t,e){"use strict";function n(t,e,n){var r=e.dispatchConfig.phasedRegistrationNames[n];return g(t,r)}function r(t,e,r){var i=e?d.bubbled:d.captured,o=n(t,r,i);o&&(r._dispatchListeners=p(r._dispatchListeners,o),r._dispatchIDs=p(r._dispatchIDs,t))}function i(t){t&&t.dispatchConfig.phasedRegistrationNames&&h.injection.getInstanceHandle().traverseTwoPhase(t.dispatchMarker,r,t)}function o(t,e,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=g(t,r);i&&(n._dispatchListeners=p(n._dispatchListeners,i),n._dispatchIDs=p(n._dispatchIDs,t))}}function a(t){t&&t.dispatchConfig.registrationName&&o(t.dispatchMarker,null,t)}function s(t){f(t,i)}function u(t,e,n,r){h.injection.getInstanceHandle().traverseEnterLeave(n,r,o,t,e)}function l(t){f(t,a)}var c=t("./EventConstants"),h=t("./EventPluginHub"),p=t("./accumulateInto"),f=t("./forEachAccumulated"),d=c.PropagationPhases,g=h.getListener,v={accumulateTwoPhaseDispatches:s,accumulateDirectDispatches:l,accumulateEnterLeaveDispatches:u};e.exports=v},{"./EventConstants":17,"./EventPluginHub":19,"./accumulateInto":106,"./forEachAccumulated":123}],23:[function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},{}],24:[function(t,e){"use strict";var n,r=t("./DOMProperty"),i=t("./ExecutionEnvironment"),o=r.injection.MUST_USE_ATTRIBUTE,a=r.injection.MUST_USE_PROPERTY,s=r.injection.HAS_BOOLEAN_VALUE,u=r.injection.HAS_SIDE_EFFECTS,l=r.injection.HAS_NUMERIC_VALUE,c=r.injection.HAS_POSITIVE_NUMERIC_VALUE,h=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(i.canUseDOM){var p=document.implementation;n=p&&p.hasFeature&&p.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var f={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:o|s,allowTransparency:o,alt:null,async:s,autoComplete:null,autoPlay:s,cellPadding:null,cellSpacing:null,charSet:o,checked:a|s,classID:o,className:n?o:a,cols:o|c,colSpan:null,content:null,contentEditable:null,contextMenu:o,controls:a|s,coords:null,crossOrigin:null,data:null,dateTime:o,defer:s,dir:null,disabled:o|s,download:h,draggable:null,encType:null,form:o,formAction:o,formEncType:o,formMethod:o,formNoValidate:s,formTarget:o,frameBorder:o,height:o,hidden:o|s,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:a,label:null,lang:null,list:o,loop:a|s,manifest:o,marginHeight:null,marginWidth:null,max:null,maxLength:o,media:o,mediaGroup:null,method:null,min:null,multiple:a|s,muted:a|s,name:null,noValidate:s,open:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:a|s,rel:null,required:s,role:o,rows:o|c,rowSpan:null,sandbox:null,scope:null,scrolling:null,seamless:o|s,selected:a|s,shape:null,size:o|c,sizes:o,span:c,spellCheck:null,src:null,srcDoc:a,srcSet:o,start:l,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:a|u,width:o,wmode:o,autoCapitalize:null,autoCorrect:null,itemProp:o,itemScope:o|s,itemType:o,property:null},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"enctype",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=f},{"./DOMProperty":12,"./ExecutionEnvironment":23}],25:[function(t,e){"use strict";var n=t("./ReactLink"),r=t("./ReactStateSetters"),i={linkState:function(t){return new n(this.state[t],r.createStateKeySetter(this,t))}};e.exports=i},{"./ReactLink":66,"./ReactStateSetters":83}],26:[function(t,e){"use strict";function n(t){u(null==t.props.checkedLink||null==t.props.valueLink)}function r(t){n(t),u(null==t.props.value&&null==t.props.onChange)}function i(t){n(t),u(null==t.props.checked&&null==t.props.onChange)}function o(t){this.props.valueLink.requestChange(t.target.value)}function a(t){this.props.checkedLink.requestChange(t.target.checked)}var s=t("./ReactPropTypes"),u=t("./invariant"),l={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},c={Mixin:{propTypes:{value:function(t,e){return!t[e]||l[t.type]||t.onChange||t.readOnly||t.disabled?void 0:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(t,e){return!t[e]||t.onChange||t.readOnly||t.disabled?void 0:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func}},getValue:function(t){return t.props.valueLink?(r(t),t.props.valueLink.value):t.props.value},getChecked:function(t){return t.props.checkedLink?(i(t),t.props.checkedLink.value):t.props.checked},getOnChange:function(t){return t.props.valueLink?(r(t),o):t.props.checkedLink?(i(t),a):t.props.onChange}};e.exports=c},{"./ReactPropTypes":77,"./invariant":137}],27:[function(t,e){"use strict";function n(t){t.remove()}var r=t("./ReactBrowserEventEmitter"),i=t("./accumulateInto"),o=t("./forEachAccumulated"),a=t("./invariant"),s={trapBubbledEvent:function(t,e){a(this.isMounted());var n=r.trapBubbledEvent(t,e,this.getDOMNode());this._localEventListeners=i(this._localEventListeners,n)},componentWillUnmount:function(){this._localEventListeners&&o(this._localEventListeners,n)}};e.exports=s},{"./ReactBrowserEventEmitter":33,"./accumulateInto":106,"./forEachAccumulated":123,"./invariant":137}],28:[function(t,e){"use strict";var n=t("./EventConstants"),r=t("./emptyFunction"),i=n.topLevelTypes,o={eventTypes:null,extractEvents:function(t,e,n,o){if(t===i.topTouchStart){var a=o.target;a&&!a.onclick&&(a.onclick=r)}}};e.exports=o},{"./EventConstants":17,"./emptyFunction":118}],29:[function(t,e){function n(t){if(null==t)throw new TypeError("Object.assign target cannot be null or undefined");for(var e=Object(t),n=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i){var o=Object(i);for(var a in o)n.call(o,a)&&(e[a]=o[a])}}return e}e.exports=n},{}],30:[function(t,e){"use strict";var n=t("./invariant"),r=function(t){var e=this;if(e.instancePool.length){var n=e.instancePool.pop();return e.call(n,t),n}return new e(t)},i=function(t,e){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,t,e),r}return new n(t,e)},o=function(t,e,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,t,e,n),i}return new r(t,e,n)},a=function(t,e,n,r,i){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,t,e,n,r,i),a}return new o(t,e,n,r,i)},s=function(t){var e=this;n(t instanceof e),t.destructor&&t.destructor(),e.instancePool.length<e.poolSize&&e.instancePool.push(t)},u=10,l=r,c=function(t,e){var n=t;return n.instancePool=[],n.getPooled=e||l,n.poolSize||(n.poolSize=u),n.release=s,n},h={addPoolingTo:c,oneArgumentPooler:r,twoArgumentPooler:i,threeArgumentPooler:o,fiveArgumentPooler:a};e.exports=h},{"./invariant":137}],31:[function(t,e){"use strict";var n=t("./DOMPropertyOperations"),r=t("./EventPluginUtils"),i=t("./ReactChildren"),o=t("./ReactComponent"),a=t("./ReactCompositeComponent"),s=t("./ReactContext"),u=t("./ReactCurrentOwner"),l=t("./ReactElement"),c=(t("./ReactElementValidator"),t("./ReactDOM")),h=t("./ReactDOMComponent"),p=t("./ReactDefaultInjection"),f=t("./ReactInstanceHandles"),d=t("./ReactLegacyElement"),g=t("./ReactMount"),v=t("./ReactMultiChild"),m=t("./ReactPerf"),y=t("./ReactPropTypes"),M=t("./ReactServerRendering"),b=t("./ReactTextComponent"),E=t("./Object.assign"),x=t("./deprecated"),w=t("./onlyChild");
p.inject();var _=l.createElement,S=l.createFactory;_=d.wrapCreateElement(_),S=d.wrapCreateFactory(S);var C=m.measure("React","render",g.render),T={Children:{map:i.map,forEach:i.forEach,count:i.count,only:w},DOM:c,PropTypes:y,initializeTouchEvents:function(t){r.useTouchEvents=t},createClass:a.createClass,createElement:_,createFactory:S,constructAndRenderComponent:g.constructAndRenderComponent,constructAndRenderComponentByID:g.constructAndRenderComponentByID,render:C,renderToString:M.renderToString,renderToStaticMarkup:M.renderToStaticMarkup,unmountComponentAtNode:g.unmountComponentAtNode,isValidClass:d.isValidClass,isValidElement:l.isValidElement,withContext:s.withContext,__spread:E,renderComponent:x("React","renderComponent","render",this,C),renderComponentToString:x("React","renderComponentToString","renderToString",this,M.renderToString),renderComponentToStaticMarkup:x("React","renderComponentToStaticMarkup","renderToStaticMarkup",this,M.renderToStaticMarkup),isValidComponent:x("React","isValidComponent","isValidElement",this,l.isValidElement)};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({Component:o,CurrentOwner:u,DOMComponent:h,DOMPropertyOperations:n,InstanceHandles:f,Mount:g,MultiChild:v,TextComponent:b}),T.version="0.12.2",e.exports=T},{"./DOMPropertyOperations":13,"./EventPluginUtils":21,"./Object.assign":29,"./ReactChildren":36,"./ReactComponent":37,"./ReactCompositeComponent":40,"./ReactContext":41,"./ReactCurrentOwner":42,"./ReactDOM":43,"./ReactDOMComponent":45,"./ReactDefaultInjection":55,"./ReactElement":56,"./ReactElementValidator":57,"./ReactInstanceHandles":64,"./ReactLegacyElement":65,"./ReactMount":68,"./ReactMultiChild":69,"./ReactPerf":73,"./ReactPropTypes":77,"./ReactServerRendering":81,"./ReactTextComponent":84,"./deprecated":117,"./onlyChild":148}],32:[function(t,e){"use strict";var n=t("./ReactEmptyComponent"),r=t("./ReactMount"),i=t("./invariant"),o={getDOMNode:function(){return i(this.isMounted()),n.isNullComponentID(this._rootNodeID)?null:r.getNode(this._rootNodeID)}};e.exports=o},{"./ReactEmptyComponent":58,"./ReactMount":68,"./invariant":137}],33:[function(t,e){"use strict";function n(t){return Object.prototype.hasOwnProperty.call(t,d)||(t[d]=p++,c[t[d]]={}),c[t[d]]}var r=t("./EventConstants"),i=t("./EventPluginHub"),o=t("./EventPluginRegistry"),a=t("./ReactEventEmitterMixin"),s=t("./ViewportMetrics"),u=t("./Object.assign"),l=t("./isEventSupported"),c={},h=!1,p=0,f={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},d="_reactListenersID"+String(Math.random()).slice(2),g=u({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(t){t.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=t}},setEnabled:function(t){g.ReactEventListener&&g.ReactEventListener.setEnabled(t)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(t,e){for(var i=e,a=n(i),s=o.registrationNameDependencies[t],u=r.topLevelTypes,c=0,h=s.length;h>c;c++){var p=s[c];a.hasOwnProperty(p)&&a[p]||(p===u.topWheel?l("wheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"wheel",i):l("mousewheel")?g.ReactEventListener.trapBubbledEvent(u.topWheel,"mousewheel",i):g.ReactEventListener.trapBubbledEvent(u.topWheel,"DOMMouseScroll",i):p===u.topScroll?l("scroll",!0)?g.ReactEventListener.trapCapturedEvent(u.topScroll,"scroll",i):g.ReactEventListener.trapBubbledEvent(u.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):p===u.topFocus||p===u.topBlur?(l("focus",!0)?(g.ReactEventListener.trapCapturedEvent(u.topFocus,"focus",i),g.ReactEventListener.trapCapturedEvent(u.topBlur,"blur",i)):l("focusin")&&(g.ReactEventListener.trapBubbledEvent(u.topFocus,"focusin",i),g.ReactEventListener.trapBubbledEvent(u.topBlur,"focusout",i)),a[u.topBlur]=!0,a[u.topFocus]=!0):f.hasOwnProperty(p)&&g.ReactEventListener.trapBubbledEvent(p,f[p],i),a[p]=!0)}},trapBubbledEvent:function(t,e,n){return g.ReactEventListener.trapBubbledEvent(t,e,n)},trapCapturedEvent:function(t,e,n){return g.ReactEventListener.trapCapturedEvent(t,e,n)},ensureScrollValueMonitoring:function(){if(!h){var t=s.refreshScrollValues;g.ReactEventListener.monitorScrollValue(t),h=!0}},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:i.putListener,getListener:i.getListener,deleteListener:i.deleteListener,deleteAllListeners:i.deleteAllListeners});e.exports=g},{"./EventConstants":17,"./EventPluginHub":19,"./EventPluginRegistry":20,"./Object.assign":29,"./ReactEventEmitterMixin":60,"./ViewportMetrics":105,"./isEventSupported":138}],34:[function(t,e){"use strict";var n=t("./React"),r=t("./Object.assign"),i=n.createFactory(t("./ReactTransitionGroup")),o=n.createFactory(t("./ReactCSSTransitionGroupChild")),a=n.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:n.PropTypes.string.isRequired,transitionEnter:n.PropTypes.bool,transitionLeave:n.PropTypes.bool},getDefaultProps:function(){return{transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){return o({name:this.props.transitionName,enter:this.props.transitionEnter,leave:this.props.transitionLeave},t)},render:function(){return i(r({},this.props,{childFactory:this._wrapChild}))}});e.exports=a},{"./Object.assign":29,"./React":31,"./ReactCSSTransitionGroupChild":35,"./ReactTransitionGroup":87}],35:[function(t,e){"use strict";var n=t("./React"),r=t("./CSSCore"),i=t("./ReactTransitionEvents"),o=t("./onlyChild"),a=17,s=n.createClass({displayName:"ReactCSSTransitionGroupChild",transition:function(t,e){var n=this.getDOMNode(),o=this.props.name+"-"+t,a=o+"-active",s=function(t){t&&t.target!==n||(r.removeClass(n,o),r.removeClass(n,a),i.removeEndEventListener(n,s),e&&e())};i.addEndEventListener(n,s),r.addClass(n,o),this.queueClass(a)},queueClass:function(t){this.classNameQueue.push(t),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,a))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(r.addClass.bind(r,this.getDOMNode())),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout)},componentWillEnter:function(t){this.props.enter?this.transition("enter",t):t()},componentWillLeave:function(t){this.props.leave?this.transition("leave",t):t()},render:function(){return o(this.props.children)}});e.exports=s},{"./CSSCore":4,"./React":31,"./ReactTransitionEvents":86,"./onlyChild":148}],36:[function(t,e){"use strict";function n(t,e){this.forEachFunction=t,this.forEachContext=e}function r(t,e,n,r){var i=t;i.forEachFunction.call(i.forEachContext,e,r)}function i(t,e,i){if(null==t)return t;var o=n.getPooled(e,i);h(t,r,o),n.release(o)}function o(t,e,n){this.mapResult=t,this.mapFunction=e,this.mapContext=n}function a(t,e,n,r){var i=t,o=i.mapResult,a=!o.hasOwnProperty(n);if(a){var s=i.mapFunction.call(i.mapContext,e,r);o[n]=s}}function s(t,e,n){if(null==t)return t;var r={},i=o.getPooled(r,e,n);return h(t,a,i),o.release(i),r}function u(){return null}function l(t){return h(t,u,null)}var c=t("./PooledClass"),h=t("./traverseAllChildren"),p=(t("./warning"),c.twoArgumentPooler),f=c.threeArgumentPooler;c.addPoolingTo(n,p),c.addPoolingTo(o,f);var d={forEach:i,map:s,count:l};e.exports=d},{"./PooledClass":30,"./traverseAllChildren":153,"./warning":155}],37:[function(t,e){"use strict";var n=t("./ReactElement"),r=t("./ReactOwner"),i=t("./ReactUpdates"),o=t("./Object.assign"),a=t("./invariant"),s=t("./keyMirror"),u=s({MOUNTED:null,UNMOUNTED:null}),l=!1,c=null,h=null,p={injection:{injectEnvironment:function(t){a(!l),h=t.mountImageIntoNode,c=t.unmountIDFromEnvironment,p.BackendIDOperations=t.BackendIDOperations,l=!0}},LifeCycle:u,BackendIDOperations:null,Mixin:{isMounted:function(){return this._lifeCycleState===u.MOUNTED},setProps:function(t,e){var n=this._pendingElement||this._currentElement;this.replaceProps(o({},n.props,t),e)},replaceProps:function(t,e){a(this.isMounted()),a(0===this._mountDepth),this._pendingElement=n.cloneAndReplaceProps(this._pendingElement||this._currentElement,t),i.enqueueUpdate(this,e)},_setPropsInternal:function(t,e){var r=this._pendingElement||this._currentElement;this._pendingElement=n.cloneAndReplaceProps(r,o({},r.props,t)),i.enqueueUpdate(this,e)},construct:function(t){this.props=t.props,this._owner=t._owner,this._lifeCycleState=u.UNMOUNTED,this._pendingCallbacks=null,this._currentElement=t,this._pendingElement=null},mountComponent:function(t,e,n){a(!this.isMounted());var i=this._currentElement.ref;if(null!=i){var o=this._currentElement._owner;r.addComponentAsRefTo(this,i,o)}this._rootNodeID=t,this._lifeCycleState=u.MOUNTED,this._mountDepth=n},unmountComponent:function(){a(this.isMounted());var t=this._currentElement.ref;null!=t&&r.removeComponentAsRefFrom(this,t,this._owner),c(this._rootNodeID),this._rootNodeID=null,this._lifeCycleState=u.UNMOUNTED},receiveComponent:function(t,e){a(this.isMounted()),this._pendingElement=t,this.performUpdateIfNecessary(e)},performUpdateIfNecessary:function(t){if(null!=this._pendingElement){var e=this._currentElement,n=this._pendingElement;this._currentElement=n,this.props=n.props,this._owner=n._owner,this._pendingElement=null,this.updateComponent(t,e)}},updateComponent:function(t,e){var n=this._currentElement;(n._owner!==e._owner||n.ref!==e.ref)&&(null!=e.ref&&r.removeComponentAsRefFrom(this,e.ref,e._owner),null!=n.ref&&r.addComponentAsRefTo(this,n.ref,n._owner))},mountComponentIntoNode:function(t,e,n){var r=i.ReactReconcileTransaction.getPooled();r.perform(this._mountComponentIntoNode,this,t,e,r,n),i.ReactReconcileTransaction.release(r)},_mountComponentIntoNode:function(t,e,n,r){var i=this.mountComponent(t,n,0);h(i,e,r)},isOwnedBy:function(t){return this._owner===t},getSiblingByRef:function(t){var e=this._owner;return e&&e.refs?e.refs[t]:null}}};e.exports=p},{"./Object.assign":29,"./ReactElement":56,"./ReactOwner":72,"./ReactUpdates":88,"./invariant":137,"./keyMirror":143}],38:[function(t,e){"use strict";var n=t("./ReactDOMIDOperations"),r=t("./ReactMarkupChecksum"),i=t("./ReactMount"),o=t("./ReactPerf"),a=t("./ReactReconcileTransaction"),s=t("./getReactRootElementInContainer"),u=t("./invariant"),l=t("./setInnerHTML"),c=1,h=9,p={ReactReconcileTransaction:a,BackendIDOperations:n,unmountIDFromEnvironment:function(t){i.purgeID(t)},mountImageIntoNode:o.measure("ReactComponentBrowserEnvironment","mountImageIntoNode",function(t,e,n){if(u(e&&(e.nodeType===c||e.nodeType===h)),n){if(r.canReuseMarkup(t,s(e)))return;u(e.nodeType!==h)}u(e.nodeType!==h),l(e,t)})};e.exports=p},{"./ReactDOMIDOperations":47,"./ReactMarkupChecksum":67,"./ReactMount":68,"./ReactPerf":73,"./ReactReconcileTransaction":79,"./getReactRootElementInContainer":131,"./invariant":137,"./setInnerHTML":149}],39:[function(t,e){"use strict";var n=t("./shallowEqual"),r={shouldComponentUpdate:function(t,e){return!n(this.props,t)||!n(this.state,e)}};e.exports=r},{"./shallowEqual":150}],40:[function(t,e){"use strict";function n(t){var e=t._owner||null;return e&&e.constructor&&e.constructor.displayName?" Check the render method of `"+e.constructor.displayName+"`.":""}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&S("function"==typeof e[n])}function i(t,e){var n=P.hasOwnProperty(e)?P[e]:null;A.hasOwnProperty(e)&&S(n===O.OVERRIDE_BASE),t.hasOwnProperty(e)&&S(n===O.DEFINE_MANY||n===O.DEFINE_MANY_MERGED)}function o(t){var e=t._compositeLifeCycleState;S(t.isMounted()||e===B.MOUNTING),S(null==f.current),S(e!==B.UNMOUNTING)}function a(t,e){if(e){S(!m.isValidFactory(e)),S(!d.isValidElement(e));var n=t.prototype;e.hasOwnProperty(k)&&I.mixins(t,e.mixins);for(var r in e)if(e.hasOwnProperty(r)&&r!==k){var o=e[r];if(i(n,r),I.hasOwnProperty(r))I[r](t,o);else{var a=P.hasOwnProperty(r),s=n.hasOwnProperty(r),u=o&&o.__reactDontBind,h="function"==typeof o,p=h&&!a&&!s&&!u;if(p)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=o,n[r]=o;else if(s){var f=P[r];S(a&&(f===O.DEFINE_MANY_MERGED||f===O.DEFINE_MANY)),f===O.DEFINE_MANY_MERGED?n[r]=l(n[r],o):f===O.DEFINE_MANY&&(n[r]=c(n[r],o))}else n[r]=o}}}}function s(t,e){if(e)for(var n in e){var r=e[n];if(e.hasOwnProperty(n)){var i=n in I;S(!i);var o=n in t;S(!o),t[n]=r}}}function u(t,e){return S(t&&e&&"object"==typeof t&&"object"==typeof e),D(e,function(e,n){S(void 0===t[n]),t[n]=e}),t}function l(t,e){return function(){var n=t.apply(this,arguments),r=e.apply(this,arguments);return null==n?r:null==r?n:u(n,r)}}function c(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}var h=t("./ReactComponent"),p=t("./ReactContext"),f=t("./ReactCurrentOwner"),d=t("./ReactElement"),g=(t("./ReactElementValidator"),t("./ReactEmptyComponent")),v=t("./ReactErrorUtils"),m=t("./ReactLegacyElement"),y=t("./ReactOwner"),M=t("./ReactPerf"),b=t("./ReactPropTransferer"),E=t("./ReactPropTypeLocations"),x=(t("./ReactPropTypeLocationNames"),t("./ReactUpdates")),w=t("./Object.assign"),_=t("./instantiateReactComponent"),S=t("./invariant"),C=t("./keyMirror"),T=t("./keyOf"),D=(t("./monitorCodeUse"),t("./mapObject")),R=t("./shouldUpdateReactComponent"),k=(t("./warning"),T({mixins:null})),O=C({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),N=[],P={mixins:O.DEFINE_MANY,statics:O.DEFINE_MANY,propTypes:O.DEFINE_MANY,contextTypes:O.DEFINE_MANY,childContextTypes:O.DEFINE_MANY,getDefaultProps:O.DEFINE_MANY_MERGED,getInitialState:O.DEFINE_MANY_MERGED,getChildContext:O.DEFINE_MANY_MERGED,render:O.DEFINE_ONCE,componentWillMount:O.DEFINE_MANY,componentDidMount:O.DEFINE_MANY,componentWillReceiveProps:O.DEFINE_MANY,shouldComponentUpdate:O.DEFINE_ONCE,componentWillUpdate:O.DEFINE_MANY,componentDidUpdate:O.DEFINE_MANY,componentWillUnmount:O.DEFINE_MANY,updateComponent:O.OVERRIDE_BASE},I={displayName:function(t,e){t.displayName=e},mixins:function(t,e){if(e)for(var n=0;n<e.length;n++)a(t,e[n])},childContextTypes:function(t,e){r(t,e,E.childContext),t.childContextTypes=w({},t.childContextTypes,e)},contextTypes:function(t,e){r(t,e,E.context),t.contextTypes=w({},t.contextTypes,e)},getDefaultProps:function(t,e){t.getDefaultProps=t.getDefaultProps?l(t.getDefaultProps,e):e},propTypes:function(t,e){r(t,e,E.prop),t.propTypes=w({},t.propTypes,e)},statics:function(t,e){s(t,e)}},B=C({MOUNTING:null,UNMOUNTING:null,RECEIVING_PROPS:null}),A={construct:function(){h.Mixin.construct.apply(this,arguments),y.Mixin.construct.apply(this,arguments),this.state=null,this._pendingState=null,this.context=null,this._compositeLifeCycleState=null},isMounted:function(){return h.Mixin.isMounted.call(this)&&this._compositeLifeCycleState!==B.MOUNTING},mountComponent:M.measure("ReactCompositeComponent","mountComponent",function(t,e,n){h.Mixin.mountComponent.call(this,t,e,n),this._compositeLifeCycleState=B.MOUNTING,this.__reactAutoBindMap&&this._bindAutoBindMethods(),this.context=this._processContext(this._currentElement._context),this.props=this._processProps(this.props),this.state=this.getInitialState?this.getInitialState():null,S("object"==typeof this.state&&!Array.isArray(this.state)),this._pendingState=null,this._pendingForceUpdate=!1,this.componentWillMount&&(this.componentWillMount(),this._pendingState&&(this.state=this._pendingState,this._pendingState=null)),this._renderedComponent=_(this._renderValidatedComponent(),this._currentElement.type),this._compositeLifeCycleState=null;var r=this._renderedComponent.mountComponent(t,e,n+1);return this.componentDidMount&&e.getReactMountReady().enqueue(this.componentDidMount,this),r}),unmountComponent:function(){this._compositeLifeCycleState=B.UNMOUNTING,this.componentWillUnmount&&this.componentWillUnmount(),this._compositeLifeCycleState=null,this._renderedComponent.unmountComponent(),this._renderedComponent=null,h.Mixin.unmountComponent.call(this)},setState:function(t,e){S("object"==typeof t||null==t),this.replaceState(w({},this._pendingState||this.state,t),e)},replaceState:function(t,e){o(this),this._pendingState=t,this._compositeLifeCycleState!==B.MOUNTING&&x.enqueueUpdate(this,e)},_processContext:function(t){var e=null,n=this.constructor.contextTypes;if(n){e={};for(var r in n)e[r]=t[r]}return e},_processChildContext:function(t){var e=this.getChildContext&&this.getChildContext();if(this.constructor.displayName||"ReactCompositeComponent",e){S("object"==typeof this.constructor.childContextTypes);for(var n in e)S(n in this.constructor.childContextTypes);return w({},t,e)}return t},_processProps:function(t){return t},_checkPropTypes:function(t,e,r){var i=this.constructor.displayName;for(var o in t)if(t.hasOwnProperty(o)){var a=t[o](e,o,i,r);a instanceof Error&&n(this)}},performUpdateIfNecessary:function(t){var e=this._compositeLifeCycleState;if(e!==B.MOUNTING&&e!==B.RECEIVING_PROPS&&(null!=this._pendingElement||null!=this._pendingState||this._pendingForceUpdate)){var n=this.context,r=this.props,i=this._currentElement;null!=this._pendingElement&&(i=this._pendingElement,n=this._processContext(i._context),r=this._processProps(i.props),this._pendingElement=null,this._compositeLifeCycleState=B.RECEIVING_PROPS,this.componentWillReceiveProps&&this.componentWillReceiveProps(r,n)),this._compositeLifeCycleState=null;var o=this._pendingState||this.state;this._pendingState=null;var a=this._pendingForceUpdate||!this.shouldComponentUpdate||this.shouldComponentUpdate(r,o,n);a?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,r,o,n,t)):(this._currentElement=i,this.props=r,this.state=o,this.context=n,this._owner=i._owner)}},_performComponentUpdate:function(t,e,n,r,i){var o=this._currentElement,a=this.props,s=this.state,u=this.context;this.componentWillUpdate&&this.componentWillUpdate(e,n,r),this._currentElement=t,this.props=e,this.state=n,this.context=r,this._owner=t._owner,this.updateComponent(i,o),this.componentDidUpdate&&i.getReactMountReady().enqueue(this.componentDidUpdate.bind(this,a,s,u),this)},receiveComponent:function(t,e){(t!==this._currentElement||null==t._owner)&&h.Mixin.receiveComponent.call(this,t,e)},updateComponent:M.measure("ReactCompositeComponent","updateComponent",function(t,e){h.Mixin.updateComponent.call(this,t,e);var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent();if(R(r,i))n.receiveComponent(i,t);else{var o=this._rootNodeID,a=n._rootNodeID;n.unmountComponent(),this._renderedComponent=_(i,this._currentElement.type);var s=this._renderedComponent.mountComponent(o,t,this._mountDepth+1);h.BackendIDOperations.dangerouslyReplaceNodeWithMarkupByID(a,s)}}),forceUpdate:function(t){var e=this._compositeLifeCycleState;S(this.isMounted()||e===B.MOUNTING),S(e!==B.UNMOUNTING&&null==f.current),this._pendingForceUpdate=!0,x.enqueueUpdate(this,t)},_renderValidatedComponent:M.measure("ReactCompositeComponent","_renderValidatedComponent",function(){var t,e=p.current;p.current=this._processChildContext(this._currentElement._context),f.current=this;try{t=this.render(),null===t||t===!1?(t=g.getEmptyComponent(),g.registerNullComponentID(this._rootNodeID)):g.deregisterNullComponentID(this._rootNodeID)}finally{p.current=e,f.current=null}return S(d.isValidElement(t)),t}),_bindAutoBindMethods:function(){for(var t in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(t)){var e=this.__reactAutoBindMap[t];this[t]=this._bindAutoBindMethod(v.guard(e,this.constructor.displayName+"."+t))}},_bindAutoBindMethod:function(t){var e=this,n=t.bind(e);return n}},L=function(){};w(L.prototype,h.Mixin,y.Mixin,b.Mixin,A);var F={LifeCycle:B,Base:L,createClass:function(t){var e=function(){};e.prototype=new L,e.prototype.constructor=e,N.forEach(a.bind(null,e)),a(e,t),e.getDefaultProps&&(e.defaultProps=e.getDefaultProps()),S(e.prototype.render);for(var n in P)e.prototype[n]||(e.prototype[n]=null);return m.wrapFactory(d.createFactory(e))},injection:{injectMixin:function(t){N.push(t)}}};e.exports=F},{"./Object.assign":29,"./ReactComponent":37,"./ReactContext":41,"./ReactCurrentOwner":42,"./ReactElement":56,"./ReactElementValidator":57,"./ReactEmptyComponent":58,"./ReactErrorUtils":59,"./ReactLegacyElement":65,"./ReactOwner":72,"./ReactPerf":73,"./ReactPropTransferer":74,"./ReactPropTypeLocationNames":75,"./ReactPropTypeLocations":76,"./ReactUpdates":88,"./instantiateReactComponent":136,"./invariant":137,"./keyMirror":143,"./keyOf":144,"./mapObject":145,"./monitorCodeUse":147,"./shouldUpdateReactComponent":151,"./warning":155}],41:[function(t,e){"use strict";var n=t("./Object.assign"),r={current:{},withContext:function(t,e){var i,o=r.current;r.current=n({},o,t);try{i=e()}finally{r.current=o}return i}};e.exports=r},{"./Object.assign":29}],42:[function(t,e){"use strict";var n={current:null};e.exports=n},{}],43:[function(t,e){"use strict";function n(t){return i.markNonLegacyFactory(r.createFactory(t))}var r=t("./ReactElement"),i=(t("./ReactElementValidator"),t("./ReactLegacyElement")),o=t("./mapObject"),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);e.exports=a},{"./ReactElement":56,"./ReactElementValidator":57,"./ReactLegacyElement":65,"./mapObject":145}],44:[function(t,e){"use strict";var n=t("./AutoFocusMixin"),r=t("./ReactBrowserComponentMixin"),i=t("./ReactCompositeComponent"),o=t("./ReactElement"),a=t("./ReactDOM"),s=t("./keyMirror"),u=o.createFactory(a.button.type),l=s({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),c=i.createClass({displayName:"ReactDOMButton",mixins:[n,r],render:function(){var t={};for(var e in this.props)!this.props.hasOwnProperty(e)||this.props.disabled&&l[e]||(t[e]=this.props[e]);return u(t,this.props.children)}});e.exports=c},{"./AutoFocusMixin":2,"./ReactBrowserComponentMixin":32,"./ReactCompositeComponent":40,"./ReactDOM":43,"./ReactElement":56,"./keyMirror":143}],45:[function(t,e){"use strict";function n(t){t&&(m(null==t.children||null==t.dangerouslySetInnerHTML),m(null==t.style||"object"==typeof t.style))}function r(t,e,n,r){var i=p.findReactContainerForID(t);if(i){var o=i.nodeType===_?i.ownerDocument:i;b(e,o)}r.getPutListenerQueue().enqueuePutListener(t,e,n)}function i(t){D.call(T,t)||(m(C.test(t)),T[t]=!0)}function o(t){i(t),this._tag=t,this.tagName=t.toUpperCase()}var a=t("./CSSPropertyOperations"),s=t("./DOMProperty"),u=t("./DOMPropertyOperations"),l=t("./ReactBrowserComponentMixin"),c=t("./ReactComponent"),h=t("./ReactBrowserEventEmitter"),p=t("./ReactMount"),f=t("./ReactMultiChild"),d=t("./ReactPerf"),g=t("./Object.assign"),v=t("./escapeTextForBrowser"),m=t("./invariant"),y=(t("./isEventSupported"),t("./keyOf")),M=(t("./monitorCodeUse"),h.deleteListener),b=h.listenTo,E=h.registrationNameModules,x={string:!0,number:!0},w=y({style:null}),_=1,S={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},C=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,T={},D={}.hasOwnProperty;o.displayName="ReactDOMComponent",o.Mixin={mountComponent:d.measure("ReactDOMComponent","mountComponent",function(t,e,r){c.Mixin.mountComponent.call(this,t,e,r),n(this.props);var i=S[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(e)+this._createContentMarkup(e)+i}),_createOpenTagMarkupAndPutListeners:function(t){var e=this.props,n="<"+this._tag;for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(null!=o)if(E.hasOwnProperty(i))r(this._rootNodeID,i,o,t);else{i===w&&(o&&(o=e.style=g({},e.style)),o=a.createMarkupForStyles(o));var s=u.createMarkupForProperty(i,o);s&&(n+=" "+s)}}if(t.renderToStaticMarkup)return n+">";var l=u.createMarkupForID(this._rootNodeID);return n+" "+l+">"},_createContentMarkup:function(t){var e=this.props.dangerouslySetInnerHTML;if(null!=e){if(null!=e.__html)return e.__html}else{var n=x[typeof this.props.children]?this.props.children:null,r=null!=n?null:this.props.children;if(null!=n)return v(n);if(null!=r){var i=this.mountChildren(r,t);return i.join("")}}return""},receiveComponent:function(t,e){(t!==this._currentElement||null==t._owner)&&c.Mixin.receiveComponent.call(this,t,e)},updateComponent:d.measure("ReactDOMComponent","updateComponent",function(t,e){n(this._currentElement.props),c.Mixin.updateComponent.call(this,t,e),this._updateDOMProperties(e.props,t),this._updateDOMChildren(e.props,t)}),_updateDOMProperties:function(t,e){var n,i,o,a=this.props;for(n in t)if(!a.hasOwnProperty(n)&&t.hasOwnProperty(n))if(n===w){var u=t[n];for(i in u)u.hasOwnProperty(i)&&(o=o||{},o[i]="")}else E.hasOwnProperty(n)?M(this._rootNodeID,n):(s.isStandardName[n]||s.isCustomAttribute(n))&&c.BackendIDOperations.deletePropertyByID(this._rootNodeID,n);for(n in a){var l=a[n],h=t[n];if(a.hasOwnProperty(n)&&l!==h)if(n===w)if(l&&(l=a.style=g({},l)),h){for(i in h)!h.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(o=o||{},o[i]="");for(i in l)l.hasOwnProperty(i)&&h[i]!==l[i]&&(o=o||{},o[i]=l[i])}else o=l;else E.hasOwnProperty(n)?r(this._rootNodeID,n,l,e):(s.isStandardName[n]||s.isCustomAttribute(n))&&c.BackendIDOperations.updatePropertyByID(this._rootNodeID,n,l)}o&&c.BackendIDOperations.updateStylesByID(this._rootNodeID,o)},_updateDOMChildren:function(t,e){var n=this.props,r=x[typeof t.children]?t.children:null,i=x[typeof n.children]?n.children:null,o=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,a=n.dangerouslySetInnerHTML&&n.dangerouslySetInnerHTML.__html,s=null!=r?null:t.children,u=null!=i?null:n.children,l=null!=r||null!=o,h=null!=i||null!=a;null!=s&&null==u?this.updateChildren(null,e):l&&!h&&this.updateTextContent(""),null!=i?r!==i&&this.updateTextContent(""+i):null!=a?o!==a&&c.BackendIDOperations.updateInnerHTMLByID(this._rootNodeID,a):null!=u&&this.updateChildren(u,e)},unmountComponent:function(){this.unmountChildren(),h.deleteAllListeners(this._rootNodeID),c.Mixin.unmountComponent.call(this)}},g(o.prototype,c.Mixin,o.Mixin,f.Mixin,l),e.exports=o},{"./CSSPropertyOperations":6,"./DOMProperty":12,"./DOMPropertyOperations":13,"./Object.assign":29,"./ReactBrowserComponentMixin":32,"./ReactBrowserEventEmitter":33,"./ReactComponent":37,"./ReactMount":68,"./ReactMultiChild":69,"./ReactPerf":73,"./escapeTextForBrowser":120,"./invariant":137,"./isEventSupported":138,"./keyOf":144,"./monitorCodeUse":147}],46:[function(t,e){"use strict";var n=t("./EventConstants"),r=t("./LocalEventTrapMixin"),i=t("./ReactBrowserComponentMixin"),o=t("./ReactCompositeComponent"),a=t("./ReactElement"),s=t("./ReactDOM"),u=a.createFactory(s.form.type),l=o.createClass({displayName:"ReactDOMForm",mixins:[i,r],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(n.topLevelTypes.topSubmit,"submit")}});e.exports=l},{"./EventConstants":17,"./LocalEventTrapMixin":27,"./ReactBrowserComponentMixin":32,"./ReactCompositeComponent":40,"./ReactDOM":43,"./ReactElement":56}],47:[function(t,e){"use strict";var n=t("./CSSPropertyOperations"),r=t("./DOMChildrenOperations"),i=t("./DOMPropertyOperations"),o=t("./ReactMount"),a=t("./ReactPerf"),s=t("./invariant"),u=t("./setInnerHTML"),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},c={updatePropertyByID:a.measure("ReactDOMIDOperations","updatePropertyByID",function(t,e,n){var r=o.getNode(t);s(!l.hasOwnProperty(e)),null!=n?i.setValueForProperty(r,e,n):i.deleteValueForProperty(r,e)}),deletePropertyByID:a.measure("ReactDOMIDOperations","deletePropertyByID",function(t,e,n){var r=o.getNode(t);s(!l.hasOwnProperty(e)),i.deleteValueForProperty(r,e,n)}),updateStylesByID:a.measure("ReactDOMIDOperations","updateStylesByID",function(t,e){var r=o.getNode(t);n.setValueForStyles(r,e)}),updateInnerHTMLByID:a.measure("ReactDOMIDOperations","updateInnerHTMLByID",function(t,e){var n=o.getNode(t);u(n,e)}),updateTextContentByID:a.measure("ReactDOMIDOperations","updateTextContentByID",function(t,e){var n=o.getNode(t);r.updateTextContent(n,e)}),dangerouslyReplaceNodeWithMarkupByID:a.measure("ReactDOMIDOperations","dangerouslyReplaceNodeWithMarkupByID",function(t,e){var n=o.getNode(t);r.dangerouslyReplaceNodeWithMarkup(n,e)}),dangerouslyProcessChildrenUpdates:a.measure("ReactDOMIDOperations","dangerouslyProcessChildrenUpdates",function(t,e){for(var n=0;n<t.length;n++)t[n].parentNode=o.getNode(t[n].parentID);r.processUpdates(t,e)})};e.exports=c},{"./CSSPropertyOperations":6,"./DOMChildrenOperations":11,"./DOMPropertyOperations":13,"./ReactMount":68,"./ReactPerf":73,"./invariant":137,"./setInnerHTML":149}],48:[function(t,e){"use strict";var n=t("./EventConstants"),r=t("./LocalEventTrapMixin"),i=t("./ReactBrowserComponentMixin"),o=t("./ReactCompositeComponent"),a=t("./ReactElement"),s=t("./ReactDOM"),u=a.createFactory(s.img.type),l=o.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[i,r],render:function(){return u(this.props)},componentDidMount:function(){this.trapBubbledEvent(n.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(n.topLevelTypes.topError,"error")}});e.exports=l},{"./EventConstants":17,"./LocalEventTrapMixin":27,"./ReactBrowserComponentMixin":32,"./ReactCompositeComponent":40,"./ReactDOM":43,"./ReactElement":56}],49:[function(t,e){"use strict";function n(){this.isMounted()&&this.forceUpdate()}var r=t("./AutoFocusMixin"),i=t("./DOMPropertyOperations"),o=t("./LinkedValueUtils"),a=t("./ReactBrowserComponentMixin"),s=t("./ReactCompositeComponent"),u=t("./ReactElement"),l=t("./ReactDOM"),c=t("./ReactMount"),h=t("./ReactUpdates"),p=t("./Object.assign"),f=t("./invariant"),d=u.createFactory(l.input.type),g={},v=s.createClass({displayName:"ReactDOMInput",mixins:[r,o.Mixin,a],getInitialState:function(){var t=this.props.defaultValue;
return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=t?t:null}},render:function(){var t=p({},this.props);t.defaultChecked=null,t.defaultValue=null;var e=o.getValue(this);t.value=null!=e?e:this.state.initialValue;var n=o.getChecked(this);return t.checked=null!=n?n:this.state.initialChecked,t.onChange=this._handleChange,d(t,this.props.children)},componentDidMount:function(){var t=c.getID(this.getDOMNode());g[t]=this},componentWillUnmount:function(){var t=this.getDOMNode(),e=c.getID(t);delete g[e]},componentDidUpdate:function(){var t=this.getDOMNode();null!=this.props.checked&&i.setValueForProperty(t,"checked",this.props.checked||!1);var e=o.getValue(this);null!=e&&i.setValueForProperty(t,"value",""+e)},_handleChange:function(t){var e,r=o.getOnChange(this);r&&(e=r.call(this,t)),h.asap(n,this);var i=this.props.name;if("radio"===this.props.type&&null!=i){for(var a=this.getDOMNode(),s=a;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),l=0,p=u.length;p>l;l++){var d=u[l];if(d!==a&&d.form===a.form){var v=c.getID(d);f(v);var m=g[v];f(m),h.asap(n,m)}}}return e}});e.exports=v},{"./AutoFocusMixin":2,"./DOMPropertyOperations":13,"./LinkedValueUtils":26,"./Object.assign":29,"./ReactBrowserComponentMixin":32,"./ReactCompositeComponent":40,"./ReactDOM":43,"./ReactElement":56,"./ReactMount":68,"./ReactUpdates":88,"./invariant":137}],50:[function(t,e){"use strict";var n=t("./ReactBrowserComponentMixin"),r=t("./ReactCompositeComponent"),i=t("./ReactElement"),o=t("./ReactDOM"),a=(t("./warning"),i.createFactory(o.option.type)),s=r.createClass({displayName:"ReactDOMOption",mixins:[n],componentWillMount:function(){},render:function(){return a(this.props,this.props.children)}});e.exports=s},{"./ReactBrowserComponentMixin":32,"./ReactCompositeComponent":40,"./ReactDOM":43,"./ReactElement":56,"./warning":155}],51:[function(t,e){"use strict";function n(){this.isMounted()&&(this.setState({value:this._pendingValue}),this._pendingValue=0)}function r(t,e){if(null!=t[e])if(t.multiple){if(!Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(t[e]))return new Error("The `"+e+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function i(t,e){var n,r,i,o=t.props.multiple,a=null!=e?e:t.state.value,s=t.getDOMNode().options;if(o)for(n={},r=0,i=a.length;i>r;++r)n[""+a[r]]=!0;else n=""+a;for(r=0,i=s.length;i>r;r++){var u=o?n.hasOwnProperty(s[r].value):s[r].value===n;u!==s[r].selected&&(s[r].selected=u)}}var o=t("./AutoFocusMixin"),a=t("./LinkedValueUtils"),s=t("./ReactBrowserComponentMixin"),u=t("./ReactCompositeComponent"),l=t("./ReactElement"),c=t("./ReactDOM"),h=t("./ReactUpdates"),p=t("./Object.assign"),f=l.createFactory(c.select.type),d=u.createClass({displayName:"ReactDOMSelect",mixins:[o,a.Mixin,s],propTypes:{defaultValue:r,value:r},getInitialState:function(){return{value:this.props.defaultValue||(this.props.multiple?[]:"")}},componentWillMount:function(){this._pendingValue=null},componentWillReceiveProps:function(t){!this.props.multiple&&t.multiple?this.setState({value:[this.state.value]}):this.props.multiple&&!t.multiple&&this.setState({value:this.state.value[0]})},render:function(){var t=p({},this.props);return t.onChange=this._handleChange,t.value=null,f(t,this.props.children)},componentDidMount:function(){i(this,a.getValue(this))},componentDidUpdate:function(t){var e=a.getValue(this),n=!!t.multiple,r=!!this.props.multiple;(null!=e||n!==r)&&i(this,e)},_handleChange:function(t){var e,r=a.getOnChange(this);r&&(e=r.call(this,t));var i;if(this.props.multiple){i=[];for(var o=t.target.options,s=0,u=o.length;u>s;s++)o[s].selected&&i.push(o[s].value)}else i=t.target.value;return this._pendingValue=i,h.asap(n,this),e}});e.exports=d},{"./AutoFocusMixin":2,"./LinkedValueUtils":26,"./Object.assign":29,"./ReactBrowserComponentMixin":32,"./ReactCompositeComponent":40,"./ReactDOM":43,"./ReactElement":56,"./ReactUpdates":88}],52:[function(t,e){"use strict";function n(t,e,n,r){return t===n&&e===r}function r(t){var e=document.selection,n=e.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(t),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function i(t){var e=window.getSelection&&window.getSelection();if(!e||0===e.rangeCount)return null;var r=e.anchorNode,i=e.anchorOffset,o=e.focusNode,a=e.focusOffset,s=e.getRangeAt(0),u=n(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(t),c.setEnd(s.startContainer,s.startOffset);var h=n(c.startContainer,c.startOffset,c.endContainer,c.endOffset),p=h?0:c.toString().length,f=p+l,d=document.createRange();d.setStart(r,i),d.setEnd(o,a);var g=d.collapsed;return{start:g?f:p,end:g?p:f}}function o(t,e){var n,r,i=document.selection.createRange().duplicate();"undefined"==typeof e.end?(n=e.start,r=n):e.start>e.end?(n=e.end,r=e.start):(n=e.start,r=e.end),i.moveToElementText(t),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function a(t,e){if(window.getSelection){var n=window.getSelection(),r=t[l()].length,i=Math.min(e.start,r),o="undefined"==typeof e.end?i:Math.min(e.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=u(t,i),c=u(t,o);if(s&&c){var h=document.createRange();h.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(h),n.extend(c.node,c.offset)):(h.setEnd(c.node,c.offset),n.addRange(h))}}}var s=t("./ExecutionEnvironment"),u=t("./getNodeForCharacterOffset"),l=t("./getTextContentAccessor"),c=s.canUseDOM&&document.selection,h={getOffsets:c?r:i,setOffsets:c?o:a};e.exports=h},{"./ExecutionEnvironment":23,"./getNodeForCharacterOffset":130,"./getTextContentAccessor":132}],53:[function(t,e){"use strict";function n(){this.isMounted()&&this.forceUpdate()}var r=t("./AutoFocusMixin"),i=t("./DOMPropertyOperations"),o=t("./LinkedValueUtils"),a=t("./ReactBrowserComponentMixin"),s=t("./ReactCompositeComponent"),u=t("./ReactElement"),l=t("./ReactDOM"),c=t("./ReactUpdates"),h=t("./Object.assign"),p=t("./invariant"),f=(t("./warning"),u.createFactory(l.textarea.type)),d=s.createClass({displayName:"ReactDOMTextarea",mixins:[r,o.Mixin,a],getInitialState:function(){var t=this.props.defaultValue,e=this.props.children;null!=e&&(p(null==t),Array.isArray(e)&&(p(e.length<=1),e=e[0]),t=""+e),null==t&&(t="");var n=o.getValue(this);return{initialValue:""+(null!=n?n:t)}},render:function(){var t=h({},this.props);return p(null==t.dangerouslySetInnerHTML),t.defaultValue=null,t.value=null,t.onChange=this._handleChange,f(t,this.state.initialValue)},componentDidUpdate:function(){var t=o.getValue(this);if(null!=t){var e=this.getDOMNode();i.setValueForProperty(e,"value",""+t)}},_handleChange:function(t){var e,r=o.getOnChange(this);return r&&(e=r.call(this,t)),c.asap(n,this),e}});e.exports=d},{"./AutoFocusMixin":2,"./DOMPropertyOperations":13,"./LinkedValueUtils":26,"./Object.assign":29,"./ReactBrowserComponentMixin":32,"./ReactCompositeComponent":40,"./ReactDOM":43,"./ReactElement":56,"./ReactUpdates":88,"./invariant":137,"./warning":155}],54:[function(t,e){"use strict";function n(){this.reinitializeTransaction()}var r=t("./ReactUpdates"),i=t("./Transaction"),o=t("./Object.assign"),a=t("./emptyFunction"),s={initialize:a,close:function(){h.isBatchingUpdates=!1}},u={initialize:a,close:r.flushBatchedUpdates.bind(r)},l=[u,s];o(n.prototype,i.Mixin,{getTransactionWrappers:function(){return l}});var c=new n,h={isBatchingUpdates:!1,batchedUpdates:function(t,e,n){var r=h.isBatchingUpdates;h.isBatchingUpdates=!0,r?t(e,n):c.perform(t,null,e,n)}};e.exports=h},{"./Object.assign":29,"./ReactUpdates":88,"./Transaction":104,"./emptyFunction":118}],55:[function(t,e){"use strict";function n(){_.EventEmitter.injectReactEventListener(w),_.EventPluginHub.injectEventPluginOrder(s),_.EventPluginHub.injectInstanceHandle(S),_.EventPluginHub.injectMount(C),_.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:R,EnterLeaveEventPlugin:u,ChangeEventPlugin:i,CompositionEventPlugin:a,MobileSafariClickEventPlugin:h,SelectEventPlugin:T,BeforeInputEventPlugin:r}),_.NativeComponent.injectGenericComponentClass(g),_.NativeComponent.injectComponentClasses({button:v,form:m,img:y,input:M,option:b,select:E,textarea:x,html:O("html"),head:O("head"),body:O("body")}),_.CompositeComponent.injectMixin(p),_.DOMProperty.injectDOMPropertyConfig(c),_.DOMProperty.injectDOMPropertyConfig(k),_.EmptyComponent.injectEmptyComponent("noscript"),_.Updates.injectReconcileTransaction(f.ReactReconcileTransaction),_.Updates.injectBatchingStrategy(d),_.RootIndex.injectCreateReactRootIndex(l.canUseDOM?o.createReactRootIndex:D.createReactRootIndex),_.Component.injectEnvironment(f)}var r=t("./BeforeInputEventPlugin"),i=t("./ChangeEventPlugin"),o=t("./ClientReactRootIndex"),a=t("./CompositionEventPlugin"),s=t("./DefaultEventPluginOrder"),u=t("./EnterLeaveEventPlugin"),l=t("./ExecutionEnvironment"),c=t("./HTMLDOMPropertyConfig"),h=t("./MobileSafariClickEventPlugin"),p=t("./ReactBrowserComponentMixin"),f=t("./ReactComponentBrowserEnvironment"),d=t("./ReactDefaultBatchingStrategy"),g=t("./ReactDOMComponent"),v=t("./ReactDOMButton"),m=t("./ReactDOMForm"),y=t("./ReactDOMImg"),M=t("./ReactDOMInput"),b=t("./ReactDOMOption"),E=t("./ReactDOMSelect"),x=t("./ReactDOMTextarea"),w=t("./ReactEventListener"),_=t("./ReactInjection"),S=t("./ReactInstanceHandles"),C=t("./ReactMount"),T=t("./SelectEventPlugin"),D=t("./ServerReactRootIndex"),R=t("./SimpleEventPlugin"),k=t("./SVGDOMPropertyConfig"),O=t("./createFullPageComponent");e.exports={inject:n}},{"./BeforeInputEventPlugin":3,"./ChangeEventPlugin":8,"./ClientReactRootIndex":9,"./CompositionEventPlugin":10,"./DefaultEventPluginOrder":15,"./EnterLeaveEventPlugin":16,"./ExecutionEnvironment":23,"./HTMLDOMPropertyConfig":24,"./MobileSafariClickEventPlugin":28,"./ReactBrowserComponentMixin":32,"./ReactComponentBrowserEnvironment":38,"./ReactDOMButton":44,"./ReactDOMComponent":45,"./ReactDOMForm":46,"./ReactDOMImg":48,"./ReactDOMInput":49,"./ReactDOMOption":50,"./ReactDOMSelect":51,"./ReactDOMTextarea":53,"./ReactDefaultBatchingStrategy":54,"./ReactEventListener":61,"./ReactInjection":62,"./ReactInstanceHandles":64,"./ReactMount":68,"./SVGDOMPropertyConfig":89,"./SelectEventPlugin":90,"./ServerReactRootIndex":91,"./SimpleEventPlugin":92,"./createFullPageComponent":113}],56:[function(t,e){"use strict";var n=t("./ReactContext"),r=t("./ReactCurrentOwner"),i=(t("./warning"),{key:!0,ref:!0}),o=function(t,e,n,r,i,o){this.type=t,this.key=e,this.ref=n,this._owner=r,this._context=i,this.props=o};o.prototype={_isReactElement:!0},o.createElement=function(t,e,a){var s,u={},l=null,c=null;if(null!=e){c=void 0===e.ref?null:e.ref,l=null==e.key?null:""+e.key;for(s in e)e.hasOwnProperty(s)&&!i.hasOwnProperty(s)&&(u[s]=e[s])}var h=arguments.length-2;if(1===h)u.children=a;else if(h>1){for(var p=Array(h),f=0;h>f;f++)p[f]=arguments[f+2];u.children=p}if(t&&t.defaultProps){var d=t.defaultProps;for(s in d)"undefined"==typeof u[s]&&(u[s]=d[s])}return new o(t,l,c,r.current,n.current,u)},o.createFactory=function(t){var e=o.createElement.bind(null,t);return e.type=t,e},o.cloneAndReplaceProps=function(t,e){var n=new o(t.type,t.key,t.ref,t._owner,t._context,e);return n},o.isValidElement=function(t){var e=!(!t||!t._isReactElement);return e},e.exports=o},{"./ReactContext":41,"./ReactCurrentOwner":42,"./warning":155}],57:[function(t,e){"use strict";function n(){var t=h.current;return t&&t.constructor.displayName||void 0}function r(t,e){t._store.validated||null!=t.key||(t._store.validated=!0,o("react_key_warning",'Each child in an array should have a unique "key" prop.',t,e))}function i(t,e,n){v.test(t)&&o("react_numeric_key_warning","Child objects should have non-numeric keys so ordering is preserved.",e,n)}function o(t,e,r,i){var o=n(),a=i.displayName,s=o||a,u=f[t];if(!u.hasOwnProperty(s)){u[s]=!0,e+=o?" Check the render method of "+o+".":" Check the renderComponent call using <"+a+">.";var l=null;r._owner&&r._owner!==h.current&&(l=r._owner.constructor.displayName,e+=" It was passed a child from "+l+"."),e+=" See http://fb.me/react-warning-keys for more information.",p(t,{component:s,componentOwner:l}),console.warn(e)}}function a(){var t=n()||"";d.hasOwnProperty(t)||(d[t]=!0,p("react_object_map_children"))}function s(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++){var o=t[n];l.isValidElement(o)&&r(o,e)}else if(l.isValidElement(t))t._store.validated=!0;else if(t&&"object"==typeof t){a();for(var s in t)i(s,t[s],e)}}function u(t,e,n,r){for(var i in e)if(e.hasOwnProperty(i)){var o;try{o=e[i](n,i,t,r)}catch(a){o=a}o instanceof Error&&!(o.message in g)&&(g[o.message]=!0,p("react_failed_descriptor_type_check",{message:o.message}))}}var l=t("./ReactElement"),c=t("./ReactPropTypeLocations"),h=t("./ReactCurrentOwner"),p=t("./monitorCodeUse"),f=(t("./warning"),{react_key_warning:{},react_numeric_key_warning:{}}),d={},g={},v=/^\d+$/,m={createElement:function(t){var e=l.createElement.apply(this,arguments);if(null==e)return e;for(var n=2;n<arguments.length;n++)s(arguments[n],t);if(t){var r=t.displayName;t.propTypes&&u(r,t.propTypes,e.props,c.prop),t.contextTypes&&u(r,t.contextTypes,e._context,c.context)}return e},createFactory:function(t){var e=m.createElement.bind(null,t);return e.type=t,e}};e.exports=m},{"./ReactCurrentOwner":42,"./ReactElement":56,"./ReactPropTypeLocations":76,"./monitorCodeUse":147,"./warning":155}],58:[function(t,e){"use strict";function n(){return u(a),a()}function r(t){l[t]=!0}function i(t){delete l[t]}function o(t){return l[t]}var a,s=t("./ReactElement"),u=t("./invariant"),l={},c={injectEmptyComponent:function(t){a=s.createFactory(t)}},h={deregisterNullComponentID:i,getEmptyComponent:n,injection:c,isNullComponentID:o,registerNullComponentID:r};e.exports=h},{"./ReactElement":56,"./invariant":137}],59:[function(t,e){"use strict";var n={guard:function(t){return t}};e.exports=n},{}],60:[function(t,e){"use strict";function n(t){r.enqueueEvents(t),r.processEventQueue()}var r=t("./EventPluginHub"),i={handleTopLevel:function(t,e,i,o){var a=r.extractEvents(t,e,i,o);n(a)}};e.exports=i},{"./EventPluginHub":19}],61:[function(t,e){"use strict";function n(t){var e=c.getID(t),n=l.getReactRootIDFromNodeID(e),r=c.findReactContainerForID(n),i=c.getFirstReactDOM(r);return i}function r(t,e){this.topLevelType=t,this.nativeEvent=e,this.ancestors=[]}function i(t){for(var e=c.getFirstReactDOM(f(t.nativeEvent))||window,r=e;r;)t.ancestors.push(r),r=n(r);for(var i=0,o=t.ancestors.length;o>i;i++){e=t.ancestors[i];var a=c.getID(e)||"";g._handleTopLevel(t.topLevelType,e,a,t.nativeEvent)}}function o(t){var e=d(window);t(e)}var a=t("./EventListener"),s=t("./ExecutionEnvironment"),u=t("./PooledClass"),l=t("./ReactInstanceHandles"),c=t("./ReactMount"),h=t("./ReactUpdates"),p=t("./Object.assign"),f=t("./getEventTarget"),d=t("./getUnboundedScrollPosition");p(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(r,u.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:s.canUseDOM?window:null,setHandleTopLevel:function(t){g._handleTopLevel=t},setEnabled:function(t){g._enabled=!!t},isEnabled:function(){return g._enabled},trapBubbledEvent:function(t,e,n){var r=n;return r?a.listen(r,e,g.dispatchEvent.bind(null,t)):void 0},trapCapturedEvent:function(t,e,n){var r=n;return r?a.capture(r,e,g.dispatchEvent.bind(null,t)):void 0},monitorScrollValue:function(t){var e=o.bind(null,t);a.listen(window,"scroll",e),a.listen(window,"resize",e)},dispatchEvent:function(t,e){if(g._enabled){var n=r.getPooled(t,e);try{h.batchedUpdates(i,n)}finally{r.release(n)}}}};e.exports=g},{"./EventListener":18,"./ExecutionEnvironment":23,"./Object.assign":29,"./PooledClass":30,"./ReactInstanceHandles":64,"./ReactMount":68,"./ReactUpdates":88,"./getEventTarget":128,"./getUnboundedScrollPosition":133}],62:[function(t,e){"use strict";var n=t("./DOMProperty"),r=t("./EventPluginHub"),i=t("./ReactComponent"),o=t("./ReactCompositeComponent"),a=t("./ReactEmptyComponent"),s=t("./ReactBrowserEventEmitter"),u=t("./ReactNativeComponent"),l=t("./ReactPerf"),c=t("./ReactRootIndex"),h=t("./ReactUpdates"),p={Component:i.injection,CompositeComponent:o.injection,DOMProperty:n.injection,EmptyComponent:a.injection,EventPluginHub:r.injection,EventEmitter:s.injection,NativeComponent:u.injection,Perf:l.injection,RootIndex:c.injection,Updates:h.injection};e.exports=p},{"./DOMProperty":12,"./EventPluginHub":19,"./ReactBrowserEventEmitter":33,"./ReactComponent":37,"./ReactCompositeComponent":40,"./ReactEmptyComponent":58,"./ReactNativeComponent":71,"./ReactPerf":73,"./ReactRootIndex":80,"./ReactUpdates":88}],63:[function(t,e){"use strict";function n(t){return i(document.documentElement,t)}var r=t("./ReactDOMSelection"),i=t("./containsNode"),o=t("./focusNode"),a=t("./getActiveElement"),s={hasSelectionCapabilities:function(t){return t&&("INPUT"===t.nodeName&&"text"===t.type||"TEXTAREA"===t.nodeName||"true"===t.contentEditable)},getSelectionInformation:function(){var t=a();return{focusedElem:t,selectionRange:s.hasSelectionCapabilities(t)?s.getSelection(t):null}},restoreSelection:function(t){var e=a(),r=t.focusedElem,i=t.selectionRange;e!==r&&n(r)&&(s.hasSelectionCapabilities(r)&&s.setSelection(r,i),o(r))},getSelection:function(t){var e;if("selectionStart"in t)e={start:t.selectionStart,end:t.selectionEnd};else if(document.selection&&"INPUT"===t.nodeName){var n=document.selection.createRange();n.parentElement()===t&&(e={start:-n.moveStart("character",-t.value.length),end:-n.moveEnd("character",-t.value.length)})}else e=r.getOffsets(t);return e||{start:0,end:0}},setSelection:function(t,e){var n=e.start,i=e.end;if("undefined"==typeof i&&(i=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(i,t.value.length);else if(document.selection&&"INPUT"===t.nodeName){var o=t.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(t,e)}};e.exports=s},{"./ReactDOMSelection":52,"./containsNode":111,"./focusNode":122,"./getActiveElement":124}],64:[function(t,e){"use strict";function n(t){return p+t.toString(36)}function r(t,e){return t.charAt(e)===p||e===t.length}function i(t){return""===t||t.charAt(0)===p&&t.charAt(t.length-1)!==p}function o(t,e){return 0===e.indexOf(t)&&r(e,t.length)}function a(t){return t?t.substr(0,t.lastIndexOf(p)):""}function s(t,e){if(h(i(t)&&i(e)),h(o(t,e)),t===e)return t;for(var n=t.length+f,a=n;a<e.length&&!r(e,a);a++);return e.substr(0,a)}function u(t,e){var n=Math.min(t.length,e.length);if(0===n)return"";for(var o=0,a=0;n>=a;a++)if(r(t,a)&&r(e,a))o=a;else if(t.charAt(a)!==e.charAt(a))break;var s=t.substr(0,o);return h(i(s)),s}function l(t,e,n,r,i,u){t=t||"",e=e||"",h(t!==e);var l=o(e,t);h(l||o(t,e));for(var c=0,p=l?a:s,f=t;;f=p(f,e)){var g;if(i&&f===t||u&&f===e||(g=n(f,l,r)),g===!1||f===e)break;h(c++<d)}}var c=t("./ReactRootIndex"),h=t("./invariant"),p=".",f=p.length,d=100,g={createReactRootID:function(){return n(c.createReactRootIndex())},createReactID:function(t,e){return t+e},getReactRootIDFromNodeID:function(t){if(t&&t.charAt(0)===p&&t.length>1){var e=t.indexOf(p,1);return e>-1?t.substr(0,e):t}return null},traverseEnterLeave:function(t,e,n,r,i){var o=u(t,e);o!==t&&l(t,o,n,r,!1,!0),o!==e&&l(o,e,n,i,!0,!1)},traverseTwoPhase:function(t,e,n){t&&(l("",t,e,n,!0,!1),l(t,"",e,n,!1,!0))},traverseAncestors:function(t,e,n){l("",t,e,n,!0,!1)},_getFirstCommonAncestorID:u,_getNextDescendantID:s,isAncestorIDOf:o,SEPARATOR:p};e.exports=g},{"./ReactRootIndex":80,"./invariant":137}],65:[function(t,e){"use strict";function n(t,e){if("function"==typeof e)for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if("function"==typeof r){var i=r.bind(e);for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);t[n]=i}else t[n]=r}}var r=(t("./ReactCurrentOwner"),t("./invariant")),i=(t("./monitorCodeUse"),t("./warning"),{}),o={},a={};a.wrapCreateFactory=function(t){var e=function(e){return"function"!=typeof e?t(e):e.isReactNonLegacyFactory?t(e.type):e.isReactLegacyFactory?t(e.type):e};return e},a.wrapCreateElement=function(t){var e=function(e){if("function"!=typeof e)return t.apply(this,arguments);var n;return e.isReactNonLegacyFactory?(n=Array.prototype.slice.call(arguments,0),n[0]=e.type,t.apply(this,n)):e.isReactLegacyFactory?(e._isMockFunction&&(e.type._mockedReactClassConstructor=e),n=Array.prototype.slice.call(arguments,0),n[0]=e.type,t.apply(this,n)):e.apply(null,Array.prototype.slice.call(arguments,1))};return e},a.wrapFactory=function(t){r("function"==typeof t);var e=function(){return t.apply(this,arguments)};return n(e,t.type),e.isReactLegacyFactory=i,e.type=t.type,e},a.markNonLegacyFactory=function(t){return t.isReactNonLegacyFactory=o,t},a.isValidFactory=function(t){return"function"==typeof t&&t.isReactLegacyFactory===i},a.isValidClass=function(t){return a.isValidFactory(t)},a._isLegacyCallWarningEnabled=!0,e.exports=a},{"./ReactCurrentOwner":42,"./invariant":137,"./monitorCodeUse":147,"./warning":155}],66:[function(t,e){"use strict";function n(t,e){this.value=t,this.requestChange=e}function r(t){var e={value:"undefined"==typeof t?i.PropTypes.any.isRequired:t.isRequired,requestChange:i.PropTypes.func.isRequired};return i.PropTypes.shape(e)}var i=t("./React");n.PropTypes={link:r},e.exports=n},{"./React":31}],67:[function(t,e){"use strict";var n=t("./adler32"),r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(t){var e=n(t);return t.replace(">"," "+r.CHECKSUM_ATTR_NAME+'="'+e+'">')},canReuseMarkup:function(t,e){var i=e.getAttribute(r.CHECKSUM_ATTR_NAME);i=i&&parseInt(i,10);var o=n(t);return o===i}};e.exports=r},{"./adler32":107}],68:[function(t,e){"use strict";function n(t){var e=M(t);return e&&P.getID(e)}function r(t){var e=i(t);if(e)if(C.hasOwnProperty(e)){var n=C[e];n!==t&&(E(!s(n,e)),C[e]=t)}else C[e]=t;return e}function i(t){return t&&t.getAttribute&&t.getAttribute(S)||""}function o(t,e){var n=i(t);n!==e&&delete C[n],t.setAttribute(S,e),C[e]=t}function a(t){return C.hasOwnProperty(t)&&s(C[t],t)||(C[t]=P.findReactNodeByID(t)),C[t]}function s(t,e){if(t){E(i(t)===e);var n=P.findReactContainerForID(e);if(n&&m(n,t))return!0}return!1}function u(t){delete C[t]}function l(t){var e=C[t];return e&&s(e,t)?void(N=e):!1}function c(t){N=null,g.traverseAncestors(t,l);var e=N;return N=null,e}var h=t("./DOMProperty"),p=t("./ReactBrowserEventEmitter"),f=(t("./ReactCurrentOwner"),t("./ReactElement")),d=t("./ReactLegacyElement"),g=t("./ReactInstanceHandles"),v=t("./ReactPerf"),m=t("./containsNode"),y=t("./deprecated"),M=t("./getReactRootElementInContainer"),b=t("./instantiateReactComponent"),E=t("./invariant"),x=t("./shouldUpdateReactComponent"),w=(t("./warning"),d.wrapCreateElement(f.createElement)),_=g.SEPARATOR,S=h.ID_ATTRIBUTE_NAME,C={},T=1,D=9,R={},k={},O=[],N=null,P={_instancesByReactRootID:R,scrollMonitor:function(t,e){e()},_updateRootComponent:function(t,e,n,r){var i=e.props;return P.scrollMonitor(n,function(){t.replaceProps(i,r)}),t},_registerComponent:function(t,e){E(e&&(e.nodeType===T||e.nodeType===D)),p.ensureScrollValueMonitoring();var n=P.registerContainer(e);return R[n]=t,n},_renderNewRootComponent:v.measure("ReactMount","_renderNewRootComponent",function(t,e,n){var r=b(t,null),i=P._registerComponent(r,e);return r.mountComponentIntoNode(i,e,n),r}),render:function(t,e,r){E(f.isValidElement(t));var i=R[n(e)];if(i){var o=i._currentElement;if(x(o,t))return P._updateRootComponent(i,t,e,r);P.unmountComponentAtNode(e)}var a=M(e),s=a&&P.isRenderedByReact(a),u=s&&!i,l=P._renderNewRootComponent(t,e,u);return r&&r.call(l),l},constructAndRenderComponent:function(t,e,n){var r=w(t,e);return P.render(r,n)},constructAndRenderComponentByID:function(t,e,n){var r=document.getElementById(n);return E(r),P.constructAndRenderComponent(t,e,r)},registerContainer:function(t){var e=n(t);return e&&(e=g.getReactRootIDFromNodeID(e)),e||(e=g.createReactRootID()),k[e]=t,e},unmountComponentAtNode:function(t){var e=n(t),r=R[e];return r?(P.unmountComponentFromNode(r,t),delete R[e],delete k[e],!0):!1},unmountComponentFromNode:function(t,e){for(t.unmountComponent(),e.nodeType===D&&(e=e.documentElement);e.lastChild;)e.removeChild(e.lastChild)},findReactContainerForID:function(t){var e=g.getReactRootIDFromNodeID(t),n=k[e];return n},findReactNodeByID:function(t){var e=P.findReactContainerForID(t);return P.findComponentRoot(e,t)},isRenderedByReact:function(t){if(1!==t.nodeType)return!1;var e=P.getID(t);return e?e.charAt(0)===_:!1},getFirstReactDOM:function(t){for(var e=t;e&&e.parentNode!==e;){if(P.isRenderedByReact(e))return e;e=e.parentNode}return null},findComponentRoot:function(t,e){var n=O,r=0,i=c(e)||t;for(n[0]=i.firstChild,n.length=1;r<n.length;){for(var o,a=n[r++];a;){var s=P.getID(a);s?e===s?o=a:g.isAncestorIDOf(s,e)&&(n.length=r=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,E(!1)},getReactRootID:n,getID:r,setID:o,getNode:a,purgeID:u};P.renderComponent=y("ReactMount","renderComponent","render",this,P.render),e.exports=P},{"./DOMProperty":12,"./ReactBrowserEventEmitter":33,"./ReactCurrentOwner":42,"./ReactElement":56,"./ReactInstanceHandles":64,"./ReactLegacyElement":65,"./ReactPerf":73,"./containsNode":111,"./deprecated":117,"./getReactRootElementInContainer":131,"./instantiateReactComponent":136,"./invariant":137,"./shouldUpdateReactComponent":151,"./warning":155}],69:[function(t,e){"use strict";function n(t,e,n){d.push({parentID:t,parentNode:null,type:l.INSERT_MARKUP,markupIndex:g.push(e)-1,textContent:null,fromIndex:null,toIndex:n})}function r(t,e,n){d.push({parentID:t,parentNode:null,type:l.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:e,toIndex:n})}function i(t,e){d.push({parentID:t,parentNode:null,type:l.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:e,toIndex:null})}function o(t,e){d.push({parentID:t,parentNode:null,type:l.TEXT_CONTENT,markupIndex:null,textContent:e,fromIndex:null,toIndex:null})}function a(){d.length&&(u.BackendIDOperations.dangerouslyProcessChildrenUpdates(d,g),s())}function s(){d.length=0,g.length=0}var u=t("./ReactComponent"),l=t("./ReactMultiChildUpdateTypes"),c=t("./flattenChildren"),h=t("./instantiateReactComponent"),p=t("./shouldUpdateReactComponent"),f=0,d=[],g=[],v={Mixin:{mountChildren:function(t,e){var n=c(t),r=[],i=0;this._renderedChildren=n;for(var o in n){var a=n[o];if(n.hasOwnProperty(o)){var s=h(a,null);n[o]=s;var u=this._rootNodeID+o,l=s.mountComponent(u,e,this._mountDepth+1);s._mountIndex=i,r.push(l),i++}}return r},updateTextContent:function(t){f++;var e=!0;try{var n=this._renderedChildren;for(var r in n)n.hasOwnProperty(r)&&this._unmountChildByName(n[r],r);this.setTextContent(t),e=!1}finally{f--,f||(e?s():a())}},updateChildren:function(t,e){f++;var n=!0;try{this._updateChildren(t,e),n=!1}finally{f--,f||(n?s():a())}},_updateChildren:function(t,e){var n=c(t),r=this._renderedChildren;if(n||r){var i,o=0,a=0;for(i in n)if(n.hasOwnProperty(i)){var s=r&&r[i],u=s&&s._currentElement,l=n[i];if(p(u,l))this.moveChild(s,a,o),o=Math.max(s._mountIndex,o),s.receiveComponent(l,e),s._mountIndex=a;else{s&&(o=Math.max(s._mountIndex,o),this._unmountChildByName(s,i));var f=h(l,null);this._mountChildByNameAtIndex(f,i,a,e)}a++}for(i in r)!r.hasOwnProperty(i)||n&&n[i]||this._unmountChildByName(r[i],i)}},unmountChildren:function(){var t=this._renderedChildren;for(var e in t){var n=t[e];n.unmountComponent&&n.unmountComponent()}this._renderedChildren=null},moveChild:function(t,e,n){t._mountIndex<n&&r(this._rootNodeID,t._mountIndex,e)},createChild:function(t,e){n(this._rootNodeID,e,t._mountIndex)},removeChild:function(t){i(this._rootNodeID,t._mountIndex)},setTextContent:function(t){o(this._rootNodeID,t)},_mountChildByNameAtIndex:function(t,e,n,r){var i=this._rootNodeID+e,o=t.mountComponent(i,r,this._mountDepth+1);t._mountIndex=n,this.createChild(t,o),this._renderedChildren=this._renderedChildren||{},this._renderedChildren[e]=t},_unmountChildByName:function(t,e){this.removeChild(t),t._mountIndex=null,t.unmountComponent(),delete this._renderedChildren[e]}}};e.exports=v},{"./ReactComponent":37,"./ReactMultiChildUpdateTypes":70,"./flattenChildren":121,"./instantiateReactComponent":136,"./shouldUpdateReactComponent":151}],70:[function(t,e){"use strict";var n=t("./keyMirror"),r=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});e.exports=r},{"./keyMirror":143}],71:[function(t,e){"use strict";function n(t,e,n){var r=a[t];return null==r?(i(o),new o(t,e)):n===t?(i(o),new o(t,e)):new r.type(e)}var r=t("./Object.assign"),i=t("./invariant"),o=null,a={},s={injectGenericComponentClass:function(t){o=t},injectComponentClasses:function(t){r(a,t)}},u={createInstanceForTag:n,injection:s};e.exports=u},{"./Object.assign":29,"./invariant":137}],72:[function(t,e){"use strict";var n=t("./emptyObject"),r=t("./invariant"),i={isValidOwner:function(t){return!(!t||"function"!=typeof t.attachRef||"function"!=typeof t.detachRef)},addComponentAsRefTo:function(t,e,n){r(i.isValidOwner(n)),n.attachRef(e,t)},removeComponentAsRefFrom:function(t,e,n){r(i.isValidOwner(n)),n.refs[e]===t&&n.detachRef(e)},Mixin:{construct:function(){this.refs=n},attachRef:function(t,e){r(e.isOwnedBy(this));var i=this.refs===n?this.refs={}:this.refs;i[t]=e},detachRef:function(t){delete this.refs[t]}}};e.exports=i},{"./emptyObject":119,"./invariant":137}],73:[function(t,e){"use strict";function n(t,e,n){return n}var r={enableMeasure:!1,storedMeasure:n,measure:function(t,e,n){return n},injection:{injectMeasure:function(t){r.storedMeasure=t}}};e.exports=r},{}],74:[function(t,e){"use strict";function n(t){return function(e,n,r){e[n]=e.hasOwnProperty(n)?t(e[n],r):r}}function r(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=l[n];r&&l.hasOwnProperty(n)?r(t,n,e[n]):t.hasOwnProperty(n)||(t[n]=e[n])}return t}var i=t("./Object.assign"),o=t("./emptyFunction"),a=t("./invariant"),s=t("./joinClasses"),u=(t("./warning"),n(function(t,e){return i({},e,t)})),l={children:o,className:n(s),style:u},c={TransferStrategies:l,mergeProps:function(t,e){return r(i({},t),e)},Mixin:{transferPropsTo:function(t){return a(t._owner===this),r(t.props,this.props),t}}};e.exports=c},{"./Object.assign":29,"./emptyFunction":118,"./invariant":137,"./joinClasses":142,"./warning":155}],75:[function(t,e){"use strict";var n={};e.exports=n},{}],76:[function(t,e){"use strict";var n=t("./keyMirror"),r=n({prop:null,context:null,childContext:null});e.exports=r},{"./keyMirror":143}],77:[function(t,e){"use strict";function n(t){function e(e,n,r,i,o){if(i=i||b,null!=n[r])return t(n,r,i,o);var a=m[o];return e?new Error("Required "+a+" `"+r+"` was not specified in "+("`"+i+"`.")):void 0}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function r(t){function e(e,n,r,i){var o=e[n],a=d(o);if(a!==t){var s=m[i],u=g(o);return new Error("Invalid "+s+" `"+n+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `"+t+"`."))}}return n(e)}function i(){return n(M.thatReturns())}function o(t){function e(e,n,r,i){var o=e[n];if(!Array.isArray(o)){var a=m[i],s=d(o);return new Error("Invalid "+a+" `"+n+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var u=0;u<o.length;u++){var l=t(o,u,r,i);if(l instanceof Error)return l}}return n(e)}function a(){function t(t,e,n,r){if(!v.isValidElement(t[e])){var i=m[r];return new Error("Invalid "+i+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactElement."))}}return n(t)}function s(t){function e(e,n,r,i){if(!(e[n]instanceof t)){var o=m[i],a=t.name||b;return new Error("Invalid "+o+" `"+n+"` supplied to "+("`"+r+"`, expected instance of `"+a+"`."))}}return n(e)}function u(t){function e(e,n,r,i){for(var o=e[n],a=0;a<t.length;a++)if(o===t[a])return;var s=m[i],u=JSON.stringify(t);return new Error("Invalid "+s+" `"+n+"` of value `"+o+"` "+("supplied to `"+r+"`, expected one of "+u+"."))}return n(e)}function l(t){function e(e,n,r,i){var o=e[n],a=d(o);
if("object"!==a){var s=m[i];return new Error("Invalid "+s+" `"+n+"` of type "+("`"+a+"` supplied to `"+r+"`, expected an object."))}for(var u in o)if(o.hasOwnProperty(u)){var l=t(o,u,r,i);if(l instanceof Error)return l}}return n(e)}function c(t){function e(e,n,r,i){for(var o=0;o<t.length;o++){var a=t[o];if(null==a(e,n,r,i))return}var s=m[i];return new Error("Invalid "+s+" `"+n+"` supplied to "+("`"+r+"`."))}return n(e)}function h(){function t(t,e,n,r){if(!f(t[e])){var i=m[r];return new Error("Invalid "+i+" `"+e+"` supplied to "+("`"+n+"`, expected a ReactNode."))}}return n(t)}function p(t){function e(e,n,r,i){var o=e[n],a=d(o);if("object"!==a){var s=m[i];return new Error("Invalid "+s+" `"+n+"` of type `"+a+"` "+("supplied to `"+r+"`, expected `object`."))}for(var u in t){var l=t[u];if(l){var c=l(o,u,r,i);if(c)return c}}}return n(e,"expected `object`")}function f(t){switch(typeof t){case"number":case"string":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(f);if(v.isValidElement(t))return!0;for(var e in t)if(!f(t[e]))return!1;return!0;default:return!1}}function d(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":e}function g(t){var e=d(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}var v=t("./ReactElement"),m=t("./ReactPropTypeLocationNames"),y=t("./deprecated"),M=t("./emptyFunction"),b="<<anonymous>>",E=a(),x=h(),w={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:i(),arrayOf:o,element:E,instanceOf:s,node:x,objectOf:l,oneOf:u,oneOfType:c,shape:p,component:y("React.PropTypes","component","element",this,E),renderable:y("React.PropTypes","renderable","node",this,x)};e.exports=w},{"./ReactElement":56,"./ReactPropTypeLocationNames":75,"./deprecated":117,"./emptyFunction":118}],78:[function(t,e){"use strict";function n(){this.listenersToPut=[]}var r=t("./PooledClass"),i=t("./ReactBrowserEventEmitter"),o=t("./Object.assign");o(n.prototype,{enqueuePutListener:function(t,e,n){this.listenersToPut.push({rootNodeID:t,propKey:e,propValue:n})},putListeners:function(){for(var t=0;t<this.listenersToPut.length;t++){var e=this.listenersToPut[t];i.putListener(e.rootNodeID,e.propKey,e.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),r.addPoolingTo(n),e.exports=n},{"./Object.assign":29,"./PooledClass":30,"./ReactBrowserEventEmitter":33}],79:[function(t,e){"use strict";function n(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.putListenerQueue=s.getPooled()}var r=t("./CallbackQueue"),i=t("./PooledClass"),o=t("./ReactBrowserEventEmitter"),a=t("./ReactInputSelection"),s=t("./ReactPutListenerQueue"),u=t("./Transaction"),l=t("./Object.assign"),c={initialize:a.getSelectionInformation,close:a.restoreSelection},h={initialize:function(){var t=o.isEnabled();return o.setEnabled(!1),t},close:function(t){o.setEnabled(t)}},p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},d=[f,c,h,p],g={getTransactionWrappers:function(){return d},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null,s.release(this.putListenerQueue),this.putListenerQueue=null}};l(n.prototype,u.Mixin,g),i.addPoolingTo(n),e.exports=n},{"./CallbackQueue":7,"./Object.assign":29,"./PooledClass":30,"./ReactBrowserEventEmitter":33,"./ReactInputSelection":63,"./ReactPutListenerQueue":78,"./Transaction":104}],80:[function(t,e){"use strict";var n={injectCreateReactRootIndex:function(t){r.createReactRootIndex=t}},r={createReactRootIndex:null,injection:n};e.exports=r},{}],81:[function(t,e){"use strict";function n(t){l(i.isValidElement(t));var e;try{var n=o.createReactRootID();return e=s.getPooled(!1),e.perform(function(){var r=u(t,null),i=r.mountComponent(n,e,0);return a.addChecksumToMarkup(i)},null)}finally{s.release(e)}}function r(t){l(i.isValidElement(t));var e;try{var n=o.createReactRootID();return e=s.getPooled(!0),e.perform(function(){var r=u(t,null);return r.mountComponent(n,e,0)},null)}finally{s.release(e)}}var i=t("./ReactElement"),o=t("./ReactInstanceHandles"),a=t("./ReactMarkupChecksum"),s=t("./ReactServerRenderingTransaction"),u=t("./instantiateReactComponent"),l=t("./invariant");e.exports={renderToString:n,renderToStaticMarkup:r}},{"./ReactElement":56,"./ReactInstanceHandles":64,"./ReactMarkupChecksum":67,"./ReactServerRenderingTransaction":82,"./instantiateReactComponent":136,"./invariant":137}],82:[function(t,e){"use strict";function n(t){this.reinitializeTransaction(),this.renderToStaticMarkup=t,this.reactMountReady=i.getPooled(null),this.putListenerQueue=o.getPooled()}var r=t("./PooledClass"),i=t("./CallbackQueue"),o=t("./ReactPutListenerQueue"),a=t("./Transaction"),s=t("./Object.assign"),u=t("./emptyFunction"),l={initialize:function(){this.reactMountReady.reset()},close:u},c={initialize:function(){this.putListenerQueue.reset()},close:u},h=[c,l],p={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null,o.release(this.putListenerQueue),this.putListenerQueue=null}};s(n.prototype,a.Mixin,p),r.addPoolingTo(n),e.exports=n},{"./CallbackQueue":7,"./Object.assign":29,"./PooledClass":30,"./ReactPutListenerQueue":78,"./Transaction":104,"./emptyFunction":118}],83:[function(t,e){"use strict";function n(t,e){var n={};return function(r){n[e]=r,t.setState(n)}}var r={createStateSetter:function(t,e){return function(n,r,i,o,a,s){var u=e.call(t,n,r,i,o,a,s);u&&t.setState(u)}},createStateKeySetter:function(t,e){var r=t.__keySetters||(t.__keySetters={});return r[e]||(r[e]=n(t,e))}};r.Mixin={createStateSetter:function(t){return r.createStateSetter(this,t)},createStateKeySetter:function(t){return r.createStateKeySetter(this,t)}},e.exports=r},{}],84:[function(t,e){"use strict";var n=t("./DOMPropertyOperations"),r=t("./ReactComponent"),i=t("./ReactElement"),o=t("./Object.assign"),a=t("./escapeTextForBrowser"),s=function(){};o(s.prototype,r.Mixin,{mountComponent:function(t,e,i){r.Mixin.mountComponent.call(this,t,e,i);var o=a(this.props);return e.renderToStaticMarkup?o:"<span "+n.createMarkupForID(t)+">"+o+"</span>"},receiveComponent:function(t){var e=t.props;e!==this.props&&(this.props=e,r.BackendIDOperations.updateTextContentByID(this._rootNodeID,e))}});var u=function(t){return new i(s,null,null,null,null,t)};u.type=s,e.exports=u},{"./DOMPropertyOperations":13,"./Object.assign":29,"./ReactComponent":37,"./ReactElement":56,"./escapeTextForBrowser":120}],85:[function(t,e){"use strict";var n=t("./ReactChildren"),r={getChildMapping:function(t){return n.map(t,function(t){return t})},mergeChildMappings:function(t,e){function n(n){return e.hasOwnProperty(n)?e[n]:t[n]}t=t||{},e=e||{};var r={},i=[];for(var o in t)e.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in e){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}};e.exports=r},{"./ReactChildren":36}],86:[function(t,e){"use strict";function n(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||delete a.animationend.animation,"TransitionEvent"in window||delete a.transitionend.transition;for(var n in a){var r=a[n];for(var i in r)if(i in e){s.push(r[i]);break}}}function r(t,e,n){t.addEventListener(e,n,!1)}function i(t,e,n){t.removeEventListener(e,n,!1)}var o=t("./ExecutionEnvironment"),a={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},s=[];o.canUseDOM&&n();var u={addEndEventListener:function(t,e){return 0===s.length?void window.setTimeout(e,0):void s.forEach(function(n){r(t,n,e)})},removeEndEventListener:function(t,e){0!==s.length&&s.forEach(function(n){i(t,n,e)})}};e.exports=u},{"./ExecutionEnvironment":23}],87:[function(t,e){"use strict";var n=t("./React"),r=t("./ReactTransitionChildMapping"),i=t("./Object.assign"),o=t("./cloneWithProps"),a=t("./emptyFunction"),s=n.createClass({displayName:"ReactTransitionGroup",propTypes:{component:n.PropTypes.any,childFactory:n.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillReceiveProps:function(t){var e=r.getChildMapping(t.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,e)});var i;for(i in e){var o=n&&n.hasOwnProperty(i);!e[i]||o||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var a=e&&e.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidUpdate:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)},performEnter:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillEnter?e.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)},_handleDoneEntering:function(t){var e=this.refs[t];e.componentDidEnter&&e.componentDidEnter(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(t)||this.performLeave(t)},performLeave:function(t){this.currentlyTransitioningKeys[t]=!0;var e=this.refs[t];e.componentWillLeave?e.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)},_handleDoneLeaving:function(t){var e=this.refs[t];e.componentDidLeave&&e.componentDidLeave(),delete this.currentlyTransitioningKeys[t];var n=r.getChildMapping(this.props.children);if(n&&n.hasOwnProperty(t))this.performEnter(t);else{var o=i({},this.state.children);delete o[t],this.setState({children:o})}},render:function(){var t={};for(var e in this.state.children){var r=this.state.children[e];r&&(t[e]=o(this.props.childFactory(r),{ref:e}))}return n.createElement(this.props.component,this.props,t)}});e.exports=s},{"./Object.assign":29,"./React":31,"./ReactTransitionChildMapping":85,"./cloneWithProps":110,"./emptyFunction":118}],88:[function(t,e){"use strict";function n(){d(_.ReactReconcileTransaction&&y)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=l.getPooled(),this.reconcileTransaction=_.ReactReconcileTransaction.getPooled()}function i(t,e,r){n(),y.batchedUpdates(t,e,r)}function o(t,e){return t._mountDepth-e._mountDepth}function a(t){var e=t.dirtyComponentsLength;d(e===g.length),g.sort(o);for(var n=0;e>n;n++){var r=g[n];if(r.isMounted()){var i=r._pendingCallbacks;if(r._pendingCallbacks=null,r.performUpdateIfNecessary(t.reconcileTransaction),i)for(var a=0;a<i.length;a++)t.callbackQueue.enqueue(i[a],r)}}}function s(t,e){return d(!e||"function"==typeof e),n(),y.isBatchingUpdates?(g.push(t),void(e&&(t._pendingCallbacks?t._pendingCallbacks.push(e):t._pendingCallbacks=[e]))):void y.batchedUpdates(s,t,e)}function u(t,e){d(y.isBatchingUpdates),v.enqueue(t,e),m=!0}var l=t("./CallbackQueue"),c=t("./PooledClass"),h=(t("./ReactCurrentOwner"),t("./ReactPerf")),p=t("./Transaction"),f=t("./Object.assign"),d=t("./invariant"),g=(t("./warning"),[]),v=l.getPooled(),m=!1,y=null,M={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),x()):g.length=0}},b={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},E=[M,b];f(r.prototype,p.Mixin,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,l.release(this.callbackQueue),this.callbackQueue=null,_.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(t,e,n){return p.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,t,e,n)}}),c.addPoolingTo(r);var x=h.measure("ReactUpdates","flushBatchedUpdates",function(){for(;g.length||m;){if(g.length){var t=r.getPooled();t.perform(a,null,t),r.release(t)}if(m){m=!1;var e=v;v=l.getPooled(),e.notifyAll(),l.release(e)}}}),w={injectReconcileTransaction:function(t){d(t),_.ReactReconcileTransaction=t},injectBatchingStrategy:function(t){d(t),d("function"==typeof t.batchedUpdates),d("boolean"==typeof t.isBatchingUpdates),y=t}},_={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:s,flushBatchedUpdates:x,injection:w,asap:u};e.exports=_},{"./CallbackQueue":7,"./Object.assign":29,"./PooledClass":30,"./ReactCurrentOwner":42,"./ReactPerf":73,"./Transaction":104,"./invariant":137,"./warning":155}],89:[function(t,e){"use strict";var n=t("./DOMProperty"),r=n.injection.MUST_USE_ATTRIBUTE,i={Properties:{cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,y1:r,y2:r,y:r},DOMAttributeNames:{fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};e.exports=i},{"./DOMProperty":12}],90:[function(t,e){"use strict";function n(t){if("selectionStart"in t&&a.hasSelectionCapabilities(t))return{start:t.selectionStart,end:t.selectionEnd};if(window.getSelection){var e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(t){if(!m&&null!=d&&d==u()){var e=n(d);if(!v||!h(v,e)){v=e;var r=s.getPooled(f.select,g,t);return r.type="select",r.target=d,o.accumulateTwoPhaseDispatches(r),r}}}var i=t("./EventConstants"),o=t("./EventPropagators"),a=t("./ReactInputSelection"),s=t("./SyntheticEvent"),u=t("./getActiveElement"),l=t("./isTextInputElement"),c=t("./keyOf"),h=t("./shallowEqual"),p=i.topLevelTypes,f={select:{phasedRegistrationNames:{bubbled:c({onSelect:null}),captured:c({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},d=null,g=null,v=null,m=!1,y={eventTypes:f,extractEvents:function(t,e,n,i){switch(t){case p.topFocus:(l(e)||"true"===e.contentEditable)&&(d=e,g=n,v=null);break;case p.topBlur:d=null,g=null,v=null;break;case p.topMouseDown:m=!0;break;case p.topContextMenu:case p.topMouseUp:return m=!1,r(i);case p.topSelectionChange:case p.topKeyDown:case p.topKeyUp:return r(i)}}};e.exports=y},{"./EventConstants":17,"./EventPropagators":22,"./ReactInputSelection":63,"./SyntheticEvent":96,"./getActiveElement":124,"./isTextInputElement":140,"./keyOf":144,"./shallowEqual":150}],91:[function(t,e){"use strict";var n=Math.pow(2,53),r={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};e.exports=r},{}],92:[function(t,e){"use strict";var n=t("./EventConstants"),r=t("./EventPluginUtils"),i=t("./EventPropagators"),o=t("./SyntheticClipboardEvent"),a=t("./SyntheticEvent"),s=t("./SyntheticFocusEvent"),u=t("./SyntheticKeyboardEvent"),l=t("./SyntheticMouseEvent"),c=t("./SyntheticDragEvent"),h=t("./SyntheticTouchEvent"),p=t("./SyntheticUIEvent"),f=t("./SyntheticWheelEvent"),d=t("./getEventCharCode"),g=t("./invariant"),v=t("./keyOf"),m=(t("./warning"),n.topLevelTypes),y={blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},M={topBlur:y.blur,topClick:y.click,topContextMenu:y.contextMenu,topCopy:y.copy,topCut:y.cut,topDoubleClick:y.doubleClick,topDrag:y.drag,topDragEnd:y.dragEnd,topDragEnter:y.dragEnter,topDragExit:y.dragExit,topDragLeave:y.dragLeave,topDragOver:y.dragOver,topDragStart:y.dragStart,topDrop:y.drop,topError:y.error,topFocus:y.focus,topInput:y.input,topKeyDown:y.keyDown,topKeyPress:y.keyPress,topKeyUp:y.keyUp,topLoad:y.load,topMouseDown:y.mouseDown,topMouseMove:y.mouseMove,topMouseOut:y.mouseOut,topMouseOver:y.mouseOver,topMouseUp:y.mouseUp,topPaste:y.paste,topReset:y.reset,topScroll:y.scroll,topSubmit:y.submit,topTouchCancel:y.touchCancel,topTouchEnd:y.touchEnd,topTouchMove:y.touchMove,topTouchStart:y.touchStart,topWheel:y.wheel};for(var b in M)M[b].dependencies=[b];var E={eventTypes:y,executeDispatch:function(t,e,n){var i=r.executeDispatch(t,e,n);i===!1&&(t.stopPropagation(),t.preventDefault())},extractEvents:function(t,e,n,r){var v=M[t];if(!v)return null;var y;switch(t){case m.topInput:case m.topLoad:case m.topError:case m.topReset:case m.topSubmit:y=a;break;case m.topKeyPress:if(0===d(r))return null;case m.topKeyDown:case m.topKeyUp:y=u;break;case m.topBlur:case m.topFocus:y=s;break;case m.topClick:if(2===r.button)return null;case m.topContextMenu:case m.topDoubleClick:case m.topMouseDown:case m.topMouseMove:case m.topMouseOut:case m.topMouseOver:case m.topMouseUp:y=l;break;case m.topDrag:case m.topDragEnd:case m.topDragEnter:case m.topDragExit:case m.topDragLeave:case m.topDragOver:case m.topDragStart:case m.topDrop:y=c;break;case m.topTouchCancel:case m.topTouchEnd:case m.topTouchMove:case m.topTouchStart:y=h;break;case m.topScroll:y=p;break;case m.topWheel:y=f;break;case m.topCopy:case m.topCut:case m.topPaste:y=o}g(y);var b=y.getPooled(v,n,r);return i.accumulateTwoPhaseDispatches(b),b}};e.exports=E},{"./EventConstants":17,"./EventPluginUtils":21,"./EventPropagators":22,"./SyntheticClipboardEvent":93,"./SyntheticDragEvent":95,"./SyntheticEvent":96,"./SyntheticFocusEvent":97,"./SyntheticKeyboardEvent":99,"./SyntheticMouseEvent":100,"./SyntheticTouchEvent":101,"./SyntheticUIEvent":102,"./SyntheticWheelEvent":103,"./getEventCharCode":125,"./invariant":137,"./keyOf":144,"./warning":155}],93:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),i={clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}};r.augmentClass(n,i),e.exports=n},{"./SyntheticEvent":96}],94:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),i={data:null};r.augmentClass(n,i),e.exports=n},{"./SyntheticEvent":96}],95:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticMouseEvent"),i={dataTransfer:null};r.augmentClass(n,i),e.exports=n},{"./SyntheticMouseEvent":100}],96:[function(t,e){"use strict";function n(t,e,n){this.dispatchConfig=t,this.dispatchMarker=e,this.nativeEvent=n;var r=this.constructor.Interface;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];this[i]=a?a(n):n[i]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;this.isDefaultPrevented=s?o.thatReturnsTrue:o.thatReturnsFalse,this.isPropagationStopped=o.thatReturnsFalse}var r=t("./PooledClass"),i=t("./Object.assign"),o=t("./emptyFunction"),a=t("./getEventTarget"),s={type:null,target:a,currentTarget:o.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t.preventDefault?t.preventDefault():t.returnValue=!1,this.isDefaultPrevented=o.thatReturnsTrue},stopPropagation:function(){var t=this.nativeEvent;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.isPropagationStopped=o.thatReturnsTrue},persist:function(){this.isPersistent=o.thatReturnsTrue},isPersistent:o.thatReturnsFalse,destructor:function(){var t=this.constructor.Interface;for(var e in t)this[e]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),n.Interface=s,n.augmentClass=function(t,e){var n=this,o=Object.create(n.prototype);i(o,t.prototype),t.prototype=o,t.prototype.constructor=t,t.Interface=i({},n.Interface,e),t.augmentClass=n.augmentClass,r.addPoolingTo(t,r.threeArgumentPooler)},r.addPoolingTo(n,r.threeArgumentPooler),e.exports=n},{"./Object.assign":29,"./PooledClass":30,"./emptyFunction":118,"./getEventTarget":128}],97:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),i={relatedTarget:null};r.augmentClass(n,i),e.exports=n},{"./SyntheticUIEvent":102}],98:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),i={data:null};r.augmentClass(n,i),e.exports=n},{"./SyntheticEvent":96}],99:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),i=t("./getEventCharCode"),o=t("./getEventKey"),a=t("./getEventModifierState"),s={key:o,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(t){return"keypress"===t.type?i(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?i(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}};r.augmentClass(n,s),e.exports=n},{"./SyntheticUIEvent":102,"./getEventCharCode":125,"./getEventKey":126,"./getEventModifierState":127}],100:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),i=t("./ViewportMetrics"),o=t("./getEventModifierState"),a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:o,button:function(t){var e=t.button;return"which"in t?e:2===e?2:4===e?1:0},buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},pageX:function(t){return"pageX"in t?t.pageX:t.clientX+i.currentScrollLeft},pageY:function(t){return"pageY"in t?t.pageY:t.clientY+i.currentScrollTop}};r.augmentClass(n,a),e.exports=n},{"./SyntheticUIEvent":102,"./ViewportMetrics":105,"./getEventModifierState":127}],101:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticUIEvent"),i=t("./getEventModifierState"),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};r.augmentClass(n,o),e.exports=n},{"./SyntheticUIEvent":102,"./getEventModifierState":127}],102:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticEvent"),i=t("./getEventTarget"),o={view:function(t){if(t.view)return t.view;var e=i(t);if(null!=e&&e.window===e)return e;var n=e.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(t){return t.detail||0}};r.augmentClass(n,o),e.exports=n},{"./SyntheticEvent":96,"./getEventTarget":128}],103:[function(t,e){"use strict";function n(t,e,n){r.call(this,t,e,n)}var r=t("./SyntheticMouseEvent"),i={deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(n,i),e.exports=n},{"./SyntheticMouseEvent":100}],104:[function(t,e){"use strict";var n=t("./invariant"),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,e,r,i,o,a,s,u){n(!this.isInTransaction());var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=t.call(e,r,i,o,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(h){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(t){for(var e=this.transactionWrappers,n=t;n<e.length;n++){var r=e[n];try{this.wrapperInitData[n]=i.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(t){n(this.isInTransaction());for(var e=this.transactionWrappers,r=t;r<e.length;r++){var o,a=e[r],s=this.wrapperInitData[r];try{o=!0,s!==i.OBSERVED_ERROR&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(r+1)}catch(u){}}}this.wrapperInitData.length=0}},i={Mixin:r,OBSERVED_ERROR:{}};e.exports=i},{"./invariant":137}],105:[function(t,e){"use strict";var n=t("./getUnboundedScrollPosition"),r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(){var t=n(window);r.currentScrollLeft=t.x,r.currentScrollTop=t.y}};e.exports=r},{"./getUnboundedScrollPosition":133}],106:[function(t,e){"use strict";function n(t,e){if(r(null!=e),null==t)return e;var n=Array.isArray(t),i=Array.isArray(e);return n&&i?(t.push.apply(t,e),t):n?(t.push(e),t):i?[t].concat(e):[t,e]}var r=t("./invariant");e.exports=n},{"./invariant":137}],107:[function(t,e){"use strict";function n(t){for(var e=1,n=0,i=0;i<t.length;i++)e=(e+t.charCodeAt(i))%r,n=(n+e)%r;return e|n<<16}var r=65521;e.exports=n},{}],108:[function(t,e){function n(t){return t.replace(r,function(t,e){return e.toUpperCase()})}var r=/-(.)/g;e.exports=n},{}],109:[function(t,e){"use strict";function n(t){return r(t.replace(i,"ms-"))}var r=t("./camelize"),i=/^-ms-/;e.exports=n},{"./camelize":108}],110:[function(t,e){"use strict";function n(t,e){var n=i.mergeProps(e,t.props);return!n.hasOwnProperty(a)&&t.props.hasOwnProperty(a)&&(n.children=t.props.children),r.createElement(t.type,n)}var r=t("./ReactElement"),i=t("./ReactPropTransferer"),o=t("./keyOf"),a=(t("./warning"),o({children:null}));e.exports=n},{"./ReactElement":56,"./ReactPropTransferer":74,"./keyOf":144,"./warning":155}],111:[function(t,e){function n(t,e){return t&&e?t===e?!0:r(t)?!1:r(e)?n(t,e.parentNode):t.contains?t.contains(e):t.compareDocumentPosition?!!(16&t.compareDocumentPosition(e)):!1:!1}var r=t("./isTextNode");e.exports=n},{"./isTextNode":141}],112:[function(t,e){function n(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"length"in t&&!("setInterval"in t)&&"number"!=typeof t.nodeType&&(Array.isArray(t)||"callee"in t||"item"in t)}function r(t){return n(t)?Array.isArray(t)?t.slice():i(t):[t]}var i=t("./toArray");e.exports=r},{"./toArray":152}],113:[function(t,e){"use strict";function n(t){var e=i.createFactory(t),n=r.createClass({displayName:"ReactFullPageComponent"+t,componentWillUnmount:function(){o(!1)},render:function(){return e(this.props)}});return n}var r=t("./ReactCompositeComponent"),i=t("./ReactElement"),o=t("./invariant");e.exports=n},{"./ReactCompositeComponent":40,"./ReactElement":56,"./invariant":137}],114:[function(t,e){function n(t){var e=t.match(l);return e&&e[1].toLowerCase()}function r(t,e){var r=u;s(!!u);var i=n(t),l=i&&a(i);if(l){r.innerHTML=l[1]+t+l[2];for(var c=l[0];c--;)r=r.lastChild}else r.innerHTML=t;var h=r.getElementsByTagName("script");h.length&&(s(e),o(h).forEach(e));for(var p=o(r.childNodes);r.lastChild;)r.removeChild(r.lastChild);return p}var i=t("./ExecutionEnvironment"),o=t("./createArrayFrom"),a=t("./getMarkupWrap"),s=t("./invariant"),u=i.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=r},{"./ExecutionEnvironment":23,"./createArrayFrom":112,"./getMarkupWrap":129,"./invariant":137}],115:[function(t,e){function n(t){return"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).join(" "):Array.prototype.join.call(arguments," ")}e.exports=n},{}],116:[function(t,e){"use strict";function n(t,e){var n=null==e||"boolean"==typeof e||""===e;if(n)return"";var r=isNaN(e);return r||0===e||i.hasOwnProperty(t)&&i[t]?""+e:("string"==typeof e&&(e=e.trim()),e+"px")
}var r=t("./CSSProperty"),i=r.isUnitlessNumber;e.exports=n},{"./CSSProperty":5}],117:[function(t,e){function n(t,e,n,r,i){return i}t("./Object.assign"),t("./warning"),e.exports=n},{"./Object.assign":29,"./warning":155}],118:[function(t,e){function n(t){return function(){return t}}function r(){}r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(t){return t},e.exports=r},{}],119:[function(t,e){"use strict";var n={};e.exports=n},{}],120:[function(t,e){"use strict";function n(t){return i[t]}function r(t){return(""+t).replace(o,n)}var i={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;e.exports=r},{}],121:[function(t,e){"use strict";function n(t,e,n){var r=t,o=!r.hasOwnProperty(n);if(o&&null!=e){var a,s=typeof e;a="string"===s?i(e):"number"===s?i(""+e):e,r[n]=a}}function r(t){if(null==t)return t;var e={};return o(t,n,e),e}var i=t("./ReactTextComponent"),o=t("./traverseAllChildren");t("./warning"),e.exports=r},{"./ReactTextComponent":84,"./traverseAllChildren":153,"./warning":155}],122:[function(t,e){"use strict";function n(t){try{t.focus()}catch(e){}}e.exports=n},{}],123:[function(t,e){"use strict";var n=function(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)};e.exports=n},{}],124:[function(t,e){function n(){try{return document.activeElement||document.body}catch(t){return document.body}}e.exports=n},{}],125:[function(t,e){"use strict";function n(t){var e,n=t.keyCode;return"charCode"in t?(e=t.charCode,0===e&&13===n&&(e=13)):e=n,e>=32||13===e?e:0}e.exports=n},{}],126:[function(t,e){"use strict";function n(t){if(t.key){var e=i[t.key]||t.key;if("Unidentified"!==e)return e}if("keypress"===t.type){var n=r(t);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===t.type||"keyup"===t.type?o[t.keyCode]||"Unidentified":""}var r=t("./getEventCharCode"),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=n},{"./getEventCharCode":125}],127:[function(t,e){"use strict";function n(t){var e=this,n=e.nativeEvent;if(n.getModifierState)return n.getModifierState(t);var r=i[t];return r?!!n[r]:!1}function r(){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},{}],128:[function(t,e){"use strict";function n(t){var e=t.target||t.srcElement||window;return 3===e.nodeType?e.parentNode:e}e.exports=n},{}],129:[function(t,e){function n(t){return i(!!o),h.hasOwnProperty(t)||(t="*"),a.hasOwnProperty(t)||(o.innerHTML="*"===t?"<link />":"<"+t+"></"+t+">",a[t]=!o.firstChild),a[t]?h[t]:null}var r=t("./ExecutionEnvironment"),i=t("./invariant"),o=r.canUseDOM?document.createElement("div"):null,a={circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},s=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,"<svg>","</svg>"],h={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:l,th:l,circle:c,defs:c,ellipse:c,g:c,line:c,linearGradient:c,path:c,polygon:c,polyline:c,radialGradient:c,rect:c,stop:c,text:c};e.exports=n},{"./ExecutionEnvironment":23,"./invariant":137}],130:[function(t,e){"use strict";function n(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r(t){for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}}function i(t,e){for(var i=n(t),o=0,a=0;i;){if(3==i.nodeType){if(a=o+i.textContent.length,e>=o&&a>=e)return{node:i,offset:e-o};o=a}i=n(r(i))}}e.exports=i},{}],131:[function(t,e){"use strict";function n(t){return t?t.nodeType===r?t.documentElement:t.firstChild:null}var r=9;e.exports=n},{}],132:[function(t,e){"use strict";function n(){return!i&&r.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var r=t("./ExecutionEnvironment"),i=null;e.exports=n},{"./ExecutionEnvironment":23}],133:[function(t,e){"use strict";function n(t){return t===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:t.scrollLeft,y:t.scrollTop}}e.exports=n},{}],134:[function(t,e){function n(t){return t.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},{}],135:[function(t,e){"use strict";function n(t){return r(t).replace(i,"-ms-")}var r=t("./hyphenate"),i=/^ms-/;e.exports=n},{"./hyphenate":134}],136:[function(t,e){"use strict";function n(t,e){var n;return n="string"==typeof t.type?r.createInstanceForTag(t.type,t.props,e):new t.type(t.props),n.construct(t),n}var r=(t("./warning"),t("./ReactElement"),t("./ReactLegacyElement"),t("./ReactNativeComponent"));t("./ReactEmptyComponent"),e.exports=n},{"./ReactElement":56,"./ReactEmptyComponent":58,"./ReactLegacyElement":65,"./ReactNativeComponent":71,"./warning":155}],137:[function(t,e){"use strict";var n=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return l[c++]}))}throw u.framesToPop=1,u}};e.exports=n},{}],138:[function(t,e){"use strict";function n(t,e){if(!i.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,o=n in document;if(!o){var a=document.createElement("div");a.setAttribute(n,"return;"),o="function"==typeof a[n]}return!o&&r&&"wheel"===t&&(o=document.implementation.hasFeature("Events.wheel","3.0")),o}var r,i=t("./ExecutionEnvironment");i.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=n},{"./ExecutionEnvironment":23}],139:[function(t,e){function n(t){return!(!t||!("function"==typeof Node?t instanceof Node:"object"==typeof t&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName))}e.exports=n},{}],140:[function(t,e){"use strict";function n(t){return t&&("INPUT"===t.nodeName&&r[t.type]||"TEXTAREA"===t.nodeName)}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},{}],141:[function(t,e){function n(t){return r(t)&&3==t.nodeType}var r=t("./isNode");e.exports=n},{"./isNode":139}],142:[function(t,e){"use strict";function n(t){t||(t="");var e,n=arguments.length;if(n>1)for(var r=1;n>r;r++)e=arguments[r],e&&(t=(t?t+" ":"")+e);return t}e.exports=n},{}],143:[function(t,e){"use strict";var n=t("./invariant"),r=function(t){var e,r={};n(t instanceof Object&&!Array.isArray(t));for(e in t)t.hasOwnProperty(e)&&(r[e]=e);return r};e.exports=r},{"./invariant":137}],144:[function(t,e){var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=n},{}],145:[function(t,e){"use strict";function n(t,e,n){if(!t)return null;var i={};for(var o in t)r.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}var r=Object.prototype.hasOwnProperty;e.exports=n},{}],146:[function(t,e){"use strict";function n(t){var e={};return function(n){return e.hasOwnProperty(n)?e[n]:e[n]=t.call(this,n)}}e.exports=n},{}],147:[function(t,e){"use strict";function n(t){r(t&&!/[^a-z0-9_]/.test(t))}var r=t("./invariant");e.exports=n},{"./invariant":137}],148:[function(t,e){"use strict";function n(t){return i(r.isValidElement(t)),t}var r=t("./ReactElement"),i=t("./invariant");e.exports=n},{"./ReactElement":56,"./invariant":137}],149:[function(t,e){"use strict";var n=t("./ExecutionEnvironment"),r=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,o=function(t,e){t.innerHTML=e};if(n.canUseDOM){var a=document.createElement("div");a.innerHTML=" ",""===a.innerHTML&&(o=function(t,e){if(t.parentNode&&t.parentNode.replaceChild(t,t),r.test(e)||"<"===e[0]&&i.test(e)){t.innerHTML=""+e;var n=t.firstChild;1===n.data.length?t.removeChild(n):n.deleteData(0,1)}else t.innerHTML=e})}e.exports=o},{"./ExecutionEnvironment":23}],150:[function(t,e){"use strict";function n(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}e.exports=n},{}],151:[function(t,e){"use strict";function n(t,e){return t&&e&&t.type===e.type&&t.key===e.key&&t._owner===e._owner?!0:!1}e.exports=n},{}],152:[function(t,e){function n(t){var e=t.length;if(r(!Array.isArray(t)&&("object"==typeof t||"function"==typeof t)),r("number"==typeof e),r(0===e||e-1 in t),t.hasOwnProperty)try{return Array.prototype.slice.call(t)}catch(n){}for(var i=Array(e),o=0;e>o;o++)i[o]=t[o];return i}var r=t("./invariant");e.exports=n},{"./invariant":137}],153:[function(t,e){"use strict";function n(t){return p[t]}function r(t,e){return t&&null!=t.key?o(t.key):e.toString(36)}function i(t){return(""+t).replace(f,n)}function o(t){return"$"+i(t)}function a(t,e,n){return null==t?0:d(t,"",0,e,n)}var s=t("./ReactElement"),u=t("./ReactInstanceHandles"),l=t("./invariant"),c=u.SEPARATOR,h=":",p={"=":"=0",".":"=1",":":"=2"},f=/[=.:]/g,d=function(t,e,n,i,a){var u,p,f=0;if(Array.isArray(t))for(var g=0;g<t.length;g++){var v=t[g];u=e+(e?h:c)+r(v,g),p=n+f,f+=d(v,u,p,i,a)}else{var m=typeof t,y=""===e,M=y?c+r(t,0):e;if(null==t||"boolean"===m)i(a,null,M,n),f=1;else if("string"===m||"number"===m||s.isValidElement(t))i(a,t,M,n),f=1;else if("object"===m){l(!t||1!==t.nodeType);for(var b in t)t.hasOwnProperty(b)&&(u=e+(e?h:c)+o(b)+h+r(t[b],0),p=n+f,f+=d(t[b],u,p,i,a))}}return f};e.exports=a},{"./ReactElement":56,"./ReactInstanceHandles":64,"./invariant":137}],154:[function(t,e){"use strict";function n(t){return Array.isArray(t)?t.concat():t&&"object"==typeof t?o(new t.constructor,t):t}function r(t,e,n){s(Array.isArray(t));var r=e[n];s(Array.isArray(r))}function i(t,e){if(s("object"==typeof e),e.hasOwnProperty(h))return s(1===Object.keys(e).length),e[h];var a=n(t);if(e.hasOwnProperty(p)){var d=e[p];s(d&&"object"==typeof d),s(a&&"object"==typeof a),o(a,e[p])}e.hasOwnProperty(u)&&(r(t,e,u),e[u].forEach(function(t){a.push(t)})),e.hasOwnProperty(l)&&(r(t,e,l),e[l].forEach(function(t){a.unshift(t)})),e.hasOwnProperty(c)&&(s(Array.isArray(t)),s(Array.isArray(e[c])),e[c].forEach(function(t){s(Array.isArray(t)),a.splice.apply(a,t)})),e.hasOwnProperty(f)&&(s("function"==typeof e[f]),a=e[f](a));for(var v in e)g.hasOwnProperty(v)&&g[v]||(a[v]=i(t[v],e[v]));return a}var o=t("./Object.assign"),a=t("./keyOf"),s=t("./invariant"),u=a({$push:null}),l=a({$unshift:null}),c=a({$splice:null}),h=a({$set:null}),p=a({$merge:null}),f=a({$apply:null}),d=[u,l,c,h,p,f],g={};d.forEach(function(t){g[t]=!0}),e.exports=i},{"./Object.assign":29,"./invariant":137,"./keyOf":144}],155:[function(t,e){"use strict";var n=t("./emptyFunction"),r=n;e.exports=r},{"./emptyFunction":118}]},{},[1])(1)}),function(){"use strict";function t(e,r){function i(t,e){return function(){return t.apply(e,arguments)}}var o;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=e,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,u=0,l=a.length;l>u;u++)s[a[u]]=i(s[a[u]],s);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(e,t,n,r)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=r&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],r){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,a,s,u,l,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(l=t.changedTouches[0],c=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=c.tagName.toLowerCase(),"label"===s){if(e=this.findControl(c)){if(this.focus(c),n)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-a>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),r&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return r&&!i&&(u=c.fastClickScrollParent,u&&u.fastClickLastScrollTop!==u.scrollTop)?!0:(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,r,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("fastclick",[],function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function r(t){return null===t?0/0:+t}function i(t){return!isNaN(t)}function o(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(t){return(t+="")===gs||t[0]===vs?vs+t:t}function h(t){return(t+="")[0]===vs?t.slice(1):t}function p(t){return c(t)in this._}function f(t){return(t=c(t))in this._&&delete this._[t]}function d(){var t=[];for(var e in this._)t.push(h(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function v(){for(var t in this._)return!1;return!0}function m(){this._=Object.create(null)}function y(t){return t}function M(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function b(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=ms.length;r>n;++n){var i=ms[n]+e;if(i in t)return i}}function E(){}function x(){}function w(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new l;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function _(){ns.event.preventDefault()}function S(){for(var t,e=ns.event;t=e.sourceEvent;)e=t;return e}function C(t){for(var e=new x,n=0,r=arguments.length;++n<r;)e[arguments[n]]=w(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=ns.event;i.target=t,ns.event=i,e[i.type].apply(n,r)}finally{ns.event=o}}},e}function T(t){return Ms(t,ws),t}function D(t){return"function"==typeof t?t:function(){return bs(t,this)}}function R(t){return"function"==typeof t?t:function(){return Es(t,this)}}function k(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ns.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function O(t){return t.trim().replace(/\s+/g," ")}function N(t){return new RegExp("(?:^|\\s+)"+ns.requote(t)+"(?:\\s+|$)","g")}function P(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=P(t).map(B);var i=t.length;return"function"==typeof e?r:n}function B(t){var e=N(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",O(i+" "+t))):n.setAttribute("class",O(i.replace(e," ")))}}function A(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function L(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function F(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ns.ns.qualify(t)).local?n:e}function z(){var t=this.parentNode;t&&t.removeChild(this)}function U(t){return{__data__:t}}function q(t){return function(){return xs(this,t)}}function j(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function H(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function V(t){return Ms(t,Ss),t}function W(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function K(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,is(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ns.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=Y;s>0&&(t=t.slice(0,s));var l=Cs.get(t);return l&&(t=l,u=X),s?e?i:r:e?E:o}function Y(t,e){return function(n){var r=ns.event;ns.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ns.event=r}}}function X(t,e){var n=Y(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function G(n){var r=".dragsuppress-"+ ++Ds,i="click"+r,o=ns.select(e(n)).on("touchmove"+r,_).on("dragstart"+r,_).on("selectstart"+r,_);if(null==Ts&&(Ts="onselectstart"in n?!1:b(n.style,"userSelect")),Ts){var a=t(n).style,s=a[Ts];a[Ts]="none"}return function(t){if(o.on(r,null),Ts&&(a[Ts]=s),t){var e=function(){o.on(i,null)};o.on(i,function(){_(),e()},!0),setTimeout(e,0)}}}function Q(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Rs){var o=e(t);if(o.scrollX||o.scrollY){r=ns.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Rs=!(a.f||a.e),r.remove()}}return Rs?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function Z(){return ns.event.changedTouches[0].identifier}function $(t){return t>0?1:0>t?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function te(t){return t>1?0:-1>t?Ns:Math.acos(t)}function ee(t){return t>1?Bs:-1>t?-Bs:Math.asin(t)}function ne(t){return((t=Math.exp(t))-1/t)/2}function re(t){return((t=Math.exp(t))+1/t)/2}function ie(t){return((t=Math.exp(2*t))-1)/(t+1)}function oe(t){return(t=Math.sin(t/2))*t}function ae(){}function se(t,e,n){return this instanceof se?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof se?new se(t.h,t.s,t.l):Ee(""+t,xe,se):new se(t,e,n)}function ue(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,new me(i(t+120),i(t),i(t-120))}function le(t,e,n){return this instanceof le?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof le?new le(t.h,t.c,t.l):t instanceof he?fe(t.l,t.a,t.b):fe((t=we((t=ns.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new le(t,e,n)}function ce(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new he(n,Math.cos(t*=As)*e,Math.sin(t)*e)}function he(t,e,n){return this instanceof he?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof he?new he(t.l,t.a,t.b):t instanceof le?ce(t.h,t.c,t.l):we((t=me(t)).r,t.g,t.b):new he(t,e,n)}function pe(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=de(i)*Ys,r=de(r)*Xs,o=de(o)*Gs,new me(ve(3.2404542*i-1.5371385*r-.4985314*o),ve(-.969266*i+1.8760108*r+.041556*o),ve(.0556434*i-.2040259*r+1.0572252*o))}function fe(t,e,n){return t>0?new le(Math.atan2(n,e)*Ls,Math.sqrt(e*e+n*n),t):new le(0/0,0/0,t)}function de(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ge(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ve(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function me(t,e,n){return this instanceof me?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof me?new me(t.r,t.g,t.b):Ee(""+t,me,ue):new me(t,e,n)}function ye(t){return new me(t>>16,t>>8&255,255&t)}function Me(t){return ye(t)+""}function be(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Ee(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Se(i[0]),Se(i[1]),Se(i[2]))}return(o=$s.get(t.toLowerCase()))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function xe(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=u>0&&1>u?0:r),new se(r,i,u)}function we(t,e,n){t=_e(t),e=_e(e),n=_e(n);var r=ge((.4124564*t+.3575761*e+.1804375*n)/Ys),i=ge((.2126729*t+.7151522*e+.072175*n)/Xs),o=ge((.0193339*t+.119192*e+.9503041*n)/Gs);return he(116*i-16,500*(r-i),200*(i-o))}function _e(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Se(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Ce(t){return"function"==typeof t?t:function(){return t}}function Te(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),De(e,n,t,r)}}function De(t,e,n,r){function i(){var t,e=u.status;if(!e&&ke(u)||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=ns.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=ns.event;ns.event=t;try{a.progress.call(o,u)}finally{ns.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(is(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},ns.rebind(o,a,"on"),null==r?o:o.get(Re(r))}function Re(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function ke(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Oe(){var t=Ne(),e=Pe()-t;e>24?(isFinite(e)&&(clearTimeout(nu),nu=setTimeout(Oe,e)),eu=0):(eu=1,iu(Oe))}function Ne(){var t=Date.now();for(ru=Js;ru;)t>=ru.t&&(ru.f=ru.c(t-ru.t)),ru=ru.n;return t}function Pe(){for(var t,e=Js,n=1/0;e;)e.f?e=t?t.n=e.n:Js=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return tu=t,n}function Ie(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Be(t,e){var n=Math.pow(10,3*ds(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Ae(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:y;return function(t){var n=au.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],h=n[7],p=n[8],f=n[9],d=1,g="",v="",m=!1,y=!0;switch(p&&(p=+p.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),f){case"n":h=!0,f="g";break;case"%":d=100,v="%",f="f";break;case"p":d=100,v="%",f="r";break;
case"b":case"o":case"x":case"X":"#"===u&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":m=!0,p=0;break;case"s":d=-1,f="r"}"$"===u&&(g=i[0],v=i[1]),"r"!=f||p||(f="g"),null!=p&&("g"==f?p=Math.max(1,Math.min(21,p)):("e"==f||"f"==f)&&(p=Math.max(0,Math.min(20,p)))),f=su.get(f)||Le;var M=l&&h;return function(t){var n=v;if(m&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>d){var u=ns.formatPrefix(t,p);t=u.scale(t),n=u.symbol+v}else t*=d;t=f(t,p);var b,E,x=t.lastIndexOf(".");if(0>x){var w=y?t.lastIndexOf("e"):-1;0>w?(b=t,E=""):(b=t.substring(0,w),E=t.substring(w))}else b=t.substring(0,x),E=e+t.substring(x+1);!l&&h&&(b=o(b,1/0));var _=g.length+b.length+E.length+(M?0:i.length),S=c>_?new Array(_=c-_+1).join(r):"";return M&&(b=o(S+b,S.length?c-E.length:1/0)),i+=g,t=b+E,("<"===a?i+t+S:">"===a?S+i+t:"^"===a?S.substring(0,_>>=1)+i+t+S.substring(_):i+(M?t:S+t))+n}}}function Le(t){return t+""}function Fe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function ze(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new lu(n-1)),1),n}function o(t,n){return e(t=new lu(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{lu=Fe;var r=new Fe;return r._=t,a(r,e,n)}finally{lu=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=Ue(t);return u.floor=u,u.round=Ue(r),u.ceil=Ue(i),u.offset=Ue(o),u.range=s,t}function Ue(t){return function(e,n){try{lu=Fe;var r=new Fe;return r._=e,t(r,n)._}finally{lu=Date}}}function qe(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=hu[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=D[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&lu!==Fe,a=new(o?Fe:lu);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;u>s;){if(r>=l)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=R[a in hu?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=E.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,D.c.toString(),e,r)}function u(t,e,r){return n(t,D.x.toString(),e,r)}function l(t,e,r){return n(t,D.X.toString(),e,r)}function c(t,e,n){var r=M.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,p=t.date,f=t.time,d=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{lu=Fe;var e=new lu;return e._=t,r(e)}finally{lu=Date}}var r=e(t);return n.parse=function(t){try{lu=Fe;var e=r.parse(t);return e&&e._}finally{lu=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=un;var M=ns.map(),b=He(g),E=Ve(g),x=He(v),w=Ve(v),_=He(m),S=Ve(m),C=He(y),T=Ve(y);d.forEach(function(t,e){M.set(t.toLowerCase(),e)});var D={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:e(h),d:function(t,e){return je(t.getDate(),e,2)},e:function(t,e){return je(t.getDate(),e,2)},H:function(t,e){return je(t.getHours(),e,2)},I:function(t,e){return je(t.getHours()%12||12,e,2)},j:function(t,e){return je(1+uu.dayOfYear(t),e,3)},L:function(t,e){return je(t.getMilliseconds(),e,3)},m:function(t,e){return je(t.getMonth()+1,e,2)},M:function(t,e){return je(t.getMinutes(),e,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,e){return je(t.getSeconds(),e,2)},U:function(t,e){return je(uu.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return je(uu.mondayOfYear(t),e,2)},x:e(p),X:e(f),y:function(t,e){return je(t.getFullYear()%100,e,2)},Y:function(t,e){return je(t.getFullYear()%1e4,e,4)},Z:an,"%":function(){return"%"}},R={a:r,A:i,b:o,B:a,c:s,d:Je,e:Je,H:en,I:en,j:tn,L:on,m:$e,M:nn,p:c,S:rn,U:Ke,w:We,W:Ye,x:u,X:l,y:Ge,Y:Xe,Z:Qe,"%":sn};return e}function je(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function He(t){return new RegExp("^(?:"+t.map(ns.requote).join("|")+")","i")}function Ve(t){for(var e=new l,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function We(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ke(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Ye(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Xe(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ge(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+2));return r?(t.y=Ze(+r[0]),n+r[0].length):-1}function Qe(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ze(t){return t+(t>68?1900:2e3)}function $e(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Je(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tn(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function en(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nn(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rn(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function on(t,e,n){pu.lastIndex=0;var r=pu.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function an(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=ds(e)/60|0,i=ds(e)%60;return n+je(r,"0",2)+je(i,"0",2)}function sn(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function un(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ln(){}function cn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function hn(t,e){t&&mu.hasOwnProperty(t.type)&&mu[t.type](t,e)}function pn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function fn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)pn(t[n],e,1);e.polygonEnd()}function dn(){function t(t,e){t*=As,e=e*As/2+Ns/4;var n=t-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,h=i*u+c*Math.cos(s),p=c*a*Math.sin(s);Mu.add(Math.atan2(p,h)),r=t,i=u,o=l}var e,n,r,i,o;bu.point=function(a,s){bu.point=t,r=(e=a)*As,i=Math.cos(s=(n=s)*As/2+Ns/4),o=Math.sin(s)},bu.lineEnd=function(){t(e,n)}}function gn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function vn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function mn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Mn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function bn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function En(t){return[Math.atan2(t[1],t[0]),ee(t[2])]}function xn(t,e){return ds(t[0]-e[0])<ks&&ds(t[1]-e[1])<ks}function wn(t,e){t*=As;var n=Math.cos(e*=As);_n(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function _n(t,e,n){++Eu,wu+=(t-wu)/Eu,_u+=(e-_u)/Eu,Su+=(n-Su)/Eu}function Sn(){function t(t,i){t*=As;var o=Math.cos(i*=As),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);xu+=l,Cu+=l*(e+(e=a)),Tu+=l*(n+(n=s)),Du+=l*(r+(r=u)),_n(e,n,r)}var e,n,r;Nu.point=function(i,o){i*=As;var a=Math.cos(o*=As);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Nu.point=t,_n(e,n,r)}}function Cn(){Nu.point=wn}function Tn(){function t(t,e){t*=As;var n=Math.cos(e*=As),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,p=Math.sqrt(l*l+c*c+h*h),f=r*a+i*s+o*u,d=p&&-te(f)/p,g=Math.atan2(p,f);Ru+=d*l,ku+=d*c,Ou+=d*h,xu+=g,Cu+=g*(r+(r=a)),Tu+=g*(i+(i=s)),Du+=g*(o+(o=u)),_n(r,i,o)}var e,n,r,i,o;Nu.point=function(a,s){e=a,n=s,Nu.point=t,a*=As;var u=Math.cos(s*=As);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),_n(r,i,o)},Nu.lineEnd=function(){t(e,n),Nu.lineEnd=Cn,Nu.point=wn}}function Dn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Rn(){return!0}function kn(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(xn(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new Nn(n,t,null,!0),l=new Nn(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Nn(r,t,null,!1),l=new Nn(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(e),On(o),On(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,h,p=o[0];;){for(var f=p,d=!0;f.v;)if((f=f.n)===p)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(var s=0,l=c.length;l>s;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d){c=f.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,d=!d}while(!f.v);i.lineEnd()}}}function On(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Nn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Pn(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){y.point=s,v.lineStart()}function l(){y.point=a,v.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),g=[]}function p(){c(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=M.buffer(),r=n.length;if(g.pop(),d.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(E||(o.polygonStart(),E=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(In))}var f,d,g,v=e(o),m=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=p,f=[],d=[]},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,f=ns.merge(f);var t=Un(m,d);f.length?(E||(o.polygonStart(),E=!0),kn(f,An,t,n,o)):t&&(E||(o.polygonStart(),E=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),E&&(o.polygonEnd(),E=!1),f=d=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},M=Bn(),b=e(M),E=!1;return y}}function In(t){return t.length>1}function Bn(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:E,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function An(t,e){return((t=t.x)[0]<0?t[1]-Bs-ks:Bs-t[1])-((e=e.x)[0]<0?e[1]-Bs-ks:Bs-e[1])}function Ln(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ns:-Ns,u=ds(o-n);ds(u-Ns)<ks?(t.point(n,r=(r+a)/2>0?Bs:-Bs),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Ns&&(ds(n-i)<ks&&(n-=i*ks),ds(o-s)<ks&&(o-=s*ks),r=Fn(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function Fn(t,e,n,r){var i,o,a=Math.sin(t-n);return ds(a)>ks?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function zn(t,e,n,r){var i;if(null==t)i=n*Bs,r.point(-Ns,i),r.point(0,i),r.point(Ns,i),r.point(Ns,0),r.point(Ns,-i),r.point(0,-i),r.point(-Ns,-i),r.point(-Ns,0),r.point(-Ns,i);else if(ds(t[0]-e[0])>ks){var o=t[0]<e[0]?Ns:-Ns;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Un(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Mu.reset();for(var s=0,u=e.length;u>s;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],p=h[0],f=h[1]/2+Ns/4,d=Math.sin(f),g=Math.cos(f),v=1;;){v===c&&(v=0),t=l[v];var m=t[0],y=t[1]/2+Ns/4,M=Math.sin(y),b=Math.cos(y),E=m-p,x=E>=0?1:-1,w=x*E,_=w>Ns,S=d*M;if(Mu.add(Math.atan2(S*x*Math.sin(w),g*b+S*Math.cos(w))),o+=_?E+x*Ps:E,_^p>=n^m>=n){var C=mn(gn(h),gn(t));bn(C);var T=mn(i,C);bn(T);var D=(_^E>=0?-1:1)*ee(T[2]);(r>D||r===D&&(C[0]||C[1]))&&(a+=_^E>=0?1:-1)}if(!v++)break;p=m,d=M,g=b,h=t}}return(-ks>o||ks>o&&0>Mu)^1&a}function qn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,p){var f,d=[h,p],g=e(h,p),v=a?g?0:i(h,p):g?i(h+(0>h?Ns:-Ns),p):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(f=r(n,d),(xn(n,f)||xn(d,f))&&(d[0]+=ks,d[1]+=ks,g=e(d[0],d[1]))),g!==u)c=0,g?(t.lineStart(),f=r(d,n),t.point(f[0],f[1])):(f=r(n,d),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&a^g){var m;v&o||!(m=r(d,n,!0))||(c=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&xn(n,d)||t.point(d[0],d[1]),n=d,u=g,o=v},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r=gn(t),i=gn(e),a=[1,0,0],s=mn(r,i),u=vn(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var h=o*u/c,p=-o*l/c,f=mn(a,s),d=Mn(a,h),g=Mn(s,p);yn(d,g);var v=f,m=vn(d,v),y=vn(v,v),M=m*m-y*(vn(d,d)-1);if(!(0>M)){var b=Math.sqrt(M),E=Mn(v,(-m-b)/y);if(yn(E,d),E=En(E),!n)return E;var x,w=t[0],_=e[0],S=t[1],C=e[1];w>_&&(x=w,w=_,_=x);var T=_-w,D=ds(T-Ns)<ks,R=D||ks>T;if(!D&&S>C&&(x=S,S=C,C=x),R?D?S+C>0^E[1]<(ds(E[0]-w)<ks?S:C):S<=E[1]&&E[1]<=C:T>Ns^(w<=E[0]&&E[0]<=_)){var k=Mn(v,(-m+b)/y);return yn(k,d),[E,En(k)]}}}function i(e,n){var r=a?t:Ns-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=ds(o)>ks,u=dr(t,6*As);return Pn(e,n,u,a?[0,-t]:[-Ns,t-Ns])}function jn(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,h=s.y,p=0,f=1,d=c-u,g=h-l;if(o=t-u,d||!(o>0)){if(o/=d,0>d){if(p>o)return;f>o&&(f=o)}else if(d>0){if(o>f)return;o>p&&(p=o)}if(o=n-u,d||!(0>o)){if(o/=d,0>d){if(o>f)return;o>p&&(p=o)}else if(d>0){if(p>o)return;f>o&&(f=o)}if(o=e-l,g||!(o>0)){if(o/=g,0>g){if(p>o)return;f>o&&(f=o)}else if(g>0){if(o>f)return;o>p&&(p=o)}if(o=r-l,g||!(0>o)){if(o/=g,0>g){if(o>f)return;o>p&&(p=o)}else if(g>0){if(p>o)return;f>o&&(f=o)}return p>0&&(i.a={x:u+p*d,y:l+p*g}),1>f&&(i.b={x:u+f*d,y:l+f*g}),i}}}}}}function Hn(t,e,n,r){function i(r,i){return ds(r[0]-t)<ks?i>0?0:3:ds(r[0]-n)<ks?i>0?2:1:ds(r[1]-e)<ks?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=v.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=v[i],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=r?o[1]>r&&J(l,o,t)>0&&++e:o[1]<=r&&J(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,h=0;if(null==o||(c=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==h)}else l.point(s[0],s[1])}function c(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function h(t,e){c(t,e)&&s.point(t,e)}function p(){R.point=d,v&&v.push(m=[]),_=!0,w=!1,E=x=0/0}function f(){g&&(d(y,M),b&&w&&T.rejoin(),g.push(T.buffer())),R.point=h,w&&s.lineEnd()}function d(t,e){t=Math.max(-Iu,Math.min(Iu,t)),e=Math.max(-Iu,Math.min(Iu,e));var n=c(t,e);if(v&&m.push([t,e]),_)y=t,M=e,b=n,_=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&w)s.point(t,e);else{var r={a:{x:E,y:x},b:{x:t,y:e}};D(r)?(w||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}E=t,x=e,w=n}var g,v,m,y,M,b,E,x,w,_,S,C=s,T=Bn(),D=jn(t,e,n,r),R={point:h,lineStart:p,lineEnd:f,polygonStart:function(){s=T,g=[],v=[],S=!0},polygonEnd:function(){s=C,g=ns.merge(g);var e=u([t,r]),n=S&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&kn(g,o,e,l,s),s.polygonEnd()),g=v=m=null}};return R}}function Vn(t){var e=0,n=Ns/3,r=ar(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ns/180,n=t[1]*Ns/180):[e/Ns*180,n/Ns*180]},i}function Wn(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,ee((o-(t*t+n*n)*i*i)/(2*i))]},n}function Kn(){function t(t,e){Au+=i*t-r*e,r=t,i=e}var e,n,r,i;qu.point=function(o,a){qu.point=t,e=r=o,n=i=a},qu.lineEnd=function(){t(e,n)}}function Yn(t,e){Lu>t&&(Lu=t),t>zu&&(zu=t),Fu>e&&(Fu=e),e>Uu&&(Uu=e)}function Xn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Gn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Gn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Gn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Qn(t,e){wu+=t,_u+=e,++Su}function Zn(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Cu+=a*(e+t)/2,Tu+=a*(n+r)/2,Du+=a,Qn(e=t,n=r)}var e,n;Hu.point=function(r,i){Hu.point=t,Qn(e=r,n=i)}}function $n(){Hu.point=Qn}function Jn(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Cu+=a*(r+t)/2,Tu+=a*(i+e)/2,Du+=a,a=i*t-r*e,Ru+=a*(r+t),ku+=a*(i+e),Ou+=3*a,Qn(r=t,i=e)}var e,n,r,i;Hu.point=function(o,a){Hu.point=t,Qn(e=r=o,n=i=a)},Hu.lineEnd=function(){t(e,n)}}function tr(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Ps)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:E};return s}function er(t){function e(t){return(s?r:n)(t)}function n(e){return ir(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){M=0/0,_.point=o,e.lineStart()}function o(n,r){var o=gn([n,r]),a=t(n,r);i(M,b,y,E,x,w,M=a[0],b=a[1],y=n,E=o[0],x=o[1],w=o[2],s,e),e.point(M,b)}function a(){_.point=n,e.lineEnd()}function u(){r(),_.point=l,_.lineEnd=c}function l(t,e){o(h=t,p=e),f=M,d=b,g=E,v=x,m=w,_.point=o}function c(){i(M,b,y,E,x,w,f,d,h,g,v,m,s,e),_.lineEnd=a,a()}var h,p,f,d,g,v,m,y,M,b,E,x,w,_={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),_.lineStart=u},polygonEnd:function(){e.polygonEnd(),_.lineStart=r}};return _}function i(e,n,r,s,u,l,c,h,p,f,d,g,v,m){var y=c-e,M=h-n,b=y*y+M*M;if(b>4*o&&v--){var E=s+f,x=u+d,w=l+g,_=Math.sqrt(E*E+x*x+w*w),S=Math.asin(w/=_),C=ds(ds(w)-1)<ks||ds(r-p)<ks?(r+p)/2:Math.atan2(x,E),T=t(C,S),D=T[0],R=T[1],k=D-e,O=R-n,N=M*k-y*O;(N*N/b>o||ds((y*k+M*O)/b-.5)>.3||a>s*f+u*d+l*g)&&(i(e,n,r,s,u,l,D,R,C,E/=_,x/=_,w,v,m),m.point(D,R),i(D,R,C,E,x,w,c,h,p,f,d,g,v,m))}}var o=.5,a=Math.cos(30*As),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nr(t){var e=er(function(e,n){return t([e*Ls,n*Ls])});return function(t){return sr(e(t))}}function rr(t){this.stream=t}function ir(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function or(t){return ar(function(){return t})()}function ar(t){function e(t){return t=s(t[0]*As,t[1]*As),[t[0]*p+u,l-t[1]*p]}function n(t){return t=s.invert((t[0]-u)/p,(l-t[1])/p),t&&[t[0]*Ls,t[1]*Ls]}function r(){s=Dn(a=cr(m,M,b),o);var t=o(g,v);return u=f-t[0]*p,l=d+t[1]*p,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=er(function(t,e){return t=o(t,e),[t[0]*p+u,l-t[1]*p]}),p=150,f=480,d=250,g=0,v=0,m=0,M=0,b=0,E=Pu,x=y,w=null,_=null;return e.stream=function(t){return c&&(c.valid=!1),c=sr(E(a,h(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(E=null==t?(w=t,Pu):qn((w=+t)*As),i()):w},e.clipExtent=function(t){return arguments.length?(_=t,x=t?Hn(t[0][0],t[0][1],t[1][0],t[1][1]):y,i()):_},e.scale=function(t){return arguments.length?(p=+t,r()):p},e.translate=function(t){return arguments.length?(f=+t[0],d=+t[1],r()):[f,d]},e.center=function(t){return arguments.length?(g=t[0]%360*As,v=t[1]%360*As,r()):[g*Ls,v*Ls]},e.rotate=function(t){return arguments.length?(m=t[0]%360*As,M=t[1]%360*As,b=t.length>2?t[2]%360*As:0,r()):[m*Ls,M*Ls,b*Ls]},ns.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function sr(t){return ir(t,function(e,n){t.point(e*As,n*As)})}function ur(t,e){return[t,e]}function lr(t,e){return[t>Ns?t-Ps:-Ns>t?t+Ps:t,e]}function cr(t,e,n){return t?e||n?Dn(pr(t),fr(e,n)):pr(t):e||n?fr(e,n):lr}function hr(t){return function(e,n){return e+=t,[e>Ns?e-Ps:-Ns>e?e+Ps:e,n]}}function pr(t){var e=hr(t);return e.invert=hr(-t),e}function fr(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),ee(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),ee(c*r-s*i)]},n}function dr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=gr(n,i),o=gr(n,o),(a>0?o>i:i>o)&&(i+=a*Ps)):(i=t+a*Ps,o=t-.5*u);for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=En([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function gr(t,e){var n=gn(e);n[0]-=t,bn(n);var r=te(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-ks)%(2*Math.PI)}function vr(t,e,n){var r=ns.range(t,e-ks,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function mr(t,e,n){var r=ns.range(t,e-ks,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function yr(t){return t.source}function Mr(t){return t.target}function br(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),p=2*Math.asin(Math.sqrt(oe(r-e)+i*a*oe(n-t))),f=1/Math.sin(p),d=p?function(t){var e=Math.sin(t*=p)*f,n=Math.sin(p-t)*f,r=n*u+e*c,i=n*l+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Ls,Math.atan2(a,Math.sqrt(r*r+i*i))*Ls]}:function(){return[t*Ls,e*Ls]};return d.distance=p,d}function Er(){function t(t,i){var o=Math.sin(i*=As),a=Math.cos(i),s=ds((t*=As)-e),u=Math.cos(s);Vu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;Wu.point=function(i,o){e=i*As,n=Math.sin(o*=As),r=Math.cos(o),Wu.point=t},Wu.lineEnd=function(){Wu.point=Wu.lineEnd=E}}function xr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function wr(t,e){function n(t,e){a>0?-Bs+ks>e&&(e=-Bs+ks):e>Bs-ks&&(e=Bs-ks);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Ns/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=$(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Bs]},n):Sr}function _r(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ds(i)<ks?ur:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-$(i)*Math.sqrt(t*t+n*n)]},n)}function Sr(t,e){return[t,Math.log(Math.tan(Ns/4+e/2))]}function Cr(t){var e,n=or(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Ns*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Tr(t,e){return[Math.log(Math.tan(Ns/4+e/2)),-t]}function Dr(t){return t[0]}function Rr(t){return t[1]}function kr(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&J(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Or(t,e){return t[0]-e[0]||t[1]-e[1]}function Nr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Pr(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,p=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+p*a,u+p*c]}function Ir(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Br(){ni(this),this.edge=this.site=this.circle=null}function Ar(t){var e=rl.pop()||new Br;return e.site=t,e}function Lr(t){Yr(t),tl.remove(t),rl.push(t),ni(t)}function Fr(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Lr(t);for(var u=o;u.circle&&ds(n-u.circle.x)<ks&&ds(r-u.circle.cy)<ks;)o=u.P,s.unshift(u),Lr(u),u=o;s.unshift(u),Yr(u);for(var l=a;l.circle&&ds(n-l.circle.x)<ks&&ds(r-l.circle.cy)<ks;)a=l.N,s.push(l),Lr(l),l=a;s.push(l),Yr(l);var c,h=s.length;for(c=1;h>c;++c)l=s[c],u=s[c-1],Jr(l.edge,u.site,l.site,i);u=s[0],l=s[h-1],l.edge=Zr(u.site,l.site,null,i),Kr(u),Kr(l)}function zr(t){for(var e,n,r,i,o=t.x,a=t.y,s=tl._;s;)if(r=Ur(s,a)-o,r>ks)s=s.L;else{if(i=o-qr(s,a),!(i>ks)){r>-ks?(e=s.P,n=s):i>-ks?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Ar(t);if(tl.insert(e,u),e||n){if(e===n)return Yr(e),n=Ar(e.site),tl.insert(u,n),u.edge=n.edge=Zr(e.site,u.site),Kr(e),void Kr(n);if(!n)return void(u.edge=Zr(e.site,u.site));Yr(e),Yr(n);var l=e.site,c=l.x,h=l.y,p=t.x-c,f=t.y-h,d=n.site,g=d.x-c,v=d.y-h,m=2*(p*v-f*g),y=p*p+f*f,M=g*g+v*v,b={x:(v*y-f*M)/m+c,y:(p*M-g*y)/m+h};Jr(n.edge,l,d,b),u.edge=Zr(l,t,null,b),n.edge=Zr(t,d,null,b),Kr(e),Kr(n)}}function Ur(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,p=c/l;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function qr(t,e){var n=t.N;if(n)return Ur(n,e);var r=t.site;return r.y===e?r.x:1/0}function jr(t){this.site=t,this.edges=[]}function Hr(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],p=t[1][0],f=t[0][1],d=t[1][1],g=Ju,v=g.length;v--;)if(o=g[v],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(ds(r-e)>ks||ds(i-n)>ks)&&(s.splice(a,0,new ti($r(o.site,c,ds(r-h)<ks&&d-i>ks?{x:h,y:ds(e-h)<ks?n:d}:ds(i-d)<ks&&p-r>ks?{x:ds(n-d)<ks?e:p,y:d}:ds(r-p)<ks&&i-f>ks?{x:p,y:ds(e-p)<ks?n:f}:ds(i-f)<ks&&r-h>ks?{x:ds(n-f)<ks?e:h,y:f}:null),o.site,null)),++u)}function Vr(t,e){return e.angle-t.angle}function Wr(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Kr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=o.y-s,p=2*(u*h-l*c);if(!(p>=-Os)){var f=u*u+l*l,d=c*c+h*h,g=(h*f-l*d)/p,v=(u*d-c*f)/p,h=v+s,m=il.pop()||new Wr;m.arc=t,m.site=i,m.x=g+a,m.y=h+Math.sqrt(g*g+v*v),m.cy=h,t.circle=m;for(var y=null,M=nl._;M;)if(m.y<M.y||m.y===M.y&&m.x<=M.x){if(!M.L){y=M.P;break}M=M.L}else{if(!M.R){y=M;break}M=M.R}nl.insert(y,m),y||(el=m)}}}}function Yr(t){var e=t.circle;e&&(e.P||(el=e.N),nl.remove(e),il.push(e),ni(e),t.circle=null)}function Xr(t){for(var e,n=$u,r=jn(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Gr(e,t)||!r(e)||ds(e.a.x-e.b.x)<ks&&ds(e.a.y-e.b.y)<ks)&&(e.a=e.b=null,n.splice(i,1))}function Gr(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,p=c.x,f=c.y,d=h.x,g=h.y,v=(p+d)/2,m=(f+g)/2;if(g===f){if(a>v||v>=s)return;if(p>d){if(o){if(o.y>=l)return}else o={x:v,y:u};n={x:v,y:l}}else{if(o){if(o.y<u)return}else o={x:v,y:l};n={x:v,y:u}}}else if(r=(p-d)/(g-f),i=m-r*v,-1>r||r>1)if(p>d){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(g>f){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Qr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Zr(t,e,n,r){var i=new Qr(t,e);return $u.push(i),n&&Jr(i,t,e,n),r&&Jr(i,e,t,r),Ju[t.i].edges.push(new ti(i,t,e)),Ju[e.i].edges.push(new ti(i,e,t)),i}function $r(t,e,n){var r=new Qr(t,null);return r.a=e,r.b=n,$u.push(r),r}function Jr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ti(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ei(){this._=null}function ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ii(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function oi(t){for(;t.L;)t=t.L;return t}function ai(t,e){var n,r,i,o=t.sort(si).pop();for($u=[],Ju=new Array(t.length),tl=new ei,nl=new ei;;)if(i=el,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Ju[o.i]=new jr(o),zr(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Fr(i.arc)}e&&(Xr(e),Hr(e));var a={cells:Ju,edges:$u};return tl=nl=$u=Ju=null,a}function si(t,e){return e.y-t.y||e.x-t.x}function ui(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function li(t){return t.x}function ci(t){return t.y}function hi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pi(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&pi(t,u[0],n,r,a,s),u[1]&&pi(t,u[1],a,r,i,s),u[2]&&pi(t,u[2],n,s,a,o),u[3]&&pi(t,u[3],a,s,i,o)}}function fi(t,e,n,r,i,o,a){var s,u=1/0;return function l(t,c,h,p,f){if(!(c>o||h>a||r>p||i>f)){if(d=t.point){var d,g=e-t.x,v=n-t.y,m=g*g+v*v;if(u>m){var y=Math.sqrt(u=m);r=e-y,i=n-y,o=e+y,a=n+y,s=d}}for(var M=t.nodes,b=.5*(c+p),E=.5*(h+f),x=e>=b,w=n>=E,_=w<<1|x,S=_+4;S>_;++_)if(t=M[3&_])switch(3&_){case 0:l(t,c,h,b,E);break;case 1:l(t,b,h,p,E);break;case 2:l(t,c,E,b,f);break;case 3:l(t,b,E,p,f)}}}(t,r,i,o,a),s}function di(t,e){t=ns.rgb(t),e=ns.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+be(Math.round(n+o*t))+be(Math.round(r+a*t))+be(Math.round(i+s*t))}}function gi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=yi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function vi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function mi(t,e){var n,r,i,o=al.lastIndex=sl.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=al.exec(t))&&(r=sl.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:vi(n,r)})),o=sl.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;e>r;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function yi(t,e){for(var n,r=ns.interpolators.length;--r>=0&&!(n=ns.interpolators[r](t,e)););return n
}function Mi(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(yi(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function bi(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Ei(t){return function(e){return 1-t(1-e)}}function xi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function wi(t){return t*t}function _i(t){return t*t*t}function Si(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Ci(t){return function(e){return Math.pow(e,t)}}function Ti(t){return 1-Math.cos(t*Bs)}function Di(t){return Math.pow(2,10*(t-1))}function Ri(t){return 1-Math.sqrt(1-t*t)}function ki(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ps*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Ps/e)}}function Oi(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Ni(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Pi(t,e){t=ns.hcl(t),e=ns.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ce(n+o*t,r+a*t,i+s*t)+""}}function Ii(t,e){t=ns.hsl(t),e=ns.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ue(n+o*t,r+a*t,i+s*t)+""}}function Bi(t,e){t=ns.lab(t),e=ns.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return pe(n+o*t,r+a*t,i+s*t)+""}}function Ai(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Li(t){var e=[t.a,t.b],n=[t.c,t.d],r=zi(e),i=Fi(e,n),o=zi(Ui(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ls,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Ls:0}function Fi(t,e){return t[0]*e[0]+t[1]*e[1]}function zi(t){var e=Math.sqrt(Fi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Ui(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function qi(t,e){var n,r=[],i=[],o=ns.transform(t),a=ns.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,h=o.skew,p=a.skew,f=o.scale,d=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:vi(s[0],u[0])},{i:3,x:vi(s[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vi(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=p?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vi(h,p)}):p&&r.push(r.pop()+"skewX("+p+")"),f[0]!=d[0]||f[1]!=d[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:vi(f[0],d[0])},{i:n-2,x:vi(f[1],d[1])})):(1!=d[0]||1!=d[1])&&r.push(r.pop()+"scale("+d+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function ji(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Hi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Vi(t){for(var e=t.source,n=t.target,r=Ki(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Wi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ki(t,e){if(t===e)return t;for(var n=Wi(t),r=Wi(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Yi(t){t.fixed|=2}function Xi(t){t.fixed&=-7}function Gi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Qi(t){t.fixed&=-5}function Zi(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Zi(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function $i(t,e){return ns.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=io,t}function Ji(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function to(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function eo(t){return t.children}function no(t){return t.value}function ro(t,e){return e.value-t.value}function io(t){return ns.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function oo(t){return t.x}function ao(t){return t.y}function so(t,e,n){t.y0=e,t.y=n}function uo(t){return ns.range(t.length)}function lo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function co(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function ho(t){return t.reduce(po,0)}function po(t,e){return t+e[1]}function fo(t,e){return go(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function go(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function vo(t){return[ns.min(t),ns.max(t)]}function mo(t,e){return t.value-e.value}function yo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Mo(t,e){t._pack_next=e,e._pack_prev=t}function bo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Eo(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),p=Math.min(t.y-t.r,p),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,h=-1/0,p=1/0,f=-1/0;if(n.forEach(xo),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(i=n[1],i.x=i.r,i.y=0,e(i),l>2))for(o=n[2],So(r,i,o),e(o),yo(r,o),r._pack_prev=o,yo(o,i),i=r._pack_next,a=3;l>a;a++){So(r,i,o=n[a]);var d=0,g=1,v=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(bo(s,o)){d=1;break}if(1==d)for(u=r._pack_prev;u!==s._pack_prev&&!bo(u,o);u=u._pack_prev,v++);d?(v>g||g==v&&i.r<r.r?Mo(r,i=s):Mo(r=u,i),a--):(yo(r,o),i=o,e(o))}var m=(c+h)/2,y=(p+f)/2,M=0;for(a=0;l>a;a++)o=n[a],o.x-=m,o.y-=y,M=Math.max(M,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=M,n.forEach(wo)}}function xo(t){t._pack_next=t._pack_prev=t}function wo(t){delete t._pack_next,delete t._pack_prev}function _o(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)_o(i[o],e,n,r)}function So(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function Co(t,e){return t.parent==e.parent?1:2}function To(t){var e=t.children;return e.length?e[0]:t.t}function Do(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ro(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function ko(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Oo(t,e,n){return t.a.parent===e.parent?t.a:n}function No(t){return 1+ns.max(t,function(t){return t.y})}function Po(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Io(t){var e=t.children;return e&&e.length?Io(e[0]):t}function Bo(t){var e,n=t.children;return n&&(e=n.length)?Bo(n[e-1]):t}function Ao(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Lo(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Fo(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function zo(t){return t.rangeExtent?t.rangeExtent():Fo(t.range())}function Uo(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function qo(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function jo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:yl}function Ho(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=ns.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Vo(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Ho:Uo,u=r?Hi:ji;return a=i(t,e,u,n),s=i(e,t,u,yi),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Ai)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Xo(t,e)},o.tickFormat=function(e,n){return Go(t,e,n)},o.nice=function(e){return Ko(t,e),i()},o.copy=function(){return Vo(t,e,n,r)},i()}function Wo(t,e){return ns.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ko(t,e){return qo(t,jo(Yo(t,e)[2]))}function Yo(t,e){null==e&&(e=10);var n=Fo(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Xo(t,e){return ns.range.apply(ns,Yo(t,e))}function Go(t,e,n){var r=Yo(t,e);if(n){var i=au.exec(n);if(i.shift(),"s"===i[8]){var o=ns.formatPrefix(Math.max(ds(r[0]),ds(r[1])));return i[7]||(i[7]="."+Qo(o.scale(r[2]))),i[8]="f",n=ns.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Zo(i[8],r)),n=i.join("")}else n=",."+Qo(r[2])+"f";return ns.format(n)}function Qo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Zo(t,e){var n=Qo(e[2]);return t in Ml?Math.abs(n-Qo(Math.max(ds(e[0]),ds(e[1]))))+ +("e"!==t):n-2*("%"===t)}function $o(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=qo(r.map(i),n?Math:El);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Fo(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var p=1;h>p;p++)a.push(o(l)*p);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var p=h-1;p>0;p--)a.push(o(l)*p);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return bl;arguments.length<2?e=bl:"function"!=typeof e&&(e=ns.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}},a.copy=function(){return $o(t.copy(),e,n,r)},Wo(a,t)}function Jo(t,e,n){function r(e){return t(i(e))}var i=ta(e),o=ta(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Xo(n,t)},r.tickFormat=function(t,e){return Go(n,t,e)},r.nice=function(t){return r.domain(Ko(n,t))},r.exponent=function(a){return arguments.length?(i=ta(e=a),o=ta(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Jo(t.copy(),e,n)},Wo(r,t)}function ta(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ea(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):0/0))-1)%o.length]}function r(e,n){return ns.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new l;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return o=r(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return o=r(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],h=i[1-l],p=(h-c)/(t.length-s+2*u);return o=r(c+p*u,p),l&&o.reverse(),a=p*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],h=i[1-l],p=Math.floor((h-c)/(t.length-s+2*u));return o=r(c+Math.round((h-c-(t.length-s)*p)/2),p),l&&o.reverse(),a=Math.round(p*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Fo(e.a[0])},n.copy=function(){return ea(t,e)},n.domain(t)}function na(t,e){function o(){var n=0,r=e.length;for(s=[];++n<r;)s[n-1]=ns.quantile(t,n/r);return a}function a(t){return isNaN(t=+t)?void 0:e[ns.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(r).filter(i).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return na(t,e)},o()}function ra(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},r.copy=function(){return ra(t,e,n)},i()}function ia(t,e){function n(n){return n>=n?e[ns.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ia(t,e)},n}function oa(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Xo(t,e)},e.tickFormat=function(e,n){return Go(t,e,n)},e.copy=function(){return oa(t)},e}function aa(){return 0}function sa(t){return t.innerRadius}function ua(t){return t.outerRadius}function la(t){return t.startAngle}function ca(t){return t.endAngle}function ha(t){return t&&t.padAngle}function pa(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function fa(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,p=e[0]+u,f=e[1]+l,d=(c+p)/2,g=(h+f)/2,v=p-c,m=f-h,y=v*v+m*m,M=n-r,b=c*f-p*h,E=(0>m?-1:1)*Math.sqrt(M*M*y-b*b),x=(b*m-v*E)/y,w=(-b*v-m*E)/y,_=(b*m+v*E)/y,S=(-b*v+m*E)/y,C=x-d,T=w-g,D=_-d,R=S-g;return C*C+T*T>D*D+R*R&&(x=_,w=S),[[x-u,w-l],[x*n/M,w*n/M]]}function da(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,p=e.length,f=Ce(n),d=Ce(r);++h<p;)i.call(this,u=e[h],h)?c.push([+f.call(this,u,h),+d.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Dr,r=Rr,i=Rn,o=ga,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Tl.get(t)||ga).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ga(t){return t.join("L")}function va(t){return ga(t)+"Z"}function ma(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ya(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Ma(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function ba(t,e){return t.length<4?ga(t):t[1]+wa(t.slice(1,-1),_a(t,e))}function Ea(t,e){return t.length<3?ga(t):t[0]+wa((t.push(t[0]),t),_a([t[t.length-2]].concat(t,[t[1]]),e))}function xa(t,e){return t.length<3?ga(t):t[0]+wa(t,_a(t,e))}function wa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ga(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function _a(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Sa(t){if(t.length<3)return ga(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Ra(kl,a),",",Ra(kl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),ka(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Ca(t){if(t.length<4)return ga(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Ra(kl,o)+","+Ra(kl,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),ka(n,o,a);return n.join("")}function Ta(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Ra(kl,a),",",Ra(kl,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),ka(e,a,s);return e.join("")}function Da(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Sa(t)}function Ra(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ka(t,e,n){t.push("C",Ra(Dl,e),",",Ra(Dl,n),",",Ra(Rl,e),",",Ra(Rl,n),",",Ra(kl,e),",",Ra(kl,n))}function Oa(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Na(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Oa(i,o);++e<n;)r[e]=(a+(a=Oa(i=o,o=t[e+1])))/2;return r[e]=a,r}function Pa(t){for(var e,n,r,i,o=[],a=Na(t),s=-1,u=t.length-1;++s<u;)e=Oa(t[s],t[s+1]),ds(e)<ks?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Ia(t){return t.length<3?ga(t):t[0]+wa(t,Pa(t))}function Ba(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-Bs,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Aa(t){function e(e){function u(){g.push("M",s(t(m),h),c,l(t(v.reverse()),h),"Z")}for(var p,f,d,g=[],v=[],m=[],y=-1,M=e.length,b=Ce(n),E=Ce(i),x=n===r?function(){return f}:Ce(r),w=i===o?function(){return d}:Ce(o);++y<M;)a.call(this,p=e[y],y)?(v.push([f=+b.call(this,p,y),d=+E.call(this,p,y)]),m.push([+x.call(this,p,y),+w.call(this,p,y)])):v.length&&(u(),v=[],m=[]);return v.length&&u(),g.length?g.join(""):null}var n=Dr,r=Dr,i=0,o=Rr,a=Rn,s=ga,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Tl.get(t)||ga).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function La(t){return t.radius}function Fa(t){return[t.x,t.y]}function za(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Bs;return[n*Math.cos(r),n*Math.sin(r)]}}function Ua(){return 64}function qa(){return"circle"}function ja(t){var e=Math.sqrt(t/Ns);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ha(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Va(t,e,n){return Ms(t,Ll),t.namespace=e,t.id=n,t}function Wa(t,e,n,r){var i=t.id,o=t.namespace;return H(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Ka(t){return null==t&&(t=""),function(){this.textContent=t}}function Ya(t){return null==t?"__transition__":"__transition_"+t+"__"}function Xa(t,e,n,r,i){var o=t[n]||(t[n]={active:0,count:0}),a=o[r];if(!a){var s=i.time;a=o[r]={tween:new l,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++o.count,ns.timer(function(i){function u(n){if(o.active>r)return c();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),o.active=r,a.event&&a.event.start.call(t,t.__data__,e),a.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&g.push(r)}),p=a.ease,h=a.duration,ns.timer(function(){return d.c=l(n||1)?Rn:l,1},0,s)}function l(n){if(o.active!==r)return 1;for(var i=n/h,s=p(i),u=g.length;u>0;)g[--u].call(t,s);return i>=1?(a.event&&a.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--o.count?delete o[r]:delete t[n],1}var h,p,f=a.delay,d=ru,g=[];return d.t=f+s,i>=f?u(i-f):void(d.c=u)},0,s)}}function Ga(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Qa(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Za(t){return t.toISOString()}function $a(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=ns.bisect(Kl,i);return o==Kl.length?[e.year,Yo(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Kl[o-1]<Kl[o]/i?o-1:o]:[Gl,Yo(t,n)[2]]}return r.invert=function(e){return Ja(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Ja)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Ja(+n+1),e).length}var o=r.domain(),a=Fo(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(qo(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Ja(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Ja(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Fo(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Ja(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return $a(t.copy(),e,n)},Wo(r,t)}function Ja(t){return new Date(t)}function ts(t){return JSON.parse(t.responseText)}function es(t){var e=os.createRange();return e.selectNode(os.body),e.createContextualFragment(t.responseText)}var ns={version:"3.5.5"},rs=[].slice,is=function(t){return rs.call(t)},os=this.document;if(os)try{is(os.documentElement.childNodes)[0].nodeType}catch(as){is=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),os)try{os.createElement("DIV").style.setProperty("opacity",0,"")}catch(ss){var us=this.Element.prototype,ls=us.setAttribute,cs=us.setAttributeNS,hs=this.CSSStyleDeclaration.prototype,ps=hs.setProperty;us.setAttribute=function(t,e){ls.call(this,t,e+"")},us.setAttributeNS=function(t,e,n){cs.call(this,t,e,n+"")},hs.setProperty=function(t,e,n){ps.call(this,t,e+"",n)}}ns.ascending=n,ns.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},ns.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},ns.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},ns.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},ns.sum=function(t,e){var n,r=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+t[a])&&(r+=n);else for(;++a<o;)i(n=+e.call(t,t[a],a))&&(r+=n);return r},ns.mean=function(t,e){var n,o=0,a=t.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)i(n=r(t[s]))?o+=n:--u;else for(;++s<a;)i(n=r(e.call(t,t[s],s)))?o+=n:--u;return u?o/u:void 0},ns.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},ns.median=function(t,e){var o,a=[],s=t.length,u=-1;if(1===arguments.length)for(;++u<s;)i(o=r(t[u]))&&a.push(o);else for(;++u<s;)i(o=r(e.call(t,t[u],u)))&&a.push(o);return a.length?ns.quantile(a.sort(n),.5):void 0},ns.variance=function(t,e){var n,o,a=t.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)i(n=r(t[l]))&&(o=n-s,s+=o/++c,u+=o*(n-s));else for(;++l<a;)i(n=r(e.call(t,t[l],l)))&&(o=n-s,s+=o/++c,u+=o*(n-s));return c>1?u/(c-1):void 0},ns.deviation=function(){var t=ns.variance.apply(this,arguments);return t?Math.sqrt(t):t};var fs=o(n);ns.bisectLeft=fs.left,ns.bisect=ns.bisectRight=fs.right,ns.bisector=function(t){return o(1===t.length?function(e,r){return n(t(e),r)}:t)},ns.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},ns.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ns.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},ns.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=ns.min(arguments,a),n=new Array(e);++t<e;)for(var r,i=-1,o=n[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return n},ns.transpose=function(t){return ns.zip.apply(ns,t)},ns.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ns.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ns.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ns.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var ds=Math.abs;ns.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=s(ds(n)),a=-1;if(t*=o,e*=o,n*=o,0>n)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},ns.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var gs="__proto__",vs="\x00";u(l,{has:p,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:f,keys:d,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:g,empty:v,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),ns.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,h,p,f=-1,d=a.length,g=o[s++],v=new l;++f<d;)(p=v.get(u=g(c=a[f])))?p.push(c):v.set(u,[c]);return e?(c=e(),h=function(n,r){c.set(n,t(e,r,s))}):(c={},h=function(n,r){c[n]=t(e,r,s)}),v.forEach(h),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(ns.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},ns.set=function(t){var e=new m;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},u(m,{has:p,add:function(t){return this._[c(t+="")]=!0,t},remove:f,values:d,size:g,empty:v,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),ns.behavior={},ns.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=M(t,e,e[n]);return t};var ms=["webkit","ms","moz","Moz","o","O"];ns.dispatch=function(){for(var t=new x,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=w(t);return t},x.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ns.event=null,ns.requote=function(t){return t.replace(ys,"\\$&")};var ys=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ms={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},bs=function(t,e){return e.querySelector(t)},Es=function(t,e){return e.querySelectorAll(t)},xs=function(t,e){var n=t.matches||t[b(t,"matchesSelector")];return(xs=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(bs=function(t,e){return Sizzle(t,e)[0]||null},Es=Sizzle,xs=Sizzle.matchesSelector),ns.selection=function(){return ns.select(os.documentElement)};var ws=ns.selection.prototype=[];ws.select=function(t){var e,n,r,i,o=[];t=D(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return T(o)},ws.selectAll=function(t){var e,n,r=[];t=R(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=is(t.call(n,n.__data__,s,i))),e.parentNode=n);return T(r)};var _s={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ns.ns={prefix:_s,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),_s.hasOwnProperty(n)?{space:_s[n],local:t}:t}},ws.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ns.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(k(e,t[e]));return this}return this.each(k(t,e))},ws.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=P(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!N(t[i]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},ws.style=function(t,n,r){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(r in t)this.each(A(r,t[r],n));return this}if(2>i){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(A(t,n,r))},ws.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},ws.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ws.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML
},ws.append=function(t){return t=F(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ws.insert=function(t,e){return t=F(t),e=D(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ws.remove=function(){return this.each(z)},ws.data=function(t,e){function n(t,n){var r,i,o,a=t.length,h=n.length,p=Math.min(a,h),f=new Array(h),d=new Array(h),g=new Array(a);if(e){var v,m=new l,y=new Array(a);for(r=-1;++r<a;)m.has(v=e.call(i=t[r],i.__data__,r))?g[r]=i:m.set(v,i),y[r]=v;for(r=-1;++r<h;)(i=m.get(v=e.call(n,o=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=o):d[r]=U(o),m.set(v,!0);for(r=-1;++r<a;)m.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<p;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):d[r]=U(o);for(;h>r;++r)d[r]=U(n[r]);for(;a>r;++r)g[r]=t[r]}d.update=f,d.parentNode=f.parentNode=g.parentNode=t.parentNode,s.push(d),u.push(f),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=V([]),u=T([]),c=T([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return u.enter=function(){return s},u.exit=function(){return c},u},ws.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ws.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=q(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return T(i)},ws.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ws.sort=function(t){t=j.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ws.each=function(t){return H(this,function(e,n,r){t.call(e,e.__data__,n,r)})},ws.call=function(t){var e=is(arguments);return t.apply(e[0]=this,e),this},ws.empty=function(){return!this.node()},ws.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},ws.size=function(){var t=0;return H(this,function(){++t}),t};var Ss=[];ns.selection.enter=V,ns.selection.enter.prototype=Ss,Ss.append=ws.append,Ss.empty=ws.empty,Ss.node=ws.node,Ss.call=ws.call,Ss.size=ws.size,Ss.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return T(a)},Ss.insert=function(t,e){return arguments.length<2&&(e=W(this)),ws.insert.call(this,t,e)},ns.select=function(e){var n;return"string"==typeof e?(n=[bs(e,os)],n.parentNode=os.documentElement):(n=[e],n.parentNode=t(e)),T([n])},ns.selectAll=function(t){var e;return"string"==typeof t?(e=is(Es(t,os)),e.parentNode=os.documentElement):(e=t,e.parentNode=null),T([e])},ws.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(K(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(K(t,e,n))};var Cs=ns.map({mouseenter:"mouseover",mouseleave:"mouseout"});os&&Cs.forEach(function(t){"on"+t in os&&Cs.remove(t)});var Ts,Ds=0;ns.mouse=function(t){return Q(t,S())};var Rs=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ns.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return Q(t,r)},ns.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,r=e(p,g);r&&(t=r[0]-M[0],n=r[1]-M[1],d|=t|n,M=r,f({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}function u(){e(p,g)&&(m.on(o+v,null).on(a+v,null),y(d&&ns.event.target===h),f({type:"dragend"}))}var l,c=this,h=ns.event.target,p=c.parentNode,f=r.of(c,arguments),d=0,g=t(),v=".drag"+(null==g?"":"-"+g),m=ns.select(n(h)).on(o+v,s).on(a+v,u),y=G(h),M=e(p,g);i?(l=i.apply(c,arguments),l=[l.x-M[0],l.y-M[1]]):l=[0,0],f({type:"dragstart"})}}var r=C(t,"drag","dragstart","dragend"),i=null,o=n(E,ns.mouse,e,"mousemove","mouseup"),a=n(Z,ns.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},ns.rebind(t,r,"on")},ns.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?is(e).map(function(e){var n=Q(t,e);return n.identifier=e.identifier,n}):[]};var ks=1e-6,Os=ks*ks,Ns=Math.PI,Ps=2*Ns,Is=Ps-ks,Bs=Ns/2,As=Ns/180,Ls=180/Ns,Fs=Math.SQRT2,zs=2,Us=4;ns.interpolateZoom=function(t,e){function n(t){var e=t*y;if(m){var n=re(g),a=o/(zs*p)*(n*ie(Fs*e+g)-ne(g));return[r+a*l,i+a*c,o*n/re(Fs*e+g)]}return[r+t*l,i+t*c,o*Math.exp(Fs*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,h=l*l+c*c,p=Math.sqrt(h),f=(u*u-o*o+Us*h)/(2*o*zs*p),d=(u*u-o*o-Us*h)/(2*u*zs*p),g=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(d*d+1)-d),m=v-g,y=(m||Math.log(u/o))/Fs;return n.duration=1e3*y,n},ns.behavior.zoom=function(){function t(t){t.on(O,h).on(js+".zoom",f).on("dblclick.zoom",d).on(I,p)}function n(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function r(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function i(t){S.k=Math.max(D[0],Math.min(D[1],t))}function o(t,e){e=r(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function a(e,n,r,a){e.__chart__={x:S.x,y:S.y,k:S.k},i(Math.pow(2,a)),o(v=n,r),e=ns.select(e),R>0&&(e=e.transition().duration(R)),e.call(t.event)}function s(){E&&E.domain(b.range().map(function(t){return(t-S.x)/S.k}).map(b.invert)),w&&w.domain(x.range().map(function(t){return(t-S.y)/S.k}).map(x.invert))}function u(t){k++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(t){--k||t({type:"zoomend"}),v=null}function h(){function t(){h=1,o(ns.mouse(i),f),l(s)}function r(){p.on(N,null).on(P,null),d(h&&ns.event.target===a),c(s)}var i=this,a=ns.event.target,s=B.of(i,arguments),h=0,p=ns.select(e(i)).on(N,t).on(P,r),f=n(ns.mouse(i)),d=G(i);Al.call(i),u(s)}function p(){function t(){var t=ns.touches(d);return f=S.k,t.forEach(function(t){t.identifier in v&&(v[t.identifier]=n(t))}),t}function e(){var e=ns.event.target;ns.select(e).on(b,r).on(E,s),x.push(e);for(var n=ns.event.changedTouches,i=0,o=n.length;o>i;++i)v[n[i].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(500>l-M){var c=u[0];a(d,c,v[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),_()}M=l}else if(u.length>1){var c=u[0],h=u[1],p=c[0]-h[0],f=c[1]-h[1];m=p*p+f*f}}function r(){var t,e,n,r,a=ns.touches(d);Al.call(d);for(var s=0,u=a.length;u>s;++s,r=null)if(n=a[s],r=v[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=m&&Math.sqrt(c/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],i(h*f)}M=null,o(t,e),l(g)}function s(){if(ns.event.touches.length){for(var e=ns.event.changedTouches,n=0,r=e.length;r>n;++n)delete v[e[n].identifier];for(var i in v)return void t()}ns.selectAll(x).on(y,null),w.on(O,h).on(I,p),C(),c(g)}var f,d=this,g=B.of(d,arguments),v={},m=0,y=".zoom-"+ns.event.changedTouches[0].identifier,b="touchmove"+y,E="touchend"+y,x=[],w=ns.select(d),C=G(d);e(),u(g),w.on(O,null).on(I,e)}function f(){var t=B.of(this,arguments);y?clearTimeout(y):(g=n(v=m||ns.mouse(this)),Al.call(this),u(t)),y=setTimeout(function(){y=null,c(t)},50),_(),i(Math.pow(2,.002*qs())*S.k),o(v,g),l(t)}function d(){var t=ns.mouse(this),e=Math.log(S.k)/Math.LN2;a(this,t,n(t),ns.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,v,m,y,M,b,E,x,w,S={x:0,y:0,k:1},T=[960,500],D=Hs,R=250,k=0,O="mousedown.zoom",N="mousemove.zoom",P="mouseup.zoom",I="touchstart.zoom",B=C(t,"zoomstart","zoom","zoomend");return js||(js="onwheel"in os?(qs=function(){return-ns.event.deltaY*(ns.event.deltaMode?120:1)},"wheel"):"onmousewheel"in os?(qs=function(){return ns.event.wheelDelta},"mousewheel"):(qs=function(){return-ns.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=B.of(this,arguments),e=S;Il?ns.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=T[0],r=T[1],i=v?v[0]:n/2,o=v?v[1]:r/2,a=ns.interpolateZoom([(i-S.x)/S.k,(o-S.y)/S.k,n/S.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=S={x:i-r[0]*s,y:o-r[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=S,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:+e},s(),t):S.k},t.scaleExtent=function(e){return arguments.length?(D=null==e?Hs:[+e[0],+e[1]],t):D},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(T=e&&[+e[0],+e[1]],t):T},t.duration=function(e){return arguments.length?(R=+e,t):R},t.x=function(e){return arguments.length?(E=e,b=e.copy(),S={x:0,y:0,k:1},t):E},t.y=function(e){return arguments.length?(w=e,x=e.copy(),S={x:0,y:0,k:1},t):w},ns.rebind(t,B,"on")};var qs,js,Hs=[0,1/0];ns.color=ae,ae.prototype.toString=function(){return this.rgb()+""},ns.hsl=se;var Vs=se.prototype=new ae;Vs.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new se(this.h,this.s,this.l/t)},Vs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new se(this.h,this.s,t*this.l)},Vs.rgb=function(){return ue(this.h,this.s,this.l)},ns.hcl=le;var Ws=le.prototype=new ae;Ws.brighter=function(t){return new le(this.h,this.c,Math.min(100,this.l+Ks*(arguments.length?t:1)))},Ws.darker=function(t){return new le(this.h,this.c,Math.max(0,this.l-Ks*(arguments.length?t:1)))},Ws.rgb=function(){return ce(this.h,this.c,this.l).rgb()},ns.lab=he;var Ks=18,Ys=.95047,Xs=1,Gs=1.08883,Qs=he.prototype=new ae;Qs.brighter=function(t){return new he(Math.min(100,this.l+Ks*(arguments.length?t:1)),this.a,this.b)},Qs.darker=function(t){return new he(Math.max(0,this.l-Ks*(arguments.length?t:1)),this.a,this.b)},Qs.rgb=function(){return pe(this.l,this.a,this.b)},ns.rgb=me;var Zs=me.prototype=new ae;Zs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new me(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new me(i,i,i)},Zs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new me(t*this.r,t*this.g,t*this.b)},Zs.hsl=function(){return xe(this.r,this.g,this.b)},Zs.toString=function(){return"#"+be(this.r)+be(this.g)+be(this.b)};var $s=ns.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});$s.forEach(function(t,e){$s.set(t,ye(e))}),ns.functor=Ce,ns.xhr=Te(y),ns.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=De(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],l=t.length,c=0,h=0;(r=n())!==a;){for(var p=[];r!==o&&r!==a;)p.push(r),r=n();e&&null==(p=e(p,h++))||s.push(p)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new m,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ns.csv=ns.dsv(",","text/csv"),ns.tsv=ns.dsv("	","text/tab-separated-values");var Js,tu,eu,nu,ru,iu=this[b(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ns.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};tu?tu.n=o:Js=o,tu=o,eu||(nu=clearTimeout(nu),eu=1,iu(Oe))},ns.timer.flush=function(){Ne(),Pe()},ns.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ou=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Be);ns.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ns.round(t,Ie(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ou[8+n/3]};var au=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,su=ns.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ns.round(t,Ie(t,e))).toFixed(Math.max(0,Math.min(20,Ie(t*(1+1e-15),e))))}}),uu=ns.time={},lu=Date;Fe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cu.setUTCDate.apply(this._,arguments)},setDay:function(){cu.setUTCDay.apply(this._,arguments)},setFullYear:function(){cu.setUTCFullYear.apply(this._,arguments)},setHours:function(){cu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cu.setUTCSeconds.apply(this._,arguments)},setTime:function(){cu.setTime.apply(this._,arguments)}};var cu=Date.prototype;uu.year=ze(function(t){return t=uu.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),uu.years=uu.year.range,uu.years.utc=uu.year.utc.range,uu.day=ze(function(t){var e=new lu(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),uu.days=uu.day.range,uu.days.utc=uu.day.utc.range,uu.dayOfYear=function(t){var e=uu.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=uu[t]=ze(function(t){return(t=uu.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=uu.year(t).getDay();return Math.floor((uu.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});uu[t+"s"]=n.range,uu[t+"s"].utc=n.utc.range,uu[t+"OfYear"]=function(t){var n=uu.year(t).getDay();return Math.floor((uu.dayOfYear(t)+(n+e)%7)/7)}}),uu.week=uu.sunday,uu.weeks=uu.sunday.range,uu.weeks.utc=uu.sunday.utc.range,uu.weekOfYear=uu.sundayOfYear;var hu={"-":"",_:" ",0:"0"},pu=/^\s*\d+/,fu=/^%/;ns.locale=function(t){return{numberFormat:Ae(t),timeFormat:qe(t)}};var du=ns.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ns.format=du.numberFormat,ns.geo={},ln.prototype={s:0,t:0,add:function(t){cn(t,this.t,gu),cn(gu.s,this.s,this),this.s?this.t+=gu.t:this.s=gu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gu=new ln;ns.geo.stream=function(t,e){t&&vu.hasOwnProperty(t.type)?vu[t.type](t,e):hn(t,e)};var vu={Feature:function(t,e){hn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)hn(n[r].geometry,e)}},mu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){pn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)pn(n[r],e,0)},Polygon:function(t,e){fn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)hn(n[r],e)}};ns.geo.area=function(t){return yu=0,ns.geo.stream(t,bu),yu};var yu,Mu=new ln,bu={sphere:function(){yu+=4*Ns},point:E,lineStart:E,lineEnd:E,polygonStart:function(){Mu.reset(),bu.lineStart=dn},polygonEnd:function(){var t=2*Mu;yu+=0>t?4*Ns+t:t,bu.lineStart=bu.lineEnd=bu.point=E}};ns.geo.bounds=function(){function t(t,e){M.push(b=[c=t,p=t]),h>e&&(h=e),e>f&&(f=e)}function e(e,n){var r=gn([e*As,n*As]);if(m){var i=mn(m,r),o=[i[1],-i[0],0],a=mn(o,i);bn(a),a=En(a);var u=e-d,l=u>0?1:-1,g=a[0]*Ls*l,v=ds(u)>180;if(v^(g>l*d&&l*e>g)){var y=a[1]*Ls;y>f&&(f=y)}else if(g=(g+360)%360-180,v^(g>l*d&&l*e>g)){var y=-a[1]*Ls;h>y&&(h=y)}else h>n&&(h=n),n>f&&(f=n);v?d>e?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e):p>=c?(c>e&&(c=e),e>p&&(p=e)):e>d?s(c,e)>s(c,p)&&(p=e):s(e,p)>s(c,p)&&(c=e)}else t(e,n);m=r,d=e}function n(){E.point=e}function r(){b[0]=c,b[1]=p,E.point=t,m=null}function i(t,n){if(m){var r=t-d;y+=ds(r)>180?r+(r>0?360:-360):r}else g=t,v=n;bu.point(t,n),e(t,n)}function o(){bu.lineStart()}function a(){i(g,v),bu.lineEnd(),ds(y)>ks&&(c=-(p=180)),b[0]=c,b[1]=p,m=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,p,f,d,g,v,m,y,M,b,E={point:t,lineStart:n,lineEnd:r,polygonStart:function(){E.point=i,E.lineStart=o,E.lineEnd=a,y=0,bu.polygonStart()},polygonEnd:function(){bu.polygonEnd(),E.point=t,E.lineStart=n,E.lineEnd=r,0>Mu?(c=-(p=180),h=-(f=90)):y>ks?f=90:-ks>y&&(h=-90),b[0]=c,b[1]=p}};return function(t){f=p=-(c=h=1/0),M=[],ns.geo.stream(t,E);var e=M.length;if(e){M.sort(u);for(var n,r=1,i=M[0],o=[i];e>r;++r)n=M[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,d=-1/0,e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>d&&(d=a,c=n[0],p=i[1])}return M=b=null,1/0===c||1/0===h?[[0/0,0/0],[0/0,0/0]]:[[c,h],[p,f]]}}(),ns.geo.centroid=function(t){Eu=xu=wu=_u=Su=Cu=Tu=Du=Ru=ku=Ou=0,ns.geo.stream(t,Nu);var e=Ru,n=ku,r=Ou,i=e*e+n*n+r*r;return Os>i&&(e=Cu,n=Tu,r=Du,ks>xu&&(e=wu,n=_u,r=Su),i=e*e+n*n+r*r,Os>i)?[0/0,0/0]:[Math.atan2(n,e)*Ls,ee(r/Math.sqrt(i))*Ls]};var Eu,xu,wu,_u,Su,Cu,Tu,Du,Ru,ku,Ou,Nu={sphere:E,point:wn,lineStart:Sn,lineEnd:Cn,polygonStart:function(){Nu.lineStart=Tn},polygonEnd:function(){Nu.lineStart=Sn}},Pu=Pn(Rn,Ln,zn,[-Ns,-Ns/2]),Iu=1e9;ns.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=Hn(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(ns.geo.conicEqualArea=function(){return Vn(Wn)}).raw=Wn,ns.geo.albers=function(){return ns.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ns.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=ns.geo.albers(),a=ns.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ns.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,r=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+ks,h+.12*l+ks],[c-.214*l-ks,h+.234*l-ks]]).stream(u).point,i=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+ks,h+.166*l+ks],[c-.115*l-ks,h+.234*l-ks]]).stream(u).point,t},t.scale(1070)};var Bu,Au,Lu,Fu,zu,Uu,qu={point:E,lineStart:E,lineEnd:E,polygonStart:function(){Au=0,qu.lineStart=Kn},polygonEnd:function(){qu.lineStart=qu.lineEnd=qu.point=E,Bu+=ds(Au/2)}},ju={point:Yn,lineStart:E,lineEnd:E,polygonStart:E,polygonEnd:E},Hu={point:Qn,lineStart:Zn,lineEnd:$n,polygonStart:function(){Hu.lineStart=Jn},polygonEnd:function(){Hu.point=Qn,Hu.lineStart=Zn,Hu.lineEnd=$n}};ns.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),ns.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Bu=0,ns.geo.stream(t,i(qu)),Bu},t.centroid=function(t){return wu=_u=Su=Cu=Tu=Du=Ru=ku=Ou=0,ns.geo.stream(t,i(Hu)),Ou?[Ru/Ou,ku/Ou]:Du?[Cu/Du,Tu/Du]:Su?[wu/Su,_u/Su]:[0/0,0/0]},t.bounds=function(t){return zu=Uu=-(Lu=Fu=1/0),ns.geo.stream(t,i(ju)),[[Lu,Fu],[zu,Uu]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nr(t):y,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Xn:new tr(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ns.geo.albersUsa()).context(null)},ns.geo.transform=function(t){return{stream:function(e){var n=new rr(e);for(var r in t)n[r]=t[r];return n}}},rr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ns.geo.projection=or,ns.geo.projectionMutator=ar,(ns.geo.equirectangular=function(){return or(ur)}).raw=ur.invert=ur,ns.geo.rotation=function(t){function e(e){return e=t(e[0]*As,e[1]*As),e[0]*=Ls,e[1]*=Ls,e}return t=cr(t[0]%360*As,t[1]*As,t.length>2?t[2]*As:0),e.invert=function(e){return e=t.invert(e[0]*As,e[1]*As),e[0]*=Ls,e[1]*=Ls,e},e},lr.invert=ur,ns.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=cr(-t[0]*As,-t[1]*As,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Ls,t[1]*=Ls}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=dr((e=+r)*As,i*As),t):e},t.precision=function(r){return arguments.length?(n=dr(e*As,(i=+r)*As),t):i},t.angle(90)},ns.geo.distance=function(t,e){var n,r=(e[0]-t[0])*As,i=t[1]*As,o=e[1]*As,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},ns.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ns.range(Math.ceil(o/v)*v,i,v).map(p).concat(ns.range(Math.ceil(l/m)*m,u,m).map(f)).concat(ns.range(Math.ceil(r/d)*d,n,d).filter(function(t){return ds(t%v)>ks}).map(c)).concat(ns.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ds(t%m)>ks}).map(h))}var n,r,i,o,a,s,u,l,c,h,p,f,d=10,g=d,v=90,m=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(f(u).slice(1),p(i).reverse().slice(1),f(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.minorStep=function(e){return arguments.length?(d=+e[0],g=+e[1],t):[d,g]},t.precision=function(e){return arguments.length?(y=+e,c=vr(s,a,90),h=mr(r,n,y),p=vr(l,u,90),f=mr(o,i,y),t):y},t.majorExtent([[-180,-90+ks],[180,90-ks]]).minorExtent([[-180,-80-ks],[180,80+ks]])},ns.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=yr,i=Mr;return t.distance=function(){return ns.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},ns.geo.interpolate=function(t,e){return br(t[0]*As,t[1]*As,e[0]*As,e[1]*As)},ns.geo.length=function(t){return Vu=0,ns.geo.stream(t,Wu),Vu};var Vu,Wu={sphere:E,point:E,lineStart:Er,lineEnd:E,polygonStart:E,polygonEnd:E},Ku=xr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ns.geo.azimuthalEqualArea=function(){return or(Ku)}).raw=Ku;var Yu=xr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ns.geo.azimuthalEquidistant=function(){return or(Yu)}).raw=Yu,(ns.geo.conicConformal=function(){return Vn(wr)}).raw=wr,(ns.geo.conicEquidistant=function(){return Vn(_r)}).raw=_r;var Xu=xr(function(t){return 1/t},Math.atan);(ns.geo.gnomonic=function(){return or(Xu)}).raw=Xu,Sr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Bs]},(ns.geo.mercator=function(){return Cr(Sr)}).raw=Sr;var Gu=xr(function(){return 1},Math.asin);(ns.geo.orthographic=function(){return or(Gu)}).raw=Gu;var Qu=xr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ns.geo.stereographic=function(){return or(Qu)}).raw=Qu,Tr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Bs]},(ns.geo.transverseMercator=function(){var t=Cr(Tr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Tr,ns.geom={},ns.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Ce(n),o=Ce(r),a=t.length,s=[],u=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Or),e=0;a>e;e++)u.push([s[e][0],-s[e][1]]);var l=kr(s),c=kr(u),h=c[0]===l[0],p=c[c.length-1]===l[l.length-1],f=[];for(e=l.length-1;e>=0;--e)f.push(t[s[l[e]][2]]);for(e=+h;e<c.length-p;++e)f.push(t[s[c[e]][2]]);return f}var n=Dr,r=Rr;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ns.geom.polygon=function(t){return Ms(t,Zu),t};var Zu=ns.geom.polygon.prototype=[];Zu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Zu.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Zu.clip=function(t){for(var e,n,r,i,o,a,s=Ir(t),u=-1,l=this.length-Ir(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Nr(a,c,i)?(Nr(o,c,i)||t.push(Pr(o,a,c,i)),t.push(a)):Nr(o,c,i)&&t.push(Pr(o,a,c,i)),o=a;
s&&t.push(t[0]),c=i}return t};var $u,Ju,tl,el,nl,rl=[],il=[];jr.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Vr),e.length},ti.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ei.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=oi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ri(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ii(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ii(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ri(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?oi(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ri(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ii(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ri(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,ii(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ii(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},ns.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ai(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/ks)*ks,y:Math.round(a(t,e)/ks)*ks,i:e}})}var r=Dr,i=Rr,o=r,a=i,s=ol;return t?e(t):(e.links=function(t){return ai(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ai(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Vr),u=-1,l=s.length,c=s[l-1].edge,h=c.l===a?c.r:c.l;++u<l;)i=c,o=h,c=s[u].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&ui(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Ce(r=t),e):r},e.y=function(t){return arguments.length?(a=Ce(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?ol:t,e):s===ol?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ol?null:s&&s[1]},e)};var ol=[[-1e6,-1e6],[1e6,1e6]];ns.geom.delaunay=function(t){return ns.geom.voronoi().triangles(t)},ns.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(ds(u-n)+ds(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),h=n>=l,p=r>=c,f=p<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=hi()),h?i=l:s=l,p?a=c:u=c,o(t,e,n,r,i,a,s,u)}var c,h,p,f,d,g,v,m,y,M=Ce(s),b=Ce(u);if(null!=e)g=e,v=n,m=r,y=i;else if(m=y=-(g=v=1/0),h=[],p=[],d=t.length,a)for(f=0;d>f;++f)c=t[f],c.x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>m&&(m=c.x),c.y>y&&(y=c.y),h.push(c.x),p.push(c.y);else for(f=0;d>f;++f){var E=+M(c=t[f],f),x=+b(c,f);g>E&&(g=E),v>x&&(v=x),E>m&&(m=E),x>y&&(y=x),h.push(E),p.push(x)}var w=m-g,_=y-v;w>_?y=v+w:m=g+_;var S=hi();if(S.add=function(t){o(S,t,+M(t,++f),+b(t,f),g,v,m,y)},S.visit=function(t){pi(t,S,g,v,m,y)},S.find=function(t){return fi(S,t[0],t[1],g,v,m,y)},f=-1,null==e){for(;++f<d;)o(S,t[f],h[f],p[f],g,v,m,y);--f}else t.forEach(S.add);return h=p=t=c=null,S}var a,s=Dr,u=Rr;return(a=arguments.length)?(s=li,u=ci,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},ns.interpolateRgb=di,ns.interpolateObject=gi,ns.interpolateNumber=vi,ns.interpolateString=mi;var al=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(al.source,"g");ns.interpolate=yi,ns.interpolators=[function(t,e){var n=typeof e;return("string"===n?$s.has(e)||/^(#|rgb\(|hsl\()/.test(e)?di:mi:e instanceof ae?di:Array.isArray(e)?Mi:"object"===n&&isNaN(e)?gi:vi)(t,e)}],ns.interpolateArray=Mi;var ul=function(){return y},ll=ns.map({linear:ul,poly:Ci,quad:function(){return wi},cubic:function(){return _i},sin:function(){return Ti},exp:function(){return Di},circle:function(){return Ri},elastic:ki,back:Oi,bounce:function(){return Ni}}),cl=ns.map({"in":y,out:Ei,"in-out":xi,"out-in":function(t){return xi(Ei(t))}});ns.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ll.get(n)||ul,r=cl.get(r)||y,bi(r(n.apply(null,rs.call(arguments,1))))},ns.interpolateHcl=Pi,ns.interpolateHsl=Ii,ns.interpolateLab=Bi,ns.interpolateRound=Ai,ns.transform=function(t){var e=os.createElementNS(ns.ns.prefix.svg,"g");return(ns.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Li(n?n.matrix:hl)})(t)},Li.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hl={a:1,b:0,c:0,d:1,e:0,f:0};ns.interpolateTransform=qi,ns.layout={},ns.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Vi(t[n]));return e}},ns.layout.chord=function(){function t(){var t,l,h,p,f,d={},g=[],v=ns.range(o),m=[];for(n=[],r=[],t=0,p=-1;++p<o;){for(l=0,f=-1;++f<o;)l+=i[p][f];g.push(l),m.push(ns.range(o)),t+=l}for(a&&v.sort(function(t,e){return a(g[t],g[e])}),s&&m.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Ps-c*o)/t,l=0,p=-1;++p<o;){for(h=l,f=-1;++f<o;){var y=v[p],M=m[y][f],b=i[y][M],E=l,x=l+=b*t;d[y+"-"+M]={index:y,subindex:M,startAngle:E,endAngle:x,value:b}}r[y]={index:y,startAngle:h,endAngle:l,value:(l-h)/t},l+=c}for(p=-1;++p<o;)for(f=p-1;++f<o;){var w=d[p+"-"+f],_=d[f+"-"+p];(w.value||_.value)&&n.push(w.value<_.value?{source:_,target:w}:{source:w,target:_})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},ns.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(u>s*s/v){if(d>u){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&d>u){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=ns.event.x,t.py=ns.event.y,s.resume()}var n,r,i,o,a,s={},u=ns.dispatch("start","tick","end"),l=[1,1],c=.9,h=pl,p=fl,f=-30,d=dl,g=.1,v=.64,m=[],M=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,h,p,d,v,y,b,E=m.length,x=M.length;for(n=0;x>n;++n)s=M[n],h=s.source,p=s.target,y=p.x-h.x,b=p.y-h.y,(d=y*y+b*b)&&(d=r*o[n]*((d=Math.sqrt(d))-i[n])/d,y*=d,b*=d,p.x-=y*(v=h.weight/(p.weight+h.weight)),p.y-=b*v,h.x+=y*(v=1-v),h.y+=b*v);if((v=r*g)&&(y=l[0]/2,b=l[1]/2,n=-1,v))for(;++n<E;)s=m[n],s.x+=(y-s.x)*v,s.y+=(b-s.y)*v;if(f)for(Zi(e=ns.geom.quadtree(m),r,a),n=-1;++n<E;)(s=m[n]).fixed||e.visit(t(s));for(n=-1;++n<E;)s=m[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(M=t,s):M},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(d=t*t,s):Math.sqrt(d)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),ns.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;c>s;++s){var i=M[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=m.length,c=M.length,d=l[0],g=l[1];for(e=0;u>e;++e)(r=m[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=M[e],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(e=0;u>e;++e)r=m[e],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;c>e;++e)i[e]=+h.call(this,M[e],e);else for(e=0;c>e;++e)i[e]=h;if(o=[],"function"==typeof p)for(e=0;c>e;++e)o[e]=+p.call(this,M[e],e);else for(e=0;c>e;++e)o[e]=p;if(a=[],"function"==typeof f)for(e=0;u>e;++e)a[e]=+f.call(this,m[e],e);else for(e=0;u>e;++e)a[e]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=ns.behavior.drag().origin(y).on("dragstart.force",Yi).on("drag.force",e).on("dragend.force",Xi)),arguments.length?void this.on("mouseover.force",Gi).on("mouseout.force",Qi).call(n):n},ns.rebind(s,u,"on")};var pl=20,fl=1,dl=1/0;ns.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return to(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ro,n=eo,r=no;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Ji(e,function(t){t.children&&(t.value=0)}),to(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ns.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=ns.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},$i(n,r)},ns.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-c,p=Math.min(Math.abs(h)/u,+("function"==typeof o?o.apply(this,arguments):o)),f=p*(0>h?-1:1),d=(h-u*f)/ns.sum(l),g=ns.range(u),v=[];return null!=n&&g.sort(n===gl?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){v[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*d+f,padAngle:p}}),v}var e=Number,n=gl,r=0,i=Ps,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var gl={};ns.layout.stack=function(){function t(s,u){if(!(p=s.length))return s;var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=ns.permute(l,h),c=ns.permute(c,h);var p,f,d,g,v=r.call(t,c,u),m=l[0].length;for(d=0;m>d;++d)for(i.call(t,l[0][d],g=v[d],c[0][d][1]),f=1;p>f;++f)i.call(t,l[f][d],g+=c[f-1][d][1],c[f][d][1]);return s}var e=y,n=uo,r=lo,i=so,o=oo,a=ao;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:vl.get(e)||uo,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:ml.get(e)||lo,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var vl=ns.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(co),o=t.map(ho),a=ns.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;r>e;++e)n=a[e],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ns.range(t.length).reverse()},"default":uo}),ml=ns.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],p=h.length,f=[];for(f[0]=u=l=0,n=1;p>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}f[n]=u-=i?o/i*s:0,l>u&&(l=u)}for(n=0;p>n;++n)f[n]-=l;return f},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:lo});ns.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),h=i.call(this,c,l,o),o=-1,p=l.length,f=h.length-1,d=e?1:1/p;++o<f;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(f>0)for(o=-1;++o<p;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[ns.bisect(h,s,1,f)-1],a.y+=d,a.push(t[o]));return u}var e=!0,n=Number,r=vo,i=fo;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Ce(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return go(t,e)}:Ce(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ns.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,to(s,function(t){t.r=+c(t.value)}),to(s,Eo),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;to(s,function(t){t.r+=h}),to(s,Eo),to(s,function(t){t.r-=h})}return _o(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=ns.layout.hierarchy().sort(mo),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},$i(t,n)},ns.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),h=c[0],p=e(h);if(to(p,n),p.parent.m=-p.z,Ji(p,r),l)Ji(h,o);else{var f=h,d=h,g=h;Ji(h,function(t){t.x<f.x&&(f=t),t.x>d.x&&(d=t),t.depth>g.depth&&(g=t)});var v=s(f,d)/2-f.x,m=u[0]/(d.x+s(d,f)/2+v),y=u[1]/(g.depth||1);Ji(h,function(t){t.x=(t.x+v)*m,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){ko(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],l=i.m,c=o.m,h=a.m,p=u.m;a=Do(a),i=To(i),a&&i;)u=To(u),o=Do(o),o.a=t,r=a.z+h-i.z-l+s(a._,i._),r>0&&(Ro(Oo(a,t,n),t,r),l+=r,c+=r),h+=a.m,l+=i.m,p+=u.m,c+=o.m;a&&!Do(o)&&(o.t=a,o.m+=h-c),i&&!To(u)&&(u.t=i,u.m+=l-p,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=ns.layout.hierarchy().sort(null).value(null),s=Co,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},$i(t,a)},ns.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;to(u,function(t){var e=t.children;e&&e.length?(t.x=Po(e),t.y=No(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Io(u),h=Bo(u),p=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return to(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-p)/(f-p)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=ns.layout.hierarchy().sort(null).value(null),n=Co,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},$i(t,e)},ns.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],p=o.slice(),d=1/0,g="slice"===f?l.dx:"dice"===f?l.dy:"slice-dice"===f?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(p,l.dx*l.dy/n.value),c.area=0;(u=p.length)>0;)c.push(a=p[u-1]),c.area+=a.area,"squarify"!==f||(s=r(c,g))<=d?(p.pop(),d=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,d=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*d/r,r/(e*o*d)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),p&&(a=i),i}var a,s=ns.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=Ao,p=!1,f="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Ao(e):Lo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Lo(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?Ao:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(p=t,a=null,o):p},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(f=t+"",o):f},$i(o,s)},ns.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=ns.random.normal.apply(ns,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ns.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ns.scale={};var yl={floor:y,ceil:y};ns.scale.linear=function(){return Vo([0,1],[0,1],yi,!1)};var Ml={s:1,g:1,p:1,r:1,e:1};ns.scale.log=function(){return $o(ns.scale.linear().domain([0,1]),10,!0,[1,10])};var bl=ns.format(".0e"),El={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ns.scale.pow=function(){return Jo(ns.scale.linear(),1,[0,1])},ns.scale.sqrt=function(){return ns.scale.pow().exponent(.5)},ns.scale.ordinal=function(){return ea([],{t:"range",a:[[]]})},ns.scale.category10=function(){return ns.scale.ordinal().range(xl)},ns.scale.category20=function(){return ns.scale.ordinal().range(wl)},ns.scale.category20b=function(){return ns.scale.ordinal().range(_l)},ns.scale.category20c=function(){return ns.scale.ordinal().range(Sl)};var xl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Me),wl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Me),_l=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Me),Sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Me);ns.scale.quantile=function(){return na([],[])},ns.scale.quantize=function(){return ra(0,1,[0,1])},ns.scale.threshold=function(){return ia([.5],[0,1])},ns.scale.identity=function(){return oa([0,1])},ns.svg={},ns.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Bs,h=s.apply(this,arguments)-Bs,p=Math.abs(h-c),f=c>h?0:1;if(t>l&&(d=l,l=t,t=d),p>=Is)return e(l,f)+(t?e(t,1-f):"")+"Z";var d,g,v,m,y,M,b,E,x,w,_,S,C=0,T=0,D=[];if((m=(+u.apply(this,arguments)||0)/2)&&(v=o===Cl?Math.sqrt(t*t+l*l):+o.apply(this,arguments),f||(T*=-1),l&&(T=ee(v/l*Math.sin(m))),t&&(C=ee(v/t*Math.sin(m)))),l){y=l*Math.cos(c+T),M=l*Math.sin(c+T),b=l*Math.cos(h-T),E=l*Math.sin(h-T);var R=Math.abs(h-c-2*T)<=Ns?0:1;if(T&&pa(y,M,b,E)===f^R){var k=(c+h)/2;y=l*Math.cos(k),M=l*Math.sin(k),b=E=null}}else y=M=0;if(t){x=t*Math.cos(h-C),w=t*Math.sin(h-C),_=t*Math.cos(c+C),S=t*Math.sin(c+C);var O=Math.abs(c-h+2*C)<=Ns?0:1;if(C&&pa(x,w,_,S)===1-f^O){var N=(c+h)/2;x=t*Math.cos(N),w=t*Math.sin(N),_=S=null}}else x=w=0;if((d=Math.min(Math.abs(l-t)/2,+i.apply(this,arguments)))>.001){g=l>t^f?0:1;var P=null==_?[x,w]:null==b?[y,M]:Pr([y,M],[_,S],[b,E],[x,w]),I=y-P[0],B=M-P[1],A=b-P[0],L=E-P[1],F=1/Math.sin(Math.acos((I*A+B*L)/(Math.sqrt(I*I+B*B)*Math.sqrt(A*A+L*L)))/2),z=Math.sqrt(P[0]*P[0]+P[1]*P[1]);if(null!=b){var U=Math.min(d,(l-z)/(F+1)),q=fa(null==_?[x,w]:[_,S],[y,M],l,U,f),j=fa([b,E],[x,w],l,U,f);d===U?D.push("M",q[0],"A",U,",",U," 0 0,",g," ",q[1],"A",l,",",l," 0 ",1-f^pa(q[1][0],q[1][1],j[1][0],j[1][1]),",",f," ",j[1],"A",U,",",U," 0 0,",g," ",j[0]):D.push("M",q[0],"A",U,",",U," 0 1,",g," ",j[0])}else D.push("M",y,",",M);if(null!=_){var H=Math.min(d,(t-z)/(F-1)),V=fa([y,M],[_,S],t,-H,f),W=fa([x,w],null==b?[y,M]:[b,E],t,-H,f);d===H?D.push("L",W[0],"A",H,",",H," 0 0,",g," ",W[1],"A",t,",",t," 0 ",f^pa(W[1][0],W[1][1],V[1][0],V[1][1]),",",1-f," ",V[1],"A",H,",",H," 0 0,",g," ",V[0]):D.push("L",W[0],"A",H,",",H," 0 0,",g," ",V[0])}else D.push("L",x,",",w)}else D.push("M",y,",",M),null!=b&&D.push("A",l,",",l," 0 ",R,",",f," ",b,",",E),D.push("L",x,",",w),null!=_&&D.push("A",t,",",t," 0 ",O,",",1-f," ",_,",",S);return D.push("Z"),D.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=sa,r=ua,i=aa,o=Cl,a=la,s=ca,u=ha;return t.innerRadius=function(e){return arguments.length?(n=Ce(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Ce(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Ce(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Cl?Cl:Ce(e),t):o},t.startAngle=function(e){return arguments.length?(a=Ce(e),t):a},t.endAngle=function(e){return arguments.length?(s=Ce(e),t):s},t.padAngle=function(e){return arguments.length?(u=Ce(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Bs;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Cl="auto";ns.svg.line=function(){return da(y)};var Tl=ns.map({linear:ga,"linear-closed":va,step:ma,"step-before":ya,"step-after":Ma,basis:Sa,"basis-open":Ca,"basis-closed":Ta,bundle:Da,cardinal:xa,"cardinal-open":ba,"cardinal-closed":Ea,monotone:Ia});Tl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Dl=[0,2/3,1/3,0],Rl=[0,1/3,2/3,0],kl=[0,1/6,2/3,1/6];ns.svg.line.radial=function(){var t=da(Ba);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ya.reverse=Ma,Ma.reverse=ya,ns.svg.area=function(){return Aa(y)},ns.svg.area.radial=function(){var t=Aa(Ba);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ns.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)-Bs,c=l.call(t,i,r)-Bs;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ns)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=yr,a=Mr,s=La,u=la,l=ca;return t.radius=function(e){return arguments.length?(s=Ce(e),t):s},t.source=function(e){return arguments.length?(o=Ce(e),t):o},t.target=function(e){return arguments.length?(a=Ce(e),t):a},t.startAngle=function(e){return arguments.length?(u=Ce(e),t):u},t.endAngle=function(e){return arguments.length?(l=Ce(e),t):l},t},ns.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=yr,n=Mr,r=Fa;return t.source=function(n){return arguments.length?(e=Ce(n),t):e},t.target=function(e){return arguments.length?(n=Ce(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ns.svg.diagonal.radial=function(){var t=ns.svg.diagonal(),e=Fa,n=t.projection;return t.projection=function(t){return arguments.length?n(za(e=t)):e},t},ns.svg.symbol=function(){function t(t,r){return(Ol.get(e.call(this,t,r))||ja)(n.call(this,t,r))}var e=qa,n=Ua;return t.type=function(n){return arguments.length?(e=Ce(n),t):e},t.size=function(e){return arguments.length?(n=Ce(e),t):n},t};var Ol=ns.map({circle:ja,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Pl)),n=e*Pl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Nl),n=e*Nl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Nl),n=e*Nl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ns.svg.symbolTypes=Ol.keys();var Nl=Math.sqrt(3),Pl=Math.tan(30*As);ws.transition=function(t){for(var e,n,r=Il||++Fl,i=Ya(t),o=[],a=Bl||{time:Date.now(),ease:Si,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&Xa(n,c,i,r,a),e.push(n)}return Va(o,i,r)},ws.interrupt=function(t){return this.each(null==t?Al:Ha(Ya(t)))};var Il,Bl,Al=Ha(Ya()),Ll=[],Fl=0;Ll.call=ws.call,Ll.empty=ws.empty,Ll.node=ws.node,Ll.size=ws.size,ns.transition=function(t,e){return t&&t.transition?Il?t.transition(e):t:ns.selection().transition(t)},ns.transition.prototype=Ll,Ll.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=D(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Xa(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return Va(a,o,i)},Ll.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=R(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],p=-1,f=h.length;++p<f;)if(r=h[p]){o=r[s][a],n=t.call(r,r.__data__,p,l),u.push(e=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&Xa(i,d,s,a,o),e.push(i)}return Va(u,s,a)},Ll.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=q(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Va(i,this.namespace,this.id)},Ll.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):H(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Ll.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?qi:yi,s=ns.ns.qualify(t);return Wa(this,"attr."+t,e,s.local?o:i)},Ll.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=ns.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Ll.style=function(t,n,r){function i(){this.style.removeProperty(t)}function o(n){return null==n?i:(n+="",function(){var i,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(i=yi(o,n),function(e){this.style.setProperty(t,i(e),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(r in t)this.style(r,t[r],n);return this}r=""}return Wa(this,"style."+t,n,o)},Ll.styleTween=function(t,n,r){function i(i,o){var a=n.call(this,i,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,i)},Ll.text=function(t){return Wa(this,"text",t,Ka)},Ll.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ll.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ns.ease.apply(ns,arguments)),H(this,function(r){r[n][e].ease=t}))},Ll.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:H(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Ll.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:H(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t
}))},Ll.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Bl,o=Il;try{Il=n,H(this,function(e,i,o){Bl=e[r][n],t.call(e,e.__data__,i,o)})}finally{Bl=i,Il=o}}else H(this,function(i){var o=i[r][n];(o.event||(o.event=ns.dispatch("start","end","interrupt"))).on(t,e)});return this},Ll.transition=function(){for(var t,e,n,r,i=this.id,o=++Fl,a=this.namespace,s=[],u=0,l=this.length;l>u;u++){s.push(t=[]);for(var e=this[u],c=0,h=e.length;h>c;c++)(n=e[c])&&(r=n[a][i],Xa(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Va(s,a,o)},ns.svg.axis=function(){function t(t){t.each(function(){var t,l=ns.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),p=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,f=null==e?h.tickFormat?h.tickFormat.apply(h,s):y:e,d=l.selectAll(".tick").data(p,h),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",ks),v=ns.transition(d.exit()).style("opacity",ks).remove(),m=ns.transition(d.order()).style("opacity",1),M=Math.max(i,0)+a,b=zo(h),E=l.selectAll(".domain").data([0]),x=(E.enter().append("path").attr("class","domain"),ns.transition(E));g.append("line"),g.append("text");var w,_,S,C,T=g.select("line"),D=m.select("line"),R=d.select("text").text(f),k=g.select("text"),O=m.select("text"),N="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Ga,w="x",S="y",_="x2",C="y2",R.attr("dy",0>N?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+b[0]+","+N*o+"V0H"+b[1]+"V"+N*o)):(t=Qa,w="y",S="x",_="y2",C="x2",R.attr("dy",".32em").style("text-anchor",0>N?"end":"start"),x.attr("d","M"+N*o+","+b[0]+"H0V"+b[1]+"H"+N*o)),T.attr(C,N*i),k.attr(S,N*M),D.attr(_,0).attr(C,N*i),O.attr(w,0).attr(S,N*M),h.rangeBand){var P=h,I=P.rangeBand()/2;c=h=function(t){return P(t)+I}}else c.rangeBand?c=h:v.call(t,h,c);g.call(t,c,h),m.call(t,h,h)})}var e,n=ns.scale.linear(),r=zl,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Ul?e+"":zl,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var zl="bottom",Ul={top:1,right:1,bottom:1,left:1};ns.svg.brush=function(){function t(e){e.each(function(){var e=ns.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return ql[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=ns.transition(e),p=ns.transition(a);l&&(u=zo(l),p.attr("x",u[0]).attr("width",u[1]-u[0]),r(h)),c&&(u=zo(c),p.attr("y",u[0]).attr("height",u[1]-u[0]),i(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+p[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",p[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",p[1]-p[0])}function o(){function o(){32==ns.event.keyCode&&(R||(M=null,O[0]-=h[1],O[1]-=p[1],R=2),_())}function g(){32==ns.event.keyCode&&2==R&&(O[0]+=h[1],O[1]+=p[1],R=0,_())}function v(){var t=ns.mouse(E),e=!1;b&&(t[0]+=b[0],t[1]+=b[1]),R||(ns.event.altKey?(M||(M=[(h[0]+h[1])/2,(p[0]+p[1])/2]),O[0]=h[+(t[0]<M[0])],O[1]=p[+(t[1]<M[1])]):M=null),T&&m(t,l,0)&&(r(S),e=!0),D&&m(t,c,1)&&(i(S),e=!0),e&&(n(S),w({type:"brush",mode:R?"move":"resize"}))}function m(t,e,n){var r,i,o=zo(e),u=o[0],l=o[1],c=O[n],g=n?p:h,v=g[1]-g[0];return R&&(u-=c,l-=v+c),r=(n?d:f)?Math.max(u,Math.min(l,t[n])):t[n],R?i=(r+=c)+v:(M&&(c=Math.max(u,Math.min(l,2*M[n]-r))),r>c?(i=r,r=c):i=c),g[0]!=r||g[1]!=i?(n?s=null:a=null,g[0]=r,g[1]=i,!0):void 0}function y(){v(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ns.select("body").style("cursor",null),N.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),w({type:"brushend"})}var M,b,E=this,x=ns.select(ns.event.target),w=u.of(E,arguments),S=ns.select(E),C=x.datum(),T=!/^(n|s)$/.test(C)&&l,D=!/^(e|w)$/.test(C)&&c,R=x.classed("extent"),k=G(E),O=ns.mouse(E),N=ns.select(e(E)).on("keydown.brush",o).on("keyup.brush",g);if(ns.event.changedTouches?N.on("touchmove.brush",v).on("touchend.brush",y):N.on("mousemove.brush",v).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),R)O[0]=h[0]-O[0],O[1]=p[0]-O[1];else if(C){var P=+/w$/.test(C),I=+/^n/.test(C);b=[h[1-P]-O[0],p[1-I]-O[1]],O[0]=h[P],O[1]=p[I]}else ns.event.altKey&&(M=O.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),ns.select("body").style("cursor",x.style("cursor")),w({type:"brushstart"}),v()}var a,s,u=C(t,"brushstart","brush","brushend"),l=null,c=null,h=[0,0],p=[0,0],f=!0,d=!0,g=jl[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:p,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Il?ns.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,h=n.x,p=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Mi(h,e.x),r=Mi(p,e.y);return a=s=null,function(i){h=e.x=n(i),p=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=jl[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=jl[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(f=!!e[0],d=!!e[1]):l?f=!!e:c&&(d=!!e),t):l&&c?[f,d]:l?f:c?d:null},t.extent=function(e){var n,r,i,o,u;return arguments.length?(l&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(u=n,n=r,r=u),(n!=h[0]||r!=h[1])&&(h=[n,r])),c&&(i=e[0],o=e[1],l&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),i>o&&(u=i,i=o,o=u),(i!=p[0]||o!=p[1])&&(p=[i,o])),t):(l&&(a?(n=a[0],r=a[1]):(n=h[0],r=h[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(u=n,n=r,r=u))),c&&(s?(i=s[0],o=s[1]):(i=p[0],o=p[1],c.invert&&(i=c.invert(i),o=c.invert(o)),i>o&&(u=i,i=o,o=u))),l&&c?[[n,i],[r,o]]:l?[n,r]:c&&[i,o])},t.clear=function(){return t.empty()||(h=[0,0],p=[0,0],a=s=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!c&&p[0]==p[1]},ns.rebind(t,u,"on")};var ql={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},jl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hl=uu.format=du.timeFormat,Vl=Hl.utc,Wl=Vl("%Y-%m-%dT%H:%M:%S.%LZ");Hl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Za:Wl,Za.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Za.toString=Wl.toString,uu.second=ze(function(t){return new lu(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),uu.seconds=uu.second.range,uu.seconds.utc=uu.second.utc.range,uu.minute=ze(function(t){return new lu(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),uu.minutes=uu.minute.range,uu.minutes.utc=uu.minute.utc.range,uu.hour=ze(function(t){var e=t.getTimezoneOffset()/60;return new lu(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),uu.hours=uu.hour.range,uu.hours.utc=uu.hour.utc.range,uu.month=ze(function(t){return t=uu.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),uu.months=uu.month.range,uu.months.utc=uu.month.utc.range;var Kl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yl=[[uu.second,1],[uu.second,5],[uu.second,15],[uu.second,30],[uu.minute,1],[uu.minute,5],[uu.minute,15],[uu.minute,30],[uu.hour,1],[uu.hour,3],[uu.hour,6],[uu.hour,12],[uu.day,1],[uu.day,2],[uu.week,1],[uu.month,1],[uu.month,3],[uu.year,1]],Xl=Hl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Rn]]),Gl={range:function(t,e,n){return ns.range(Math.ceil(t/n)*n,+e,n).map(Ja)},floor:y,ceil:y};Yl.year=uu.year,uu.scale=function(){return $a(ns.scale.linear(),Yl,Xl)};var Ql=Yl.map(function(t){return[t[0].utc,t[1]]}),Zl=Vl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Rn]]);Ql.year=uu.year.utc,uu.scale.utc=function(){return $a(ns.scale.linear(),Ql,Zl)},ns.text=Te(function(t){return t.responseText}),ns.json=function(t,e){return De(t,"application/json",ts,e)},ns.html=function(t,e){return De(t,"text/html",es,e)},ns.xml=Te(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define("d3",ns):"object"==typeof module&&module.exports&&(module.exports=ns),this.d3=ns}(),function(){var t=this,e=t._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,s=r.slice,u=r.concat,l=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,f=r.reduce,d=r.reduceRight,g=r.filter,v=r.every,m=r.some,y=r.indexOf,M=r.lastIndexOf,b=Array.isArray,E=Object.keys,x=o.bind,w=function(t){return t instanceof w?t:this instanceof w?void(this._wrapped=t):new w(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=w),exports._=w):t._=w,w.VERSION="1.6.0";var _=w.each=w.forEach=function(t,e,r){if(null==t)return t;if(h&&t.forEach===h)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(r,t[i],i,t)===n)return}else for(var a=w.keys(t),i=0,o=a.length;o>i;i++)if(e.call(r,t[a[i]],a[i],t)===n)return;return t};w.map=w.collect=function(t,e,n){var r=[];return null==t?r:p&&t.map===p?t.map(e,n):(_(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var S="Reduce of empty array with no initial value";w.reduce=w.foldl=w.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return r&&(e=w.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(_(t,function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)}),!i)throw new TypeError(S);return n},w.reduceRight=w.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(e=w.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=w.keys(t);o=a.length}if(_(t,function(s,u,l){u=a?a[--o]:--o,i?n=e.call(r,n,t[u],u,l):(n=t[u],i=!0)}),!i)throw new TypeError(S);return n},w.find=w.detect=function(t,e,n){var r;return C(t,function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0}),r},w.filter=w.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(_(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},w.reject=function(t,e,n){return w.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},w.every=w.all=function(t,e,r){e||(e=w.identity);var i=!0;return null==t?i:v&&t.every===v?t.every(e,r):(_(t,function(t,o,a){return(i=i&&e.call(r,t,o,a))?void 0:n}),!!i)};var C=w.some=w.any=function(t,e,r){e||(e=w.identity);var i=!1;return null==t?i:m&&t.some===m?t.some(e,r):(_(t,function(t,o,a){return i||(i=e.call(r,t,o,a))?n:void 0}),!!i)};w.contains=w.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):C(t,function(t){return t===e})},w.invoke=function(t,e){var n=s.call(arguments,2),r=w.isFunction(e);return w.map(t,function(t){return(r?e:t[e]).apply(t,n)})},w.pluck=function(t,e){return w.map(t,w.property(e))},w.where=function(t,e){return w.filter(t,w.matches(e))},w.findWhere=function(t,e){return w.find(t,w.matches(e))},w.max=function(t,e,n){if(!e&&w.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-1/0,i=-1/0;return _(t,function(t,o,a){var s=e?e.call(n,t,o,a):t;s>i&&(r=t,i=s)}),r},w.min=function(t,e,n){if(!e&&w.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return _(t,function(t,o,a){var s=e?e.call(n,t,o,a):t;i>s&&(r=t,i=s)}),r},w.shuffle=function(t){var e,n=0,r=[];return _(t,function(t){e=w.random(n++),r[n-1]=r[e],r[e]=t}),r},w.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=w.values(t)),t[w.random(t.length-1)]):w.shuffle(t).slice(0,Math.max(0,e))};var T=function(t){return null==t?w.identity:w.isFunction(t)?t:w.property(t)};w.sortBy=function(t,e,n){return e=T(e),w.pluck(w.map(t,function(t,r,i){return{value:t,index:r,criteria:e.call(n,t,r,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var D=function(t){return function(e,n,r){var i={};return n=T(n),_(e,function(o,a){var s=n.call(r,o,a,e);t(i,s,o)}),i}};w.groupBy=D(function(t,e,n){w.has(t,e)?t[e].push(n):t[e]=[n]}),w.indexBy=D(function(t,e,n){t[e]=n}),w.countBy=D(function(t,e){w.has(t,e)?t[e]++:t[e]=1}),w.sortedIndex=function(t,e,n,r){n=T(n);for(var i=n.call(r,e),o=0,a=t.length;a>o;){var s=o+a>>>1;n.call(r,t[s])<i?o=s+1:a=s}return o},w.toArray=function(t){return t?w.isArray(t)?s.call(t):t.length===+t.length?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:t.length===+t.length?t.length:w.keys(t).length},w.first=w.head=w.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:s.call(t,0,e)},w.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},w.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},w.rest=w.tail=w.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var R=function(t,e,n){return e&&w.every(t,w.isArray)?u.apply(n,t):(_(t,function(t){w.isArray(t)||w.isArguments(t)?e?a.apply(n,t):R(t,e,n):n.push(t)}),n)};w.flatten=function(t,e){return R(t,e,[])},w.without=function(t){return w.difference(t,s.call(arguments,1))},w.partition=function(t,e){var n=[],r=[];return _(t,function(t){(e(t)?n:r).push(t)}),[n,r]},w.uniq=w.unique=function(t,e,n,r){w.isFunction(e)&&(r=n,n=e,e=!1);var i=n?w.map(t,n,r):t,o=[],a=[];return _(i,function(n,r){(e?r&&a[a.length-1]===n:w.contains(a,n))||(a.push(n),o.push(t[r]))}),o},w.union=function(){return w.uniq(w.flatten(arguments,!0))},w.intersection=function(t){var e=s.call(arguments,1);return w.filter(w.uniq(t),function(t){return w.every(e,function(e){return w.contains(e,t)})})},w.difference=function(t){var e=u.apply(r,s.call(arguments,1));return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){for(var t=w.max(w.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;t>n;n++)e[n]=w.pluck(arguments,""+n);return e},w.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},w.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=w.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},w.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(M&&t.lastIndexOf===M)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},w.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o};var k=function(){};w.bind=function(t,e){var n,r;if(x&&t.bind===x)return x.apply(t,s.call(arguments,1));if(!w.isFunction(t))throw new TypeError;return n=s.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(s.call(arguments)));k.prototype=t.prototype;var i=new k;k.prototype=null;var o=t.apply(i,n.concat(s.call(arguments)));return Object(o)===o?o:i}},w.partial=function(t){var e=s.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,o=r.length;o>i;i++)r[i]===w&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},w.bindAll=function(t){var e=s.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return _(e,function(e){t[e]=w.bind(t[e],t)}),t},w.memoize=function(t,e){var n={};return e||(e=w.identity),function(){var r=e.apply(this,arguments);return w.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},w.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},w.defer=function(t){return w.delay.apply(w,[t,1].concat(s.call(arguments,1)))},w.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:w.now(),a=null,o=t.apply(r,i),r=i=null};return function(){var l=w.now();s||n.leading!==!1||(s=l);var c=e-(l-s);return r=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=l,o=t.apply(r,i),r=i=null):a||n.trailing===!1||(a=setTimeout(u,c)),o}},w.debounce=function(t,e,n){var r,i,o,a,s,u=function(){var l=w.now()-a;e>l?r=setTimeout(u,e-l):(r=null,n||(s=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,a=w.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(s=t.apply(o,i),o=i=null),s}},w.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},w.wrap=function(t,e){return w.partial(e,t)},w.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},w.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},w.keys=function(t){if(!w.isObject(t))return[];if(E)return E(t);var e=[];for(var n in t)w.has(t,n)&&e.push(n);return e},w.values=function(t){for(var e=w.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},w.pairs=function(t){for(var e=w.keys(t),n=e.length,r=new Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},w.invert=function(t){for(var e={},n=w.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},w.functions=w.methods=function(t){var e=[];for(var n in t)w.isFunction(t[n])&&e.push(n);return e.sort()},w.extend=function(t){return _(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},w.pick=function(t){var e={},n=u.apply(r,s.call(arguments,1));return _(n,function(n){n in t&&(e[n]=t[n])}),e},w.omit=function(t){var e={},n=u.apply(r,s.call(arguments,1));for(var i in t)w.contains(n,i)||(e[i]=t[i]);return e},w.defaults=function(t){return _(s.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t};var O=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var i=l.call(t);if(i!=l.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var a=t.constructor,s=e.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1;n.push(t),r.push(e);var u=0,c=!0;if("[object Array]"==i){if(u=t.length,c=u==e.length)for(;u--&&(c=O(t[u],e[u],n,r)););}else{for(var h in t)if(w.has(t,h)&&(u++,!(c=w.has(e,h)&&O(t[h],e[h],n,r))))break;if(c){for(h in e)if(w.has(e,h)&&!u--)break;c=!u}}return n.pop(),r.pop(),c};w.isEqual=function(t,e){return O(t,e,[],[])},w.isEmpty=function(t){if(null==t)return!0;if(w.isArray(t)||w.isString(t))return 0===t.length;for(var e in t)if(w.has(t,e))return!1;return!0},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=b||function(t){return"[object Array]"==l.call(t)},w.isObject=function(t){return t===Object(t)},_(["Arguments","Function","String","Number","Date","RegExp"],function(t){w["is"+t]=function(e){return l.call(e)=="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return!(!t||!w.has(t,"callee"))}),"function"!=typeof/./&&(w.isFunction=function(t){return"function"==typeof t}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!=+t},w.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return c.call(t,e)},w.noConflict=function(){return t._=e,this},w.identity=function(t){return t},w.constant=function(t){return function(){return t}},w.property=function(t){return function(e){return e[t]}},w.matches=function(t){return function(e){if(e===t)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0}},w.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;t>i;i++)r[i]=e.call(n,i);return r},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},w.now=Date.now||function(){return(new Date).getTime()};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};N.unescape=w.invert(N.escape);var P={escape:new RegExp("["+w.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+w.keys(N.unescape).join("|")+")","g")};w.each(["escape","unescape"],function(t){w[t]=function(e){return null==e?"":(""+e).replace(P[t],function(e){return N[t][e]})}}),w.result=function(t,e){if(null==t)return void 0;var n=t[e];return w.isFunction(n)?n.call(t):n},w.mixin=function(t){_(w.functions(t),function(e){var n=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),F.call(this,n.apply(w,t))}})};var I=0;w.uniqueId=function(t){var e=++I+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;w.template=function(t,e,n){var r;n=w.defaults({},n,w.templateSettings);var i=new RegExp([(n.escape||B).source,(n.interpolate||B).source,(n.evaluate||B).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,function(e,n,r,i,s){return a+=t.slice(o,s).replace(L,function(t){return"\\"+A[t]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=s+e.length,e}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(e)return r(e,w);var u=function(t){return r.call(this,t,w)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},w.chain=function(t){return w(t).chain()};var F=function(t){return this._chain?w(t).chain():t};w.mixin(w),_(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];w.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],F.call(this,n)}}),_(["concat","join","slice"],function(t){var e=r[t];w.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),w.extend(w.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}.call(this),function(t,e,n,r){"use strict";function i(t,e,n){return setTimeout(c(t,n),e)}function o(t,e,n){return Array.isArray(t)?(a(t,n[e],n),!0):!1}function a(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==r)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function s(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)(!n||n&&t[i[o]]===r)&&(t[i[o]]=e[i[o]]),o++;return t}function u(t,e){return s(t,e,!0)}function l(t,e,n){var r,i=e.prototype;r=t.prototype=Object.create(i),r.constructor=t,r._super=i,n&&s(r,n)}function c(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==ce?t.apply(e?e[0]||r:r,e):t}function p(t,e){return t===r?e:t}function f(t,e,n){a(m(e),function(e){t.addEventListener(e,n,!1)})}function d(t,e,n){a(m(e),function(e){t.removeEventListener(e,n,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return t.indexOf(e)>-1}function m(t){return t.trim().split(/\s+/g)}function y(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function M(t){return Array.prototype.slice.call(t,0)}function b(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];y(i,a)<0&&r.push(t[o]),i[o]=a,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function E(t,e){for(var n,i,o=e[0].toUpperCase()+e.slice(1),a=0;a<ue.length;){if(n=ue[a],i=n?n+o:e,i in t)return i;a++}return r}function x(){return de++}function w(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function _(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&n.handler(e)},this.init()}function S(t){var e,n=t.options.inputClass;return new(e=n?n:me?z:ye?j:ve?V:F)(t,C)}function C(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&_e&&r-i===0,a=e&(Ce|Te)&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,T(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function T(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=k(e)),i>1&&!n.firstMultiple?n.firstMultiple=k(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=O(r);e.timeStamp=fe(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=B(s,u),e.distance=I(s,u),D(n,e),e.offsetDirection=P(e.deltaX,e.deltaY),e.scale=a?L(a.pointers,r):1,e.rotation=a?A(a.pointers,r):0,R(n,e);var l=t.element;g(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function D(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};(e.eventType===_e||o.eventType===Ce)&&(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function R(t,e){var n,i,o,a,s=t.lastInterval||e,u=e.timeStamp-s.timeStamp;if(e.eventType!=Te&&(u>we||s.velocity===r)){var l=s.deltaX-e.deltaX,c=s.deltaY-e.deltaY,h=N(u,l,c);i=h.x,o=h.y,n=pe(h.x)>pe(h.y)?h.x:h.y,a=P(l,c),t.lastInterval=e}else n=s.velocity,i=s.velocityX,o=s.velocityY,a=s.direction;e.velocity=n,e.velocityX=i,e.velocityY=o,e.direction=a}function k(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:he(t.pointers[n].clientX),clientY:he(t.pointers[n].clientY)},n++;return{timeStamp:fe(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:he(t[0].clientX),y:he(t[0].clientY)};for(var n=0,r=0,i=0;e>i;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:he(n/e),y:he(r/e)}}function N(t,e,n){return{x:e/t||0,y:n/t||0}}function P(t,e){return t===e?De:pe(t)>=pe(e)?t>0?Re:ke:e>0?Oe:Ne}function I(t,e,n){n||(n=Ae);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function B(t,e,n){n||(n=Ae);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function A(t,e){return B(e[1],e[0],Le)-B(t[1],t[0],Le)}function L(t,e){return I(e[0],e[1],Le)/I(t[0],t[1],Le)}function F(){this.evEl=ze,this.evWin=Ue,this.allow=!0,this.pressed=!1,_.apply(this,arguments)}function z(){this.evEl=He,this.evWin=Ve,_.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function U(){this.evTarget=Ke,this.evWin=Ye,this.started=!1,_.apply(this,arguments)}function q(t,e){var n=M(t.touches),r=M(t.changedTouches);return e&(Ce|Te)&&(n=b(n.concat(r),"identifier",!0)),[n,r]}function j(){this.evTarget=Ge,this.targetIds={},_.apply(this,arguments)}function H(t,e){var n=M(t.touches),r=this.targetIds;if(e&(_e|Se)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=M(t.changedTouches),s=[],u=this.target;if(o=n.filter(function(t){return g(t.target,u)}),e===_e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),e&(Ce|Te)&&delete r[a[i].identifier],i++;return s.length?[b(o.concat(s),"identifier",!0),s]:void 0}function V(){_.apply(this,arguments);var t=c(this.handler,this);this.touch=new j(this.manager,t),this.mouse=new F(this.manager,t)}function W(t,e){this.manager=t,this.set(e)}function K(t){if(v(t,en))return en;var e=v(t,nn),n=v(t,rn);return e&&n?nn+" "+rn:e||n?e?nn:rn:v(t,tn)?tn:Je}function Y(t){this.id=x(),this.manager=null,this.options=u(t||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=on,this.simultaneous={},this.requireFail=[]}function X(t){return t&cn?"cancel":t&un?"end":t&sn?"move":t&an?"start":""}function G(t){return t==Ne?"down":t==Oe?"up":t==Re?"left":t==ke?"right":""}function Q(t,e){var n=e.manager;return n?n.get(t):t}function Z(){Y.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function J(){Z.apply(this,arguments)}function te(){Y.apply(this,arguments),this._timer=null,this._input=null}function ee(){Z.apply(this,arguments)}function ne(){Z.apply(this,arguments)}function re(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ie(t,e){return e=e||{},e.recognizers=p(e.recognizers,ie.defaults.preset),new oe(t,e)}function oe(t,e){e=e||{},this.options=u(e,ie.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new W(this,this.options.touchAction),ae(this,!0),a(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ae(t,e){var n=t.element;a(t.options.cssProps,function(t,r){n.style[E(n.style,r)]=e?t:""})}function se(t,n){var r=e.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}var ue=["","webkit","moz","MS","ms","o"],le=e.createElement("div"),ce="function",he=Math.round,pe=Math.abs,fe=Date.now,de=1,ge=/mobile|tablet|ip(ad|hone|od)|android/i,ve="ontouchstart"in t,me=E(t,"PointerEvent")!==r,ye=ve&&ge.test(navigator.userAgent),Me="touch",be="pen",Ee="mouse",xe="kinect",we=25,_e=1,Se=2,Ce=4,Te=8,De=1,Re=2,ke=4,Oe=8,Ne=16,Pe=Re|ke,Ie=Oe|Ne,Be=Pe|Ie,Ae=["x","y"],Le=["clientX","clientY"];_.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(w(this.element),this.evWin,this.domHandler)
},destroy:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(w(this.element),this.evWin,this.domHandler)}};var Fe={mousedown:_e,mousemove:Se,mouseup:Ce},ze="mousedown",Ue="mousemove mouseup";l(F,_,{handler:function(t){var e=Fe[t.type];e&_e&&0===t.button&&(this.pressed=!0),e&Se&&1!==t.which&&(e=Ce),this.pressed&&this.allow&&(e&Ce&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ee,srcEvent:t}))}});var qe={pointerdown:_e,pointermove:Se,pointerup:Ce,pointercancel:Te,pointerout:Te},je={2:Me,3:be,4:Ee,5:xe},He="pointerdown",Ve="pointermove pointerup pointercancel";t.MSPointerEvent&&(He="MSPointerDown",Ve="MSPointerMove MSPointerUp MSPointerCancel"),l(z,_,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=qe[r],o=je[t.pointerType]||t.pointerType,a=o==Me,s=y(e,t.pointerId,"pointerId");i&_e&&(0===t.button||a)?0>s&&(e.push(t),s=e.length-1):i&(Ce|Te)&&(n=!0),0>s||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var We={touchstart:_e,touchmove:Se,touchend:Ce,touchcancel:Te},Ke="touchstart",Ye="touchstart touchmove touchend touchcancel";l(U,_,{handler:function(t){var e=We[t.type];if(e===_e&&(this.started=!0),this.started){var n=q.call(this,t,e);e&(Ce|Te)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Me,srcEvent:t})}}});var Xe={touchstart:_e,touchmove:Se,touchend:Ce,touchcancel:Te},Ge="touchstart touchmove touchend touchcancel";l(j,_,{handler:function(t){var e=Xe[t.type],n=H.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:Me,srcEvent:t})}}),l(V,_,{handler:function(t,e,n){var r=n.pointerType==Me,i=n.pointerType==Ee;if(r)this.mouse.allow=!1;else if(i&&!this.mouse.allow)return;e&(Ce|Te)&&(this.mouse.allow=!0),this.callback(t,e,n)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Qe=E(le.style,"touchAction"),Ze=Qe!==r,$e="compute",Je="auto",tn="manipulation",en="none",nn="pan-x",rn="pan-y";W.prototype={set:function(t){t==$e&&(t=this.compute()),Ze&&(this.manager.element.style[Qe]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),K(t.join(" "))},preventDefaults:function(t){if(!Ze){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=v(r,en),o=v(r,rn),a=v(r,nn);return i||o&&n&Pe||a&&n&Ie?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var on=1,an=2,sn=4,un=8,ln=un,cn=16,hn=32;Y.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Q(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=Q(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=Q(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=Q(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(n.options.event+(e?X(r):""),t)}var n=this,r=this.state;un>r&&e(!0),e(),r>=un&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=hn)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(hn|on)))return!1;t++}return!0},recognize:function(t){var e=s({},t);return h(this.options.enable,[this,e])?(this.state&(ln|cn|hn)&&(this.state=on),this.state=this.process(e),void(this.state&(an|sn|un|cn)&&this.tryEmit(e))):(this.reset(),void(this.state=hn))},process:function(){},getTouchAction:function(){},reset:function(){}},l(Z,Y,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(an|sn),i=this.attrTest(t);return r&&(n&Te||!i)?e|cn:r||i?n&Ce?e|un:e&an?e|sn:an:hn}}),l($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Be},getTouchAction:function(){var t=this.options.direction,e=[];return t&Pe&&e.push(rn),t&Ie&&e.push(nn),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,a=t.deltaY;return i&e.direction||(e.direction&Pe?(i=0===o?De:0>o?Re:ke,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===a?De:0>a?Oe:Ne,n=a!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&an||!(this.state&an)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),l(J,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&an)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),l(te,Y,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Je]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(Ce|Te)&&!o)this.reset();else if(t.eventType&_e)this.reset(),this._timer=i(function(){this.state=ln,this.tryEmit()},e.time,this);else if(t.eventType&Ce)return ln;return hn},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ln&&(t&&t.eventType&Ce?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=fe(),this.manager.emit(this.options.event,this._input)))}}),l(ee,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[en]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&an)}}),l(ne,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Pe|Ie,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Pe|Ie)?e=t.velocity:n&Pe?e=t.velocityX:n&Ie&&(e=t.velocityY),this._super.attrTest.call(this,t)&&n&t.direction&&t.distance>this.options.threshold&&pe(e)>this.options.velocity&&t.eventType&Ce},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),l(re,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[tn]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&_e&&0===this.count)return this.failTimeout();if(r&&o&&n){if(t.eventType!=Ce)return this.failTimeout();var a=this.pTime?t.timeStamp-this.pTime<e.interval:!0,s=!this.pCenter||I(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t;var u=this.count%e.taps;if(0===u)return this.hasRequireFailures()?(this._timer=i(function(){this.state=ln,this.tryEmit()},e.interval,this),an):ln}return hn},failTimeout:function(){return this._timer=i(function(){this.state=hn},this.options.interval,this),hn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ln&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ie.VERSION="2.0.4",ie.defaults={domEvents:!1,touchAction:$e,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[J,{enable:!1},["rotate"]],[ne,{direction:Pe}],[$,{direction:Pe},["swipe"]],[re],[re,{event:"doubletap",taps:2},["tap"]],[te]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var pn=1,fn=2;oe.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?fn:pn},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&ln)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],e.stopped===fn||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(an|sn|un)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Y)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var n=this.handlers;return a(m(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n=this.handlers;return a(m(t),function(t){e?n[t].splice(y(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&se(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ae(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(ie,{INPUT_START:_e,INPUT_MOVE:Se,INPUT_END:Ce,INPUT_CANCEL:Te,STATE_POSSIBLE:on,STATE_BEGAN:an,STATE_CHANGED:sn,STATE_ENDED:un,STATE_RECOGNIZED:ln,STATE_CANCELLED:cn,STATE_FAILED:hn,DIRECTION_NONE:De,DIRECTION_LEFT:Re,DIRECTION_RIGHT:ke,DIRECTION_UP:Oe,DIRECTION_DOWN:Ne,DIRECTION_HORIZONTAL:Pe,DIRECTION_VERTICAL:Ie,DIRECTION_ALL:Be,Manager:oe,Input:_,TouchAction:W,TouchInput:j,MouseInput:F,PointerEventInput:z,TouchMouseInput:V,SingleTouchInput:U,Recognizer:Y,AttrRecognizer:Z,Tap:re,Pan:$,Swipe:ne,Pinch:J,Rotate:ee,Press:te,on:f,off:d,each:a,merge:u,extend:s,inherit:l,bindFn:c,prefixed:E}),typeof define==ce&&define.amd?define("hammer",[],function(){return ie}):"undefined"!=typeof module&&module.exports?module.exports=ie:t[n]=ie}(window,document,"Hammer"),function(t){"use strict";function e(e,n){var a=m?n:f(n),s=a.worker&&Papa.WORKERS_SUPPORTED;if(s){var l=u();l.userStep=a.step,l.userChunk=a.chunk,l.userComplete=a.complete,l.userError=a.error,a.step=g(a.step),a.chunk=g(a.chunk),a.complete=g(a.complete),a.error=g(a.error),delete a.worker,l.postMessage({input:e,config:a,workerId:l.id})}else if("string"==typeof e){if(!a.download){var c=new o(a),h=c.parse(e);return h}var p=new r(a);p.stream(e)}else if(t.File&&e instanceof File||e instanceof Object)if(a.step||a.chunk){var p=new i(a);p.stream(e)}else{var c=new o(a);if(m){var d=new FileReaderSync,v=d.readAsText(e,a.encoding);return c.parse(v)}d=new FileReader,d.onload=function(t){{var e=new o(a);e.parse(t.target.result)}},d.onerror=function(){g(a.error)&&a.error(d.error,e)},d.readAsText(e,a.encoding)}}function n(e,n){function r(){"object"==typeof n&&("string"==typeof n.delimiter&&1==n.delimiter.length&&-1==t.Papa.BAD_DELIMITERS.indexOf(n.delimiter)&&(l=n.delimiter),("boolean"==typeof n.quotes||n.quotes instanceof Array)&&(u=n.quotes),"string"==typeof n.newline&&(c=n.newline))}function i(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function o(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var r=t instanceof Array&&t.length>0,i=!(e[0]instanceof Array);if(r){for(var o=0;o<t.length;o++)o>0&&(n+=l),n+=a(t[o],o);e.length>0&&(n+=c)}for(var s=0;s<e.length;s++){for(var u=r?t.length:e[s].length,h=0;u>h;h++){h>0&&(n+=l);var p=r&&i?t[h]:h;n+=a(e[s][p],h)}s<e.length-1&&(n+=c)}return n}function a(e,n){if("undefined"==typeof e||null===e)return"";e=e.toString().replace(/"/g,'""');var r="boolean"==typeof u&&u||u instanceof Array&&u[n]||s(e,t.Papa.BAD_DELIMITERS)||e.indexOf(l)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return r?'"'+e+'"':e}function s(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var u=!1,l=",",c="\r\n";if(r(),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return o(null,e);if("object"==typeof e[0])return o(i(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:i(e.data[0])),e.data[0]instanceof Array||"object"==typeof e.data[0]||(e.data=[e.data])),o(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input"}function r(e){function n(){if(h)return void r();if(u=new XMLHttpRequest,m||(u.onload=r,u.onerror=i),u.open("GET",l,!m),e.step||e.chunk){var t=y+v.chunkSize-1;b&&t>b&&(t=b),u.setRequestHeader("Range","bytes="+y+"-"+t),u.setRequestHeader("If-None-Match","webkit-no-cache")}try{u.send()}catch(n){i(n.message)}m&&0==u.status?i():y+=v.chunkSize}function r(){if(4==u.readyState){if(u.status<200||u.status>=400)return void i();x+=w+u.responseText,w="",h=!e.step&&!e.chunk||y>a(u);var n=f.parse(x,M,!h),r=n.meta.cursor;h||(w=x.substring(r-M),M=r),n&&n.data&&(E+=n.data.length),x="";var o=h||v.preview&&E>=v.preview;m?t.postMessage({results:n,workerId:Papa.WORKER_ID,finished:o}):g(e.chunk)&&(e.chunk(n,f),n=void 0),g(p)&&o&&p(n),o||n&&n.meta.paused||c()}}function i(n){var r=u.statusText||n;g(e.error)?e.error(r):m&&e.error&&t.postMessage({workerId:Papa.WORKER_ID,error:r,finished:!1})}function a(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}function s(t){v=d(t),p=v.complete,v.complete=void 0,v.chunkSize=parseInt(v.chunkSize),f=new o(v),f.streamer=_}e=e||{},e.chunkSize||(e.chunkSize=Papa.RemoteChunkSize);var u,l,c,h,p,f,v,y=0,M=0,b=0,E=0,x="",w="",_=this;s(e),this.resume=function(){paused=!1,c()},this.finished=function(){return h},this.pause=function(){paused=!0},this.abort=function(){h=!0,g(p)&&p({data:[],errors:[],meta:{aborted:!0}})},this.stream=function(t){l=t,(c=m?function(){n(),r()}:function(){n()})()}}function i(e){function n(){h||v.preview&&!(x<v.preview)||r()}function r(){var t=Math.min(y+v.chunkSize,u.size),n=c.readAsText(l.call(u,y,t),e.encoding);S||i({target:{result:n}})}function i(r){y+=v.chunkSize,b+=E+r.target.result,E="",h=y>=u.size;var i=f.parse(b,M,!h),o=i.meta.cursor;h||(E=b.substring(o-M),M=o),i&&i.data&&(x+=i.data.length),b="";var a=h||v.preview&&x>=v.preview;if(m)t.postMessage({results:i,workerId:Papa.WORKER_ID,finished:a});else if(g(e.chunk)){if(e.chunk(i,_,u),w)return;i=void 0}g(p)&&a&&p(i),a||i&&i.meta.paused||n()}function a(){g(e.error)?e.error(c.error,u):m&&e.error&&t.postMessage({workerId:Papa.WORKER_ID,error:c.error,file:u,finished:!1})}function s(t){v=d(t),p=v.complete,v.complete=void 0,v.chunkSize=parseInt(v.chunkSize),f=new o(v),f.streamer=_}e=e||{},e.chunkSize||(e.chunkSize=Papa.LocalChunkSize);var u,l,c,n,l,h,p,f,v,y=0,M=0,b="",E="",x=0,w=!1,_=this;s(e);var S="undefined"!=typeof FileReader;this.stream=function(t){u=t,l=u.slice||u.webkitSlice||u.mozSlice,S?(c=new FileReader,c.onload=i,c.onerror=a):c=new FileReaderSync,n()},this.finished=function(){return h},this.pause=function(){w=!0},this.resume=function(){w=!1,n()},this.abort=function(){h=!0,g(p)&&p({data:[],errors:[],meta:{aborted:!0}})}}function o(t){function e(){if(b&&p&&(l("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Papa.DefaultDelimiter+"'"),p=!1),t.skipEmptyLines)for(var e=0;e<b.data.length;e++)1==b.data[e].length&&""==b.data[e][0]&&b.data.splice(e--,1);return n()&&r(),i()}function n(){return t.header&&0==M.length}function r(){if(b){for(var t=0;n()&&t<b.data.length;t++)for(var e=0;e<b.data[t].length;e++)M.push(b.data[t][e]);b.data.splice(0,1)}}function i(){if(!b||!t.header&&!t.dynamicTyping)return b;for(var e=0;e<b.data.length;e++){for(var n={},r=0;r<b.data[e].length;r++){if(t.dynamicTyping){var i=b.data[e][r];b.data[e][r]="true"==i?!0:"false"==i?!1:u(i)}t.header&&(r>=M.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(b.data[e][r])):n[M[r]]=b.data[e][r])}t.header&&(b.data[e]=n,r>M.length?l("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+r,e):r<M.length&&l("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+r,e))}return t.header&&b.meta&&(b.meta.fields=M),b}function o(e){for(var n,r,i,o=[",","	","|",";",Papa.RECORD_SEP,Papa.UNIT_SEP],s=0;s<o.length;s++){var u=o[s],l=0,c=0;i=void 0;for(var h=new a({delimiter:u,preview:10}).parse(e),p=0;p<h.data.length;p++){var f=h.data[p].length;c+=f,"undefined"!=typeof i?f>1&&(l+=Math.abs(f-i),i=f):i=f}c/=h.data.length,("undefined"==typeof r||r>l)&&c>1.99&&(r=l,n=u)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}function s(t){t=t.substr(0,1048576);var e=t.split("\r");if(1==e.length)return"\n";for(var n=0,r=0;r<e.length;r++)"\n"==e[r][0]&&n++;return n>=e.length/2?"\r\n":"\r"}function u(t){var e=f.test(t);return e?parseFloat(t):t}function l(t,e,n,r){b.errors.push({type:t,code:e,message:n,row:r})}var c,h,p,f=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,v=this,m=0,y=!1,M=[],b={data:[],errors:[],meta:{}};if(g(t.step)){var E=t.step;t.step=function(r){if(b=r,n())e();else{if(e(),0==b.data.length)return;m+=r.data.length,t.preview&&m>t.preview?h.abort():E(b,v)}}}this.parse=function(n,r,i){if(t.newline||(t.newline=s(n)),p=!1,!t.delimiter){var u=o(n);u.successful?t.delimiter=u.bestDelimiter:(p=!0,t.delimiter=Papa.DefaultDelimiter),b.meta.delimiter=t.delimiter}var l=d(t);return t.preview&&t.header&&l.preview++,c=n,h=new a(l),b=h.parse(c,r,i),e(),!g(t.complete)||y||v.streamer&&!v.streamer.finished()||t.complete(b),y?{meta:{paused:!0}}:b||{meta:{paused:!1}}},this.pause=function(){y=!0,h.abort(),c=c.substr(h.getCharIndex())},this.resume=function(){y=!1,h=new a(t),h.parse(c),y||(v.streamer&&!v.streamer.finished()?v.streamer.resume():g(t.complete)&&t.complete(b))},this.abort=function(){h.abort(),g(t.complete)&&t.complete(b),c=""}}function a(t){t=t||{};var e=t.delimiter,n=t.newline,r=t.comments,i=t.step,o=t.preview,a=t.fastMode;if(("string"!=typeof e||1!=e.length||Papa.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";r===!0?r="#":("string"!=typeof r||Papa.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,u=!1;this.parse=function(t,l,c){function h(t){E.push(t),_=s}function p(e){return c?d():(e||(e=t.substr(s)),w.push(e),s=v,h(w),b&&g(),d())}function f(e){s=e,h(w),w=[],D=t.indexOf(n,s)}function d(t){return{data:E,errors:x,meta:{delimiter:e,linebreak:n,aborted:u,truncated:!!t,cursor:_+(l||0)}}}function g(){i(d()),E=[],x=[]}if("string"!=typeof t)throw"Input must be a string";var v=t.length,m=e.length,y=n.length,M=r.length,b="function"==typeof i;s=0;var E=[],x=[],w=[],_=0;if(!t)return d();if(a){for(var S=t.split(n),C=0;C<S.length;C++)if(!r||S[C].substr(0,M)!=r){if(b){if(E=[],h(S[C].split(e)),g(),u)return d()}else h(S[C].split(e));if(o&&C>=o)return E=E.slice(0,o),d(!0)}return d()}for(var T=t.indexOf(e,s),D=t.indexOf(n,s);;)if('"'!=t[s])if(r&&0===w.length&&t.substr(s,M)===r){if(-1==D)return d();s=D+y,D=t.indexOf(n,s),T=t.indexOf(e,s)}else if(-1!==T&&(D>T||-1===D))w.push(t.substring(s,T)),s=T+m,T=t.indexOf(e,s);else{if(-1===D)break;if(w.push(t.substring(s,D)),f(D+y),b&&(g(),u))return d();if(o&&E.length>=o)return d(!0)}else{var R=s;for(s++;;){var R=t.indexOf('"',R+1);if(-1===R)return c||x.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:E.length,index:s}),p();if(R===v-1){var k=t.substring(s,R).replace(/""/g,'"');return p(k)}if('"'!=t[R+1]){if(t[R+1]==e){w.push(t.substring(s,R).replace(/""/g,'"')),s=R+1+m,T=t.indexOf(e,s),D=t.indexOf(n,s);break}if(t.substr(R+1,y)===n){if(w.push(t.substring(s,R).replace(/""/g,'"')),f(R+1+y),T=t.indexOf(e,s),b&&(g(),u))return d();if(o&&E.length>=o)return d(!0);break}}else R++}}return p()},this.abort=function(){u=!0},this.getCharIndex=function(){return s}}function s(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function u(){if(!Papa.WORKERS_SUPPORTED)return!1;if(!y&&null===Papa.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=new t.Worker(Papa.SCRIPT_PATH||v);return e.onmessage=l,e.id=b++,M[e.id]=e,e}function l(t){var e=t.data,n=M[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i=function(){r=!0,c(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:i,pause:i,resume:h};if(g(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:[e.results.data[a]],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else g(n.userChunk)&&(n.userChunk(e.results,e.file),delete e.results)}e.finished&&!r&&c(e.workerId,e.results)}function c(t,e){var n=M[t];g(n.userComplete)&&n.userComplete(e),n.terminate(),delete M[t]}function h(){throw"Not implemented."}function p(e){var n=e.data;if("undefined"==typeof Papa.WORKER_ID&&n&&(Papa.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:Papa.WORKER_ID,results:Papa.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=Papa.parse(n.input,n.config);r&&t.postMessage({workerId:Papa.WORKER_ID,results:r,finished:!0})}}function f(t){"object"!=typeof t&&(t={});var e=d(t);return("string"!=typeof e.delimiter||1!=e.delimiter.length||Papa.BAD_DELIMITERS.indexOf(e.delimiter)>-1)&&(e.delimiter=E.delimiter),"\n"!=e.newline&&"\r"!=e.newline&&"\r\n"!=e.newline&&(e.newline=E.newline),"boolean"!=typeof e.header&&(e.header=E.header),"boolean"!=typeof e.dynamicTyping&&(e.dynamicTyping=E.dynamicTyping),"number"!=typeof e.preview&&(e.preview=E.preview),"function"!=typeof e.step&&(e.step=E.step),"function"!=typeof e.complete&&(e.complete=E.complete),"function"!=typeof e.error&&(e.error=E.error),"string"!=typeof e.encoding&&(e.encoding=E.encoding),"boolean"!=typeof e.worker&&(e.worker=E.worker),"boolean"!=typeof e.download&&(e.download=E.download),"boolean"!=typeof e.skipEmptyLines&&(e.skipEmptyLines=E.skipEmptyLines),"boolean"!=typeof e.fastMode&&(e.fastMode=E.fastMode),e}function d(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=d(t[n]);return e}function g(t){return"function"==typeof t}var v,m=!t.document,y=!1,M={},b=0,E={delimiter:"",newline:"",header:!1,dynamicTyping:!1,preview:0,step:void 0,encoding:"",worker:!1,comments:!1,complete:void 0,error:void 0,download:!1,chunk:void 0,skipEmptyLines:!1,fastMode:!1};if(t.Papa={},t.Papa.parse=e,t.Papa.unparse=n,t.Papa.RECORD_SEP=String.fromCharCode(30),t.Papa.UNIT_SEP=String.fromCharCode(31),t.Papa.BYTE_ORDER_MARK="",t.Papa.BAD_DELIMITERS=["\r","\n",'"',t.Papa.BYTE_ORDER_MARK],t.Papa.WORKERS_SUPPORTED=!!t.Worker,t.Papa.SCRIPT_PATH=null,t.Papa.LocalChunkSize=10485760,t.Papa.RemoteChunkSize=5242880,t.Papa.DefaultDelimiter=",",t.Papa.Parser=a,t.Papa.ParserHandle=o,t.Papa.NetworkStreamer=r,t.Papa.FileStreamer=i,t.jQuery){var x=t.jQuery;x.fn.parse=function(e){function n(){if(0==a.length)return void(g(e.complete)&&e.complete());var t=a[0];if(g(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void r("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void i();"object"==typeof n.config&&(t.instanceConfig=x.extend(t.instanceConfig,n.config))}else if("skip"==n)return void i()}var o=t.instanceConfig.complete;t.instanceConfig.complete=function(e){g(o)&&o(e,t.file,t.inputElem),i()},Papa.parse(t.file,t.instanceConfig)}function r(t,n,r,i){g(e.error)&&e.error({name:t},n,r,i)}function i(){a.splice(0,1),n()}var o=e.config||{},a=[];return this.each(function(){var e="INPUT"==x(this).prop("tagName").toUpperCase()&&"file"==x(this).attr("type").toLowerCase()&&t.FileReader;if(!e||!this.files||0==this.files.length)return!0;for(var n=0;n<this.files.length;n++)a.push({file:this.files[n],inputElem:this,instanceConfig:x.extend({},o)})}),n(),this}}m?t.onmessage=p:Papa.WORKERS_SUPPORTED&&(v=s(),document.body?document.addEventListener("DOMContentLoaded",function(){y=!0},!0):y=!0)}(this),define("papaparse",function(t){return function(){var e;return e||t.Papa}}(this)),function(){var t=[].slice;define("utils",["require","d3","underscore"],function(e){var n,r,i;return n=e("d3"),i=e("underscore"),r=function(){return function(t,e,n){return i.isString(e)||(n=e,e="console."+t),console[t](e),n(),console[t+"End"](e)}}(this),{time:function(e){return function(){return r.call.apply(r,[e,"time"].concat(t.call(arguments)))}}(this),timeline:function(e){return function(){return r.call.apply(r,[e,"timeline"].concat(t.call(arguments)))}}(this),profile:function(e){return function(){return r.call.apply(r,[e,"profile"].concat(t.call(arguments)))}}(this),consoleMixin:function(){return function(){var t,e;return t={},e=function(t){var e,n,r;return n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map(function(){return"-"}),function(){r=[];for(var e=0,n=Math.ceil(t);n>=0?n>e:e>n;n>=0?e++:e--)r.push(e);return r}.apply(this).forEach(function(t){return n[t]="#"}),n[16]="+",n.length>33?(n=n.slice(0,33).concat(">>>"),e="warn"):e="log",{pixels:n.join(""),fn:null!=e?e:"log"}},{componentWillMount:function(){return t.startTime=window.performance.now()},componentDidMount:function(){var n,r,i,o,a;return n=window.performance.now()-t.startTime,i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].map(function(){return" "}),function(){a=[];for(var t=0,e=Math.round(n);e>=0?e>t:t>e;e>=0?t++:t--)a.push(t);return a}.apply(this).forEach(function(t){return i[t]="#"}),i[16]="+",o=e(n),i=o.pixels,r=o.fn,console[r](i)},componentWillUpdate:function(){return t.startTime=window.performance.now()},componentDidUpdate:function(){var n,r,i,o;return n=window.performance.now()-t.startTime,o=e(n),i=o.pixels,r=o.fn,console[r](i)}}}}(this),d3scale:function(t){var e,r,i;if(null==t)return null;r=("time"===t.type?n.time.scale:n.scale[t.type])();for(e in t)i=t[e],Array.isArray(i)&&r[e].apply(r,i);return"function"==typeof r.nice&&r.nice(),r},measureDisplayWidth:function(t){var e;return Math.round(35+6.5*n.max(null!=(e=null!=t?t.concat(""):void 0)?e:[""],function(t){var e;return null!=(e=null!=t?t.length:void 0)?e:0}))},totalSize:function(t){return null!=t.values?n.sum(t.values,function(t){return t.r}):t.r},distribute:function(t){var e;return null!=(e=t.values)?e.forEach(function(){return function(e,n){var r,i,o;return o=n/t.values.length,i=t.r*(.15+.7*o),r=4*o*Math.PI,e.x=t.x+i*Math.sin(r),e.y=t.y+i*-Math.cos(r)}}(this)):void 0},accessor:function(t){return i.isFunction(t)?t:function(){return function(e){var n;return null!=(n=e[t])?n:null}}(this)},distance:function(t,e){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},computePolarSelectionBounds:function(t,e){var n,r,i,o,a;return i=this.distance(e,t[0]),o=this.distance(e,t[1]),i>o&&(a=[o,i],i=a[0],o=a[1]),n=Math.atan2(t[0][1]-e[1],t[0][0]-e[0]),r=Math.atan2(t[1][1]-e[1],t[1][0]-e[0]),Math.abs(r-n)>Math.PI/2&&(i=0),{innerRadius:i,outerRadius:o,startAngle:0,endAngle:2*Math.PI}},getPrecision:window.getPrecision=function(){return function(t){return n.max([].concat(t),function(t){var e,n,r;return+(null!=(e=null!=(n=String(t).split("e-")[1])?n:null!=(r=String(t).split(".")[1])?r.length:void 0)?e:0)})}}(this)}})}.call(this),function(){function t(t,n){return{type:"Feature",id:t.id,properties:t.properties,geometry:e(t.geometry,n)}}function e(t,n){if(!t)return null;if("GeometryCollection"===t.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(t){return e(t,n)})};if(!dn.hasOwnProperty(t.type))return null;var r=dn[t.type];return d3.geo.stream(t,n(r)),r.result()}function n(){}function r(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return 0>=r}function i(t,e){for(var n=e[0],r=e[1],i=!1,o=0,a=t.length,s=a-1;a>o;s=o++){var u=t[o],l=u[0],c=u[1],h=t[s],p=h[0],f=h[1];c>r^f>r&&(p-l)*(r-c)/(f-c)+l>n&&(i=!i)}return i}function o(t){return t?t/Math.sin(t):1}function a(t){return t>0?1:0>t?-1:0}function s(t){return t>1?yn:-1>t?-yn:Math.asin(t)}function u(t){return t>1?0:-1>t?mn:Math.acos(t)}function l(t){return t>0?Math.sqrt(t):0}function c(t){function e(t,e){var n=Math.cos(t),i=Math.cos(e),o=Math.sin(e),a=i*n,s=-((1-a?Math.log(.5*(1+a))/(1-a):-.5)+r/(1+a));return[s*i*Math.sin(t),s*o]}var n=Math.tan(.5*t),r=2*Math.log(Math.cos(.5*t))/(n*n);return e.invert=function(e,n){var i,o=Math.sqrt(e*e+n*n),a=t*-.5,u=50;if(!o)return[0,0];do{var l=.5*a,c=Math.cos(l),h=Math.sin(l),p=Math.tan(l),f=Math.log(1/c);a-=i=(2/p*f-r*p-o)/(-f/(h*h)+1-r/(2*c*c))}while(Math.abs(i)>gn&&--u>0);var d=Math.sin(a);return[Math.atan2(e*d,o*Math.cos(a)),s(n*d/o)]},e}function h(){var t=yn,e=wn(c),n=e(t);return n.radius=function(n){return arguments.length?e(t=n*mn/180):t/mn*180},n}function p(t,e){var n=Math.cos(e),r=o(u(n*Math.cos(t/=2)));return[2*n*Math.sin(t)*r,Math.sin(e)*r]}function f(t){function e(t,e){var s=Math.cos(e),u=Math.cos(t/=2);return[(1+s)*Math.sin(t),(i*e>-Math.atan2(u,o)-.001?0:10*-i)+a+Math.sin(e)*r-(1+s)*n*u]}var n=Math.sin(t),r=Math.cos(t),i=t>0?1:-1,o=Math.tan(i*t),a=(1+n-r)/2;return e.invert=function(t,e){var s=0,u=0,l=50;do{var c=Math.cos(s),h=Math.sin(s),p=Math.cos(u),f=Math.sin(u),d=1+p,g=d*h-t,v=a+f*r-d*n*c-e,m=.5*d*c,y=-h*f,M=.5*n*d*h,b=r*p+n*c*f,E=y*M-b*m,x=.5*(v*y-g*b)/E,w=(g*M-v*m)/E;s-=x,u-=w}while((Math.abs(x)>gn||Math.abs(w)>gn)&&--l>0);return i*u>-Math.atan2(Math.cos(s),o)-.001?[2*s,u]:null},e}function d(){var t=mn/9,e=t>0?1:-1,n=Math.tan(e*t),r=wn(f),i=r(t),o=i.stream;return i.parallel=function(i){return arguments.length?(n=Math.tan((e=(t=i*mn/180)>0?1:-1)*t),r(t)):t/mn*180},i.stream=function(r){var a=i.rotate(),s=o(r),u=(i.rotate([0,0]),o(r));return i.rotate(a),s.sphere=function(){u.polygonStart(),u.lineStart();for(var r=-180*e;180>e*r;r+=90*e)u.point(r,90*e);for(;e*(r-=t)>=-180;)u.point(r,e*-Math.atan2(Math.cos(r*bn/2),n)*En);u.lineEnd(),u.polygonEnd()},s},i}function g(t){return t=Math.exp(2*t),(t-1)/(t+1)}function v(t){return.5*(Math.exp(t)-Math.exp(-t))}function m(t){return.5*(Math.exp(t)+Math.exp(-t))}function y(t){return Math.log(t+l(t*t+1))}function M(t){return Math.log(t+l(t*t-1))}function b(t,e){var n=Math.tan(e/2),r=l(1-n*n),i=1+r*Math.cos(t/=2),o=Math.sin(t)*r/i,a=n/i,s=o*o,u=a*a;return[4/3*o*(3+s-3*u),4/3*a*(3+3*s-u)]}function E(t,e){var n=Math.abs(e);return mn/4>n?[t,Math.log(Math.tan(mn/4+e/2))]:[t*Math.cos(n)*(2*Math.SQRT2-1/Math.sin(n)),a(e)*(2*Math.SQRT2*(n-mn/4)-Math.log(Math.tan(n/2)))]}function x(t){function e(t,e){var r=Sn(t,e);if(Math.abs(t)>yn){var i=Math.atan2(r[1],r[0]),o=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=n*Math.round((i-yn)/n)+yn,u=Math.atan2(Math.sin(i-=a),2-Math.cos(i));i=a+s(mn/o*Math.sin(u))-u,r[0]=o*Math.cos(i),r[1]=o*Math.sin(i)}return r}var n=2*mn/t;return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e);if(r>yn){var i=Math.atan2(e,t),o=n*Math.round((i-yn)/n)+yn,a=i>o?-1:1,s=r*Math.cos(o-i),u=1/Math.tan(a*Math.acos((s-mn)/Math.sqrt(mn*(mn-2*s)+r*r)));i=o+2*Math.atan((u+a*Math.sqrt(u*u-3))/3),t=r*Math.cos(i),e=r*Math.sin(i)}return Sn.invert(t,e)},e}function w(){var t=5,e=wn(x),n=e(t),r=n.stream,i=.01,o=-Math.cos(i*bn),a=Math.sin(i*bn);
return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var u=n.rotate(),l=r(e),c=(n.rotate([0,0]),r(e));return n.rotate(u),l.sphere=function(){c.polygonStart(),c.lineStart();for(var e=0,n=360/t,r=2*mn/t,u=90-180/t,l=yn;t>e;++e,u-=n,l-=r)c.point(Math.atan2(a*Math.cos(l),o)*En,s(a*Math.sin(l))*En),-90>u?(c.point(-90,-180-u-i),c.point(-90,-180-u+i)):(c.point(90,u+i),c.point(90,u-i));c.lineEnd(),c.polygonEnd()},l},n}function _(t){return function(e){var n,r=t*Math.sin(e),i=30;do e-=n=(e+Math.sin(e)-r)/(1+Math.cos(e));while(Math.abs(n)>gn&&--i>0);return e/2}}function S(t,e,n){function r(n,r){return[t*n*Math.cos(r=i(r)),e*Math.sin(r)]}var i=_(n);return r.invert=function(r,i){var o=s(i/e);return[r/(t*Math.cos(o)),s((2*o+Math.sin(2*o))/n)]},r}function C(t,e){var n=2.00276,r=Cn(e);return[n*t/(1/Math.cos(e)+1.11072/Math.cos(r)),(e+Math.SQRT2*Math.sin(r))/n]}function T(t){var e=0,n=wn(t),r=n(e);return r.parallel=function(t){return arguments.length?n(e=t*mn/180):e/mn*180},r}function D(t,e){return[t*Math.cos(e),e]}function R(t){function e(e,r){var i=n+t-r,o=i?e*Math.cos(r)/i:i;return[i*Math.sin(o),n-i*Math.cos(o)]}if(!t)return D;var n=1/Math.tan(t);return e.invert=function(e,r){var i=Math.sqrt(e*e+(r=n-r)*r),o=n+t-i;return[i/Math.cos(o)*Math.atan2(e,r),o]},e}function k(t){function e(e,n){for(var r=Math.sin(n),i=Math.cos(n),o=new Array(3),l=0;3>l;++l){var c=t[l];if(o[l]=N(n-c[1],c[3],c[2],i,r,e-c[0]),!o[l][0])return c.point;o[l][1]=I(o[l][1]-c.v[1])}for(var h=u.slice(),l=0;3>l;++l){var p=2==l?0:l+1,f=P(t[l].v[0],o[l][0],o[p][0]);o[l][1]<0&&(f=-f),l?1==l?(f=a-f,h[0]-=o[l][0]*Math.cos(f),h[1]-=o[l][0]*Math.sin(f)):(f=s-f,h[0]+=o[l][0]*Math.cos(f),h[1]+=o[l][0]*Math.sin(f)):(h[0]+=o[l][0]*Math.cos(f),h[1]-=o[l][0]*Math.sin(f))}return h[0]/=3,h[1]/=3,h}t=t.map(function(t){return[t[0],t[1],Math.sin(t[1]),Math.cos(t[1])]});for(var n,r=t[2],i=0;3>i;++i,r=n)n=t[i],r.v=N(n[1]-r[1],r[3],r[2],n[3],n[2],n[0]-r[0]),r.point=[0,0];var o=P(t[0].v[0],t[2].v[0],t[1].v[0]),a=P(t[0].v[0],t[1].v[0],t[2].v[0]),s=mn-o;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=.5*t[0].v[0]);var u=[t[2].point[0]=t[0].point[0]+t[2].v[0]*Math.cos(o),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*Math.sin(o))];return e}function O(){var t=[[0,0],[0,0],[0,0]],e=wn(k),n=e(t),r=n.rotate;return delete n.rotate,n.points=function(i){if(!arguments.length)return t;t=i;var o=d3.geo.centroid({type:"MultiPoint",coordinates:t}),a=[-o[0],-o[1]];return r.call(n,a),e(t.map(d3.geo.rotation(a)).map(B))},n.points([[-150,55],[-35,55],[-92.5,10]])}function N(t,e,n,r,i,o){var a,l=Math.cos(o);if(Math.abs(t)>1||Math.abs(o)>1)a=u(n*i+e*r*l);else{var c=Math.sin(.5*t),h=Math.sin(.5*o);a=2*s(Math.sqrt(c*c+e*r*h*h))}return Math.abs(a)>gn?[a,Math.atan2(r*Math.sin(o),e*i-n*r*l)]:[0,0]}function P(t,e,n){return u(.5*(t*t+e*e-n*n)/(t*e))}function I(t){return t-2*mn*Math.floor((t+mn)/(2*mn))}function B(t){return[t[0]*bn,t[1]*bn]}function A(t,e){var n=l(1-Math.sin(e));return[2/Mn*t*n,Mn*(1-n)]}function L(t){function e(t,e){return[t,(t?t/Math.sin(t):1)*(Math.sin(e)*Math.cos(t)-n*Math.cos(e))]}var n=Math.tan(t);return e.invert=n?function(t,e){t&&(e*=Math.sin(t)/t);var r=Math.cos(t);return[t,2*Math.atan2(Math.sqrt(r*r+n*n-e*e)-r,n-e)]}:function(t,e){return[t,s(t?e*Math.tan(t)/t:e)]},e}function F(t,e){var n=Math.sqrt(3);return[n*t*(2*Math.cos(2*e/3)-1)/Mn,n*Mn*Math.sin(e/3)]}function z(t){function e(t,e){return[t*n,Math.sin(e)/n]}var n=Math.cos(t);return e.invert=function(t,e){return[t/n,s(e*n)]},e}function U(t){function e(t,e){return[t*n,(1+n)*Math.tan(.5*e)]}var n=Math.cos(t);return e.invert=function(t,e){return[t/n,2*Math.atan(e/(1+n))]},e}function q(t,e){var n=Math.sqrt(8/(3*mn));return[n*t*(1-Math.abs(e)/mn),n*e]}function j(t,e){var n=Math.sqrt(4-3*Math.sin(Math.abs(e)));return[2/Math.sqrt(6*mn)*t*n,a(e)*Math.sqrt(2*mn/3)*(2-n)]}function H(t,e){var n=Math.sqrt(mn*(4+mn));return[2/n*t*(1+Math.sqrt(1-4*e*e/(mn*mn))),4/n*e]}function V(t,e){var n=(2+yn)*Math.sin(e);e/=2;for(var r=0,i=1/0;10>r&&Math.abs(i)>gn;r++){var o=Math.cos(e);e-=i=(e+Math.sin(e)*(o+2)-n)/(2*o*(1+o))}return[2/Math.sqrt(mn*(4+mn))*t*(1+Math.cos(e)),2*Math.sqrt(mn/(4+mn))*Math.sin(e)]}function W(t,e){return[t*(1+Math.cos(e))/Math.sqrt(2+mn),2*e/Math.sqrt(2+mn)]}function K(t,e){for(var n=(1+yn)*Math.sin(e),r=0,i=1/0;10>r&&Math.abs(i)>gn;r++)e-=i=(e+Math.sin(e)-n)/(1+Math.cos(e));return n=Math.sqrt(2+mn),[t*(1+Math.cos(e))/n,2*e/n]}function Y(t,e){var n=Math.sin(t/=2),r=Math.cos(t),i=Math.sqrt(Math.cos(e)),o=Math.cos(e/=2),a=Math.sin(e)/(o+Math.SQRT2*r*i),s=Math.sqrt(2/(1+a*a)),u=Math.sqrt((Math.SQRT2*o+(r+n)*i)/(Math.SQRT2*o+(r-n)*i));return[Rn*(s*(u-1/u)-2*Math.log(u)),Rn*(s*a*(u+1/u)-2*Math.atan(a))]}function X(t,e){var n=Math.tan(e/2);return[t*kn*l(1-n*n),(1+kn)*n]}function G(t,e){var n=e/2,r=Math.cos(n);return[2*t/Mn*Math.cos(e)*r*r,Mn*Math.tan(n)]}function Q(t,e){function n(e,n){var o=On(e,n),a=o[0],s=o[1],u=a*a+s*s;if(u>i){var l=Math.sqrt(u),c=Math.atan2(s,a),h=r*Math.round(c/r),p=c-h,f=t*Math.cos(p),d=(t*Math.sin(p)-p*Math.sin(f))/(yn-f),g=Z(p,d),v=(mn-t)/J(g,f,mn);a=l;var m,y=50;do a-=m=(t+J(g,f,a)*v-l)/(g(a)*v);while(Math.abs(m)>gn&&--y>0);s=p*Math.sin(a),yn>a&&(s-=d*(a-yn));var M=Math.sin(h),b=Math.cos(h);o[0]=a*b-s*M,o[1]=a*M+s*b}return o}var r=2*mn/e,i=t*t;return n.invert=function(e,n){var o=e*e+n*n;if(o>i){var a=Math.sqrt(o),s=Math.atan2(n,e),u=r*Math.round(s/r),l=s-u,e=a*Math.cos(l);n=a*Math.sin(l);for(var c=e-yn,h=Math.sin(e),p=n/h,f=yn>e?1/0:0,d=10;;){var g=t*Math.sin(p),v=t*Math.cos(p),m=Math.sin(v),y=yn-v,M=(g-p*m)/y,b=Z(p,M);if(Math.abs(f)<vn||!--d)break;p-=f=(p*h-M*c-n)/(h-2*c*(y*(v+p*g*Math.cos(v)-m)-g*(g-p*m))/(y*y))}a=t+J(b,v,e)*(mn-t)/J(b,v,mn),s=u+p,e=a*Math.cos(s),n=a*Math.sin(s)}return On.invert(e,n)},n}function Z(t,e){return function(n){var r=t*Math.cos(n);return yn>n&&(r-=e),Math.sqrt(1+r*r)}}function $(){var t=6,e=30*bn,n=Math.cos(e),r=Math.sin(e),i=wn(Q),o=i(e,t),a=o.stream,s=.01,u=-Math.cos(s*bn),l=Math.sin(s*bn);return o.radius=function(o){return arguments.length?(n=Math.cos(e=o*bn),r=Math.sin(e),i(e,t)):e*En},o.lobes=function(n){return arguments.length?i(e,t=+n):t},o.stream=function(e){var i=o.rotate(),s=a(e),c=(o.rotate([0,0]),a(e));return o.rotate(i),s.sphere=function(){c.polygonStart(),c.lineStart();for(var e=0,i=2*mn/t,o=0;t>e;++e,o-=i)c.point(Math.atan2(l*Math.cos(o),u)*En,Math.asin(l*Math.sin(o))*En),c.point(Math.atan2(r*Math.cos(o-i/2),n)*En,Math.asin(r*Math.sin(o-i/2))*En);c.lineEnd(),c.polygonEnd()},s},o}function J(t,e,n){for(var r=50,i=(n-e)/r,o=t(e)+t(n),a=1,s=e;r>a;++a)o+=2*t(s+=i);return.5*o*i}function te(t,e,n,r,i,o,a,s){function u(u,l){if(!l)return[t*u/mn,0];var c=l*l,h=t+c*(e+c*(n+c*r)),p=l*(i-1+c*(o-s+c*a)),f=(h*h+p*p)/(2*p),d=u*Math.asin(h/f)/mn;return[f*Math.sin(d),l*(1+c*s)+f*(1-Math.cos(d))]}return arguments.length<8&&(s=0),u.invert=function(u,c){var h,p,f=mn*u/t,d=c,g=50;do{var v=d*d,m=t+v*(e+v*(n+v*r)),y=d*(i-1+v*(o-s+v*a)),M=m*m+y*y,b=2*y,E=M/b,x=E*E,w=Math.asin(m/E)/mn,_=f*w;if(xB2=m*m,dxBd=(2*e+v*(4*n+6*v*r))*d,dyBd=i+v*(3*o+5*v*a),dpd=2*(m*dxBd+y*(dyBd-1)),dqd=2*(dyBd-1),dmd=(dpd*b-M*dqd)/(b*b),cos=Math.cos(_),sin=Math.sin(_),mcos=E*cos,msin=E*sin,dd=f/mn*(1/l(1-xB2/x))*(dxBd*E-m*dmd)/x,fx=msin-u,fy=d*(1+v*s)+E-mcos-c,x=dmd*sin+mcos*dd,x=mcos*w,y=1+dmd-(dmd*cos-msin*dd),y=msin*w,denominator=x*y-y*x,!denominator)break;f-=h=(fy*x-fx*y)/denominator,d-=p=(fx*y-fy*x)/denominator}while((Math.abs(h)>gn||Math.abs(p)>gn)&&--g>0);return[f,d]},u}function ee(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}function ne(t){function e(){var t=!1,e=wn(n),r=e(t);return r.quincuncial=function(n){return arguments.length?e(t=!!n):t},r}function n(e){var n=e?function(e,n){var i=Math.abs(e)<yn,o=t(i?e:e>0?e-mn:e+mn,n),s=(o[0]-o[1])*Math.SQRT1_2,u=(o[0]+o[1])*Math.SQRT1_2;if(i)return[s,u];var l=r*Math.SQRT1_2,c=s>0^u>0?-1:1;return[c*s-a(u)*l,c*u-a(s)*l]}:function(e,n){var i=e>0?-.5:.5,o=t(e+i*mn,n);return o[0]-=i*r,o};return t.invert&&(n.invert=e?function(e,n){var i=(e+n)*Math.SQRT1_2,o=(n-e)*Math.SQRT1_2,a=Math.abs(i)<.5*r&&Math.abs(o)<.5*r;if(!a){var s=r*Math.SQRT1_2,u=i>0^o>0?-1:1,l=-u*(e+(o>0?1:-1)*s),c=-u*(n+(i>0?1:-1)*s);i=(-l-c)*Math.SQRT1_2,o=(l-c)*Math.SQRT1_2}var h=t.invert(i,o);return a||(h[0]+=i>0?mn:-mn),h}:function(e,n){var i=e>0?-.5:.5,o=t.invert(e+i*r,n),a=o[0]-i*mn;return-mn>a?a+=2*mn:a>mn&&(a-=2*mn),o[0]=a,o}),n}var r=t(yn,0)[0]-t(-yn,0)[0];return e.raw=n,e}function re(t,e){var n=a(t),r=a(e),i=Math.cos(e),o=Math.cos(t)*i,u=Math.sin(t)*i,l=Math.sin(r*e);t=Math.abs(Math.atan2(u,l)),e=s(o),Math.abs(t-yn)>gn&&(t%=yn);var c=ie(t>mn/4?yn-t:t,e);return t>mn/4&&(l=c[0],c[0]=-c[1],c[1]=-l),c[0]*=n,c[1]*=-r,c}function ie(t,e){if(e===yn)return[0,0];var n=Math.sin(e),r=n*n,i=r*r,o=1+i,a=1+3*i,u=1-i,c=s(1/Math.sqrt(o)),h=u+r*o*c,p=(1-n)/h,f=Math.sqrt(p),d=p*o,g=Math.sqrt(d),v=f*u;if(0===t)return[0,-(v+r*g)];var m=Math.cos(e),y=1/m,M=2*n*m,b=(-3*r+c*a)*M,E=(-h*m-(1-n)*b)/(h*h),x=.5*E/f,w=u*x-2*r*f*M,_=r*o*E+p*a*M,S=-y*M,C=-y*_,T=-2*y*w,D=4*t/mn;if(t>.222*mn||mn/4>e&&t>.175*mn){var R=(v+r*l(d*(1+i)-v*v))/(1+i);if(t>mn/4)return[R,R];var k=R,O=.5*R,N=50;R=.5*(O+k);do{var P=Math.sqrt(d-R*R),I=R*(T+S*P)+C*s(R/g)-D;if(!I)break;0>I?O=R:k=R,R=.5*(O+k)}while(Math.abs(k-O)>gn&&--N>0)}else{var B,R=gn,N=25;do{var A=R*R,P=l(d-A),L=T+S*P,I=R*L+C*s(R/g)-D,F=L+(C-S*A)/P;R-=B=P?I/F:0}while(Math.abs(B)>gn&&--N>0)}return[R,-v-r*l(d-R*R)]}function oe(t,e){for(var n=0,r=1,i=.5,o=50;;){var a=i*i,s=Math.sqrt(i),u=Math.asin(1/Math.sqrt(1+a)),l=1-a+i*(1+a)*u,c=(1-s)/l,h=Math.sqrt(c),p=c*(1+a),f=h*(1-a),d=p-t*t,g=Math.sqrt(d),v=e+f+i*g;if(Math.abs(r-n)<vn||0===--o||0===v)break;v>0?n=i:r=i,i=.5*(n+r)}if(!o)return null;var m=Math.asin(s),y=Math.cos(m),M=1/y,b=2*s*y,E=(-3*i+u*(1+3*a))*b,x=(-l*y-(1-s)*E)/(l*l),w=.5*x/h,_=(1-a)*w-2*i*h*b,S=-2*M*_,C=-M*b,T=-M*(i*(1+a)*x+c*(1+3*a)*b);return[mn/4*(t*(S+C*g)+T*Math.asin(t/Math.sqrt(p))),m]}function ae(t,e,n){if(!t){var r=se(e,1-n);return[[0,r[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]]}var i=se(t,n);if(!e)return[[i[0],0],[i[1],0],[i[2],0]];var r=se(e,1-n),o=r[1]*r[1]+n*i[0]*i[0]*r[0]*r[0];return[[i[0]*r[2]/o,i[1]*i[2]*r[0]*r[1]/o],[i[1]*r[1]/o,-i[0]*i[2]*r[0]*r[2]/o],[i[2]*r[1]*r[2]/o,-n*i[0]*i[1]*r[0]/o]]}function se(t,e){var n,r,i,o,a;if(gn>e)return o=Math.sin(t),r=Math.cos(t),n=.25*e*(t-o*r),[o-n*r,r+n*o,1-.5*e*o*o,t-n];if(e>=1-gn)return n=.25*(1-e),r=m(t),o=g(t),i=1/r,a=r*v(t),[o+n*(a-t)/(r*r),i-n*o*i*(a-t),i+n*o*i*(a+t),2*Math.atan(Math.exp(t))-yn+n*(a-t)/r];var u=[1,0,0,0,0,0,0,0,0],c=[Math.sqrt(e),0,0,0,0,0,0,0,0],h=0;for(r=Math.sqrt(1-e),a=1;Math.abs(c[h]/u[h])>gn&&8>h;)n=u[h++],c[h]=.5*(n-r),u[h]=.5*(n+r),r=l(n*r),a*=2;i=a*u[h]*t;do o=c[h]*Math.sin(r=i)/u[h],i=.5*(s(o)+i);while(--h);return[Math.sin(i),o=Math.cos(i),o/Math.cos(i-r),i]}function ue(t,e,n){var r=Math.abs(t),i=Math.abs(e),o=v(i);if(r){var s=1/Math.sin(r),u=1/(Math.tan(r)*Math.tan(r)),c=-(u+n*o*o*s*s-1+n),h=(n-1)*u,p=.5*(-c+Math.sqrt(c*c-4*h));return[le(Math.atan(1/Math.sqrt(p)),n)*a(t),le(Math.atan(l((p/u-1)/n)),1-n)*a(e)]}return[0,le(Math.atan(o),1-n)*a(e)]}function le(t,e){if(!e)return t;if(1===e)return Math.log(Math.tan(t/2+mn/4));for(var n=1,r=Math.sqrt(1-e),i=Math.sqrt(e),o=0;Math.abs(i)>gn;o++){if(t%mn){var a=Math.atan(r*Math.tan(t)/n);0>a&&(a+=mn),t+=a+~~(t/mn)*mn}else t+=t;i=(n+r)/2,r=Math.sqrt(n*r),i=((n=i)-r)/2}return t/(Math.pow(2,o)*n)}function ce(t,e){var n=(Math.SQRT2-1)/(Math.SQRT2+1),r=Math.sqrt(1-n*n),i=le(yn,r*r),o=-1,a=Math.log(Math.tan(mn/4+Math.abs(e)/2)),s=Math.exp(o*a)/Math.sqrt(n),u=he(s*Math.cos(o*t),s*Math.sin(o*t)),l=ue(u[0],u[1],r*r);return[-l[1],(e>=0?1:-1)*(.5*i-l[0])]}function he(t,e){var n=t*t,r=e+1,i=1-n-e*e;return[.5*((t>=0?yn:-yn)-Math.atan2(i,2*t)),-.25*Math.log(i*i+4*n)+.5*Math.log(r*r+n)]}function pe(t,e){var n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function fe(t){function e(t,e){var o=i(t,e);t=o[0],e=o[1];var a=Math.sin(e),s=Math.cos(e),l=Math.cos(t),c=u(n*a+r*s*l),h=Math.sin(c),p=Math.abs(h)>gn?c/h:1;return[p*r*Math.sin(t),(Math.abs(t)>yn?p:-p)*(n*s-r*a*l)]}var n=Math.sin(t),r=Math.cos(t),i=de(t);return i.invert=de(-t),e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),o=-Math.sin(r),a=Math.cos(r),s=r*a,u=-e*o,c=r*n,h=l(s*s+u*u-c*c),p=Math.atan2(s*c+u*h,u*c-s*h),f=(r>yn?-1:1)*Math.atan2(t*o,r*Math.cos(p)*a+e*Math.sin(p)*o);return i.invert(f,p)},e}function de(t){var e=Math.sin(t),n=Math.cos(t);return function(t,r){var i=Math.cos(r),o=Math.cos(t)*i,a=Math.sin(t)*i,u=Math.sin(r);return[Math.atan2(a,o*n-u*e),s(u*n+o*e)]}}function ge(){var t=0,e=wn(fe),n=e(t),r=n.rotate,i=n.stream,o=d3.geo.circle();return n.parallel=function(r){if(!arguments.length)return t/mn*180;var i=n.rotate();return e(t=r*mn/180).rotate(i)},n.rotate=function(e){return arguments.length?(r.call(n,[e[0],e[1]-t/mn*180]),o.origin([-e[0],-e[1]]),n):(e=r.call(n),e[1]+=t/mn*180,e)},n.stream=function(t){return t=i(t),t.sphere=function(){t.polygonStart();var e,n=.01,r=o.angle(90-n)().coordinates[0],i=r.length-1,a=-1;for(t.lineStart();++a<i;)t.point((e=r[a])[0],e[1]);for(t.lineEnd(),r=o.angle(90+n)().coordinates[0],i=r.length-1,t.lineStart();--a>=0;)t.point((e=r[a])[0],e[1]);t.lineEnd(),t.polygonEnd()},t},n}function ve(t,e){function n(n,r){var i=An(n/e,r);return i[0]*=t,i}return arguments.length<2&&(e=t),1===e?An:1/0===e?ye:(n.invert=function(n,r){var i=An.invert(n/t,r);return i[0]*=e,i},n)}function me(){var t=2,e=wn(ve),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n}function ye(t,e){return[t*Math.cos(e)/Math.cos(e/=2),2*Math.sin(e)]}function Me(t,e){for(var n,r=Math.sin(e)*(0>e?2.43763:2.67595),i=0;20>i&&(e-=n=(e+Math.sin(e)-r)/(1+Math.cos(e)),!(Math.abs(n)<gn));i++);return[.85*t*Math.cos(e*=.5),Math.sin(e)*(0>e?1.93052:1.75859)]}function be(t){function e(e,c){var h,p=Math.abs(c);if(p>r){var f=Math.min(t-1,Math.max(0,Math.floor((e+mn)/l)));e+=mn*(t-1)/t-f*l,h=d3.geo.collignon.raw(e,p),h[0]=h[0]*i/o-i*(t-1)/(2*t)+f*i/t,h[1]=a+4*(h[1]-s)*u/i,0>c&&(h[1]=-h[1])}else h=n(e,c);return h[0]/=2,h}var n=d3.geo.cylindricalEqualArea.raw(0),r=Ln*mn/180,i=2*mn,o=d3.geo.collignon.raw(mn,r)[0]-d3.geo.collignon.raw(-mn,r)[0],a=n(0,r)[1],s=d3.geo.collignon.raw(0,r)[1],u=d3.geo.collignon.raw(0,yn)[1]-s,l=2*mn/t;return e.invert=function(e,r){e*=2;var c=Math.abs(r);if(c>a){var h=Math.min(t-1,Math.max(0,Math.floor((e+mn)/l)));e=(e+mn*(t-1)/t-h*l)*o/i;var p=d3.geo.collignon.raw.invert(e,.25*(c-a)*i/u+s);return p[0]-=mn*(t-1)/t-h*l,0>r&&(p[1]=-p[1]),p}return n.invert(e,r)},e}function Ee(){function t(){var t=180/e;return{type:"Polygon",coordinates:[d3.range(-180,180+t/2,t).map(function(t,e){return[t,1&e?90-1e-6:Ln]}).concat(d3.range(180,-180-t/2,-t).map(function(t,e){return[t,1&e?-90+1e-6:-Ln]}))]}}var e=2,n=wn(be),r=n(e),i=r.stream;return r.lobes=function(t){return arguments.length?n(e=+t):e},r.stream=function(e){var n=r.rotate(),o=i(e),a=(r.rotate([0,0]),i(e));return r.rotate(n),o.sphere=function(){d3.geo.stream(t(),a)},o},r}function xe(t){function e(e,i){var s,u,p=1-Math.sin(i);if(p&&2>p){var f,d=yn-i,g=25;do{var v=Math.sin(d),m=Math.cos(d),y=o+Math.atan2(v,r-m),M=1+h-2*r*m;d-=f=(d-c*o-r*v+M*y-.5*p*n)/(2*r*v*y)}while(Math.abs(f)>vn&&--g>0);s=a*Math.sqrt(M),u=e*y/mn}else s=a*(t+p),u=e*o/mn;return[s*Math.sin(u),l-s*Math.cos(u)]}var n,r=1+t,i=Math.sin(1/r),o=s(i),a=2*Math.sqrt(mn/(n=mn+4*o*r)),l=.5*a*(r+Math.sqrt(t*(2+t))),c=t*t,h=r*r;return e.invert=function(t,e){var i=t*t+(e-=l)*e,p=(1+h-i/(a*a))/(2*r),f=u(p),d=Math.sin(f),g=o+Math.atan2(d,r-p);return[s(t/Math.sqrt(i))*mn/g,s(1-2*(f-c*o-r*d+(1+h-2*r*p)*g)/n)]},e}function we(){var t=1,e=wn(xe),n=e(t);return n.ratio=function(n){return arguments.length?e(t=+n):t},n}function _e(t,e){return e>-Fn?(t=Tn(t,e),t[1]+=zn,t):D(t,e)}function Se(t,e){return Math.abs(e)>Fn?(t=Tn(t,e),t[1]-=e>0?zn:-zn,t):D(t,e)}function Ce(t,e){return[3*t/(2*mn)*Math.sqrt(mn*mn/3-e*e),e]}function Te(t){function e(e,n){if(Math.abs(Math.abs(n)-yn)<gn)return[0,0>n?-2:2];var r=Math.sin(n),i=Math.pow((1+r)/(1-r),t/2),o=.5*(i+1/i)+Math.cos(e*=t);return[2*Math.sin(e)/o,(i-1/i)/o]}return e.invert=function(e,n){var r=Math.abs(n);if(Math.abs(r-2)<gn)return e?null:[0,a(n)*yn];if(r>2)return null;e/=2,n/=2;var i=e*e,o=n*n,u=2*n/(1+i+o);return u=Math.pow((1+u)/(1-u),1/t),[Math.atan2(2*e,1-i-o)/t,s((u-1)/(u+1))]},e}function De(){var t=.5,e=wn(Te),n=e(t);return n.spacing=function(n){return arguments.length?e(t=+n):t},n}function Re(t,e){return[t*(1+Math.sqrt(Math.cos(e)))/2,e/(Math.cos(e/2)*Math.cos(t/6))]}function ke(t,e){var n=t*t,r=e*e;return[t*(.975534+r*(-.119161+n*-.0143059+r*-.0547009)),e*(1.00384+n*(.0802894+r*-.02855+199025e-9*n)+r*(.0998909+r*-.0491032))]}function Oe(t,e){return[Math.sin(t)/Math.cos(e),Math.tan(e)*Math.cos(t)]}function Ne(t){function e(e,i){var o=i-t,a=Math.abs(o)<gn?e*n:Math.abs(a=mn/4+i/2)<gn||Math.abs(Math.abs(a)-yn)<gn?0:e*o/Math.log(Math.tan(a)/r);return[a,o]}var n=Math.cos(t),r=Math.tan(mn/4+t/2);return e.invert=function(e,i){var o,a=i+t;return[Math.abs(i)<gn?e/n:Math.abs(o=mn/4+a/2)<gn||Math.abs(Math.abs(o)-yn)<gn?0:e*Math.log(Math.tan(o)/r)/i,a]},e}function Pe(t,e){return[t,1.25*Math.log(Math.tan(mn/4+.4*e))]}function Ie(t){function e(e,r){for(var i,o=Math.cos(r),a=2/(1+o*Math.cos(e)),s=a*o*Math.sin(e),u=a*Math.sin(r),l=n,c=t[l],h=c[0],p=c[1];--l>=0;)c=t[l],h=c[0]+s*(i=h)-u*p,p=c[1]+s*p+u*i;return h=s*(i=h)-u*p,p=s*p+u*i,[h,p]}var n=t.length-1;return e.invert=function(e,r){var i=20,o=e,a=r;do{for(var u,l=n,c=t[l],h=c[0],p=c[1],f=0,d=0;--l>=0;)c=t[l],f=h+o*(u=f)-a*d,d=p+o*d+a*u,h=c[0]+o*(u=h)-a*p,p=c[1]+o*p+a*u;f=h+o*(u=f)-a*d,d=p+o*d+a*u,h=o*(u=h)-a*p-e,p=o*p+a*u-r;var g,v,m=f*f+d*d;o-=g=(h*f+p*d)/m,a-=v=(p*f-h*d)/m}while(Math.abs(g)+Math.abs(v)>gn*gn&&--i>0);if(i){var y=Math.sqrt(o*o+a*a),M=2*Math.atan(.5*y),b=Math.sin(M);return[Math.atan2(o*b,y*Math.cos(M)),y?s(a*b/y):0]}},e}function Be(){var t=Un.miller,e=wn(Ie),n=e(t);return n.coefficients=function(n){return arguments.length?e(t="string"==typeof n?Un[n]:n):t},n}function Ae(t,e){var n=Math.sqrt(6),r=Math.sqrt(7),i=Math.asin(7*Math.sin(e)/(3*n));return[n*t*(2*Math.cos(2*i/3)-1)/r,9*Math.sin(i/3)/r]}function Le(t,e){for(var n,r=(1+Math.SQRT1_2)*Math.sin(e),i=e,o=0;25>o&&(i-=n=(Math.sin(i/2)+Math.sin(i)-r)/(.5*Math.cos(i/2)+Math.cos(i)),!(Math.abs(n)<gn));o++);return[t*(1+2*Math.cos(i)/Math.cos(i/2))/(3*Math.SQRT2),2*Math.sqrt(3)*Math.sin(i/2)/Math.sqrt(2+Math.SQRT2)]}function Fe(t,e){for(var n,r=Math.sqrt(6/(4+mn)),i=(1+mn/4)*Math.sin(e),o=e/2,a=0;25>a&&(o-=n=(o/2+Math.sin(o)-i)/(.5+Math.cos(o)),!(Math.abs(n)<gn));a++);return[r*(.5+Math.cos(o))*t/1.5,r*o]}function ze(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}function Ue(t,e){return[t*(1+Math.cos(e))/2,2*(e-Math.tan(e/2))]}function qe(t,e){var n=e*e;return[t,e*(qn+n*n*(jn+n*(Hn+Vn*n)))]}function je(t,e){if(Math.abs(e)<gn)return[t,0];var n=Math.tan(e),r=t*Math.sin(e);return[Math.sin(r)/n,e+(1-Math.cos(r))/n]}function He(t){function e(e,r){var i=n?Math.tan(e*n/2)/n:e/2;if(!r)return[2*i,-t];var o=2*Math.atan(i*Math.sin(r)),a=1/Math.tan(r);return[Math.sin(o)*a,r+(1-Math.cos(o))*a-t]}var n=Math.sin(t);return e.invert=function(e,r){if(Math.abs(r+=t)<gn)return[n?2*Math.atan(n*e/2)/n:e,0];var i,o=e*e+r*r,a=0,l=10;do{var c=Math.tan(a),h=1/Math.cos(a),p=o-2*r*a+a*a;a-=i=(c*p+2*(a-r))/(2+p*h*h+2*(a-r)*c)}while(Math.abs(i)>gn&&--l>0);var f=e*(c=Math.tan(a)),d=Math.tan(Math.abs(r)<Math.abs(a+1/c)?.5*s(f):.5*u(f)+mn/4)/Math.sin(a);return[n?2*Math.atan(n*d)/n:2*d,a]},e}function Ve(t,e){var n,r=Math.min(18,36*Math.abs(e)/mn),i=Math.floor(r),o=r-i,a=(n=Zn[i])[0],s=n[1],u=(n=Zn[++i])[0],l=n[1],c=(n=Zn[Math.min(19,++i)])[0],h=n[1];return[t*(u+o*(c-a)/2+o*o*(c-2*u+a)/2),(e>0?yn:-yn)*(l+o*(h-s)/2+o*o*(h-2*l+s)/2)]}function We(t){function e(e,n){var r=Math.cos(n),i=(t-1)/(t-r*Math.cos(e));return[i*r*Math.sin(e),i*Math.sin(n)]}return e.invert=function(e,n){var r=e*e+n*n,i=Math.sqrt(r),o=(t-Math.sqrt(1-r*(t+1)/(t-1)))/((t-1)/i+i/(t-1));return[Math.atan2(e*o,i*Math.sqrt(1-o*o)),i?s(n*o/i):0]},e}function Ke(t,e){function n(e,n){var a=r(e,n),s=a[1],u=s*o/(t-1)+i;return[a[0]*i/u,s/u]}var r=We(t);if(!e)return r;var i=Math.cos(e),o=Math.sin(e);return n.invert=function(e,n){var a=(t-1)/(t-1-n*o);return r.invert(a*e,a*n*i)},n}function Ye(){var t=1.4,e=0,n=wn(Ke),r=n(t,e);return r.distance=function(r){return arguments.length?n(t=+r,e):t},r.tilt=function(r){return arguments.length?n(t,e=r*mn/180):180*e/mn},r}function Xe(t,e){var n=Math.tan(e/2),r=Math.sin(mn/4*n);return[t*(.74482-.34588*r*r),1.70711*n]}function Ge(t){function e(e,o){var a=u(Math.cos(o)*Math.cos(e-n)),s=u(Math.cos(o)*Math.cos(e-r)),c=0>o?-1:1;return a*=a,s*=s,[(a-s)/(2*t),c*l(4*i*s-(i-a+s)*(i-a+s))/(2*t)]}if(!t)return d3.geo.azimuthalEquidistant.raw;var n=-t/2,r=-n,i=t*t,o=Math.tan(r),a=.5/Math.sin(r);return e.invert=function(t,e){var i,s,l=e*e,c=Math.cos(Math.sqrt(l+(i=t+n)*i)),h=Math.cos(Math.sqrt(l+(i=t+r)*i));return[Math.atan2(s=c-h,i=(c+h)*o),(0>e?-1:1)*u(Math.sqrt(i*i+s*s)*a)]},e}function Qe(){var t=[[0,0],[0,0]],e=wn(Ge),n=e(0),r=n.rotate;return delete n.rotate,n.points=function(n){if(!arguments.length)return t;t=n;var i=d3.geo.interpolate(n[0],n[1]),o=i(.5),a=d3.geo.rotation([-o[0],-o[1]])(n[0]),u=.5*i.distance,l=-s(Math.sin(a[1]*bn)/Math.sin(u));return a[0]>0&&(l=mn-l),r.call(a,[-o[0],-o[1],-l*En]),e(2*u)},n}function Ze(t){function e(t,e){var r=d3.geo.gnomonic.raw(t,e);return r[0]*=n,r}var n=Math.cos(t);return e.invert=function(t,e){return d3.geo.gnomonic.raw.invert(t/n,e)},e}function $e(){var t=[[0,0],[0,0]],e=wn(Ze),n=e(0),r=n.rotate;return delete n.rotate,n.points=function(n){if(!arguments.length)return t;t=n;var i=d3.geo.interpolate(n[0],n[1]),o=i(.5),a=d3.geo.rotation([-o[0],-o[1]])(n[0]),u=.5*i.distance,l=-s(Math.sin(a[1]*bn)/Math.sin(u));return a[0]>0&&(l=mn-l),r.call(a,[-o[0],-o[1],-l*En]),e(u)},n}function Je(t,e){if(Math.abs(e)<gn)return[t,0];var n=Math.abs(e/yn),r=s(n);if(Math.abs(t)<gn||Math.abs(Math.abs(e)-yn)<gn)return[0,a(e)*mn*Math.tan(r/2)];var i=Math.cos(r),o=Math.abs(mn/t-t/mn)/2,u=o*o,l=i/(n+i-1),c=l*(2/n-1),h=c*c,p=h+u,f=l-h,d=u+l;return[a(t)*mn*(o*f+Math.sqrt(u*f*f-p*(l*l-h)))/p,a(e)*mn*(c*d-o*Math.sqrt((u+1)*p-d*d))/p]}function tn(t,e){if(Math.abs(e)<gn)return[t,0];var n=Math.abs(e/yn),r=s(n);if(Math.abs(t)<gn||Math.abs(Math.abs(e)-yn)<gn)return[0,a(e)*mn*Math.tan(r/2)];var i=Math.cos(r),o=Math.abs(mn/t-t/mn)/2,u=o*o,c=i*(Math.sqrt(1+u)-o*i)/(1+u*n*n);return[a(t)*mn*c,a(e)*mn*l(1-c*(2*o+c))]}function en(t,e){if(Math.abs(e)<gn)return[t,0];var n=e/yn,r=s(n);if(Math.abs(t)<gn||Math.abs(Math.abs(e)-yn)<gn)return[0,mn*Math.tan(r/2)];var i=(mn/t-t/mn)/2,o=n/(1+Math.cos(r));return[mn*(a(t)*l(i*i+1-o*o)-i),mn*o]}function nn(t,e){if(!e)return[t,0];var n=Math.abs(e);if(!t||n===yn)return[0,e];var r=n/yn,i=r*r,o=(8*r-i*(i+2)-5)/(2*i*(r-1)),s=o*o,u=r*o,c=i+s+2*u,h=r+3*o,p=t/yn,f=p+1/p,d=a(Math.abs(t)-yn)*Math.sqrt(f*f-4),g=d*d,v=c*(i+s*g-1)+(1-i)*(i*(h*h+4*s)+12*u*s+4*s*s),m=(d*(c+s-1)+2*l(v))/(4*c+g);return[a(t)*yn*m,a(e)*yn*l(1+d*Math.abs(m)-m*m)]}function rn(t,e){return[t*Math.sqrt(1-3*e*e/(mn*mn)),e]}function on(t,e){var n=.90631*Math.sin(e),r=Math.sqrt(1-n*n),i=Math.sqrt(2/(1+r*Math.cos(t/=3)));return[2.66723*r*i*Math.sin(t),1.24104*n*i]}function an(t,e){var n=Math.cos(e),r=Math.cos(t)*n,i=1-r,o=Math.cos(t=Math.atan2(Math.sin(t)*n,-Math.sin(e))),a=Math.sin(t);return n=l(1-r*r),[a*n-o*i,-o*n-a*i]}function sn(t,e){var n=p(t,e);return[(n[0]+t/yn)/2,(n[1]+e)/2]}d3.geo.project=function(t,n){var r=n.stream;if(!r)throw new Error("not yet supported");return(t&&un.hasOwnProperty(t.type)?un[t.type]:e)(t,r)};var un={Feature:t,FeatureCollection:function(e,n){return{type:"FeatureCollection",features:e.features.map(function(e){return t(e,n)})}}},ln=[],cn=[],hn={point:function(t,e){ln.push([t,e])},result:function(){var t=ln.length?ln.length<2?{type:"Point",coordinates:ln[0]}:{type:"MultiPoint",coordinates:ln}:null;return ln=[],t}},pn={lineStart:n,point:function(t,e){ln.push([t,e])},lineEnd:function(){ln.length&&(cn.push(ln),ln=[])},result:function(){var t=cn.length?cn.length<2?{type:"LineString",coordinates:cn[0]}:{type:"MultiLineString",coordinates:cn}:null;return cn=[],t}},fn={polygonStart:n,lineStart:n,point:function(t,e){ln.push([t,e])},lineEnd:function(){var t=ln.length;if(t){do ln.push(ln[0].slice());while(++t<4);cn.push(ln),ln=[]}},polygonEnd:n,result:function(){if(!cn.length)return null;var t=[],e=[];return cn.forEach(function(n){r(n)?t.push([n]):e.push(n)}),e.forEach(function(e){var n=e[0];t.some(function(t){return i(t[0],n)?(t.push(e),!0):void 0})||t.push([e])}),cn=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},dn={Point:hn,MultiPoint:hn,LineString:pn,MultiLineString:pn,Polygon:fn,MultiPolygon:fn,Sphere:fn},gn=1e-6,vn=gn*gn,mn=Math.PI,yn=mn/2,Mn=Math.sqrt(mn),bn=mn/180,En=180/mn,xn=d3.geo.projection,wn=d3.geo.projectionMutator;d3.geo.interrupt=function(t){function e(e,n){for(var r=0>n?-1:1,i=s[+(0>n)],o=0,a=i.length-1;a>o&&e>i[o][2][0];++o);var u=t(e-i[o][1][0],n);return u[0]+=t(i[o][1][0],r*n>r*i[o][0][1]?i[o][0][1]:n)[0],u}function n(){a=s.map(function(e){return e.map(function(e){var n,r=t(e[0][0],e[0][1])[0],i=t(e[2][0],e[2][1])[0],o=t(e[1][0],e[0][1])[1],a=t(e[1][0],e[1][1])[1];return o>a&&(n=o,o=a,a=n),[[r,o],[i,a]]})})}function r(){for(var t=1e-6,e=[],n=0,r=s[0].length;r>n;++n){var o=s[0][n],a=180*o[0][0]/mn,u=180*o[0][1]/mn,l=180*o[1][1]/mn,c=180*o[2][0]/mn,h=180*o[2][1]/mn;e.push(i([[a+t,u+t],[a+t,l-t],[c-t,l-t],[c-t,h+t]],30))}for(var n=s[1].length-1;n>=0;--n){var o=s[1][n],a=180*o[0][0]/mn,u=180*o[0][1]/mn,l=180*o[1][1]/mn,c=180*o[2][0]/mn,h=180*o[2][1]/mn;e.push(i([[c-t,h-t],[c-t,l+t],[a+t,l+t],[a+t,u-t]],30))}return{type:"Polygon",coordinates:[d3.merge(e)]}}function i(t,e){for(var n,r,i,o=-1,a=t.length,s=t[0],u=[];++o<a;){n=t[o],r=(n[0]-s[0])/e,i=(n[1]-s[1])/e;for(var l=0;e>l;++l)u.push([s[0]+l*r,s[1]+l*i]);s=n}return u.push(n),u}function o(t,e){return Math.abs(t[0]-e[0])<gn&&Math.abs(t[1]-e[1])<gn}var a,s=[[[[-mn,0],[0,yn],[mn,0]]],[[[-mn,0],[0,-yn],[mn,0]]]];t.invert&&(e.invert=function(n,r){for(var i=a[+(0>r)],u=s[+(0>r)],l=0,c=i.length;c>l;++l){var h=i[l];if(h[0][0]<=n&&n<h[1][0]&&h[0][1]<=r&&r<h[1][1]){var p=t.invert(n-t(u[l][1][0],0)[0],r);return p[0]+=u[l][1][0],o(e(p[0],p[1]),[n,r])?p:null}}});var u=d3.geo.projection(e),l=u.stream;return u.stream=function(t){var e=u.rotate(),n=l(t),i=(u.rotate([0,0]),l(t));return u.rotate(e),n.sphere=function(){d3.geo.stream(r(),i)},n},u.lobes=function(t){return arguments.length?(s=t.map(function(t){return t.map(function(t){return[[t[0][0]*mn/180,t[0][1]*mn/180],[t[1][0]*mn/180,t[1][1]*mn/180],[t[2][0]*mn/180,t[2][1]*mn/180]]})}),n(),u):s.map(function(t){return t.map(function(t){return[[180*t[0][0]/mn,180*t[0][1]/mn],[180*t[1][0]/mn,180*t[1][1]/mn],[180*t[2][0]/mn,180*t[2][1]/mn]]})})},u},(d3.geo.airy=h).raw=c,p.invert=function(t,e){if(!(t*t+4*e*e>mn*mn+gn)){var n=t,r=e,i=25;do{var o,a=Math.sin(n),s=Math.sin(n/2),l=Math.cos(n/2),c=Math.sin(r),h=Math.cos(r),p=Math.sin(2*r),f=c*c,d=h*h,g=s*s,v=1-d*l*l,m=v?u(h*l)*Math.sqrt(o=1/v):o=0,y=2*m*h*s-t,M=m*c-e,b=o*(d*g+m*h*l*f),E=o*(.5*a*p-2*m*c*s),x=.25*o*(p*s-m*c*d*a),w=o*(f*l+m*g*h),_=E*x-w*b;if(!_)break;var S=(M*E-y*w)/_,C=(y*x-M*b)/_;n-=S,r-=C}while((Math.abs(S)>gn||Math.abs(C)>gn)&&--i>0);return[n,r]}},(d3.geo.aitoff=function(){return xn(p)}).raw=p,(d3.geo.armadillo=d).raw=f,b.invert=function(t,e){if(t*=3/8,e*=3/8,!t&&Math.abs(e)>1)return null;var n=t*t,r=e*e,i=1+n+r,o=Math.sqrt(.5*(i-Math.sqrt(i*i-4*e*e))),u=s(o)/3,l=o?M(Math.abs(e/o))/3:y(Math.abs(t))/3,c=Math.cos(u),h=m(l),p=h*h-c*c;return[2*a(t)*Math.atan2(v(l)*c,.25-p),2*a(e)*Math.atan2(h*Math.sin(u),.25+p)]},(d3.geo.august=function(){return xn(b)}).raw=b;var _n=Math.log(1+Math.SQRT2);E.invert=function(t,e){if((r=Math.abs(e))<_n)return[t,2*Math.atan(Math.exp(e))-yn];var n,r,i=Math.sqrt(8),o=mn/4,s=25;do{var u=Math.cos(o/2),l=Math.tan(o/2);o-=n=(i*(o-mn/4)-Math.log(l)-r)/(i-.5*u*u/l)}while(Math.abs(n)>vn&&--s>0);return[t/(Math.cos(o)*(i-1/Math.sin(o))),a(e)*o]},(d3.geo.baker=function(){return xn(E)}).raw=E;var Sn=d3.geo.azimuthalEquidistant.raw;(d3.geo.berghaus=w).raw=x;var Cn=_(mn),Tn=S(Math.SQRT2/yn,Math.SQRT2,mn);(d3.geo.mollweide=function(){return xn(Tn)}).raw=Tn,C.invert=function(t,e){var n,r,i=2.00276,o=i*e,a=0>e?-mn/4:mn/4,s=25;do r=o-Math.SQRT2*Math.sin(a),a-=n=(Math.sin(2*a)+2*a-mn*Math.sin(r))/(2*Math.cos(2*a)+2+mn*Math.cos(r)*Math.SQRT2*Math.cos(a));while(Math.abs(n)>gn&&--s>0);return r=o-Math.SQRT2*Math.sin(a),[t*(1/Math.cos(r)+1.11072/Math.cos(a))/i,r]},(d3.geo.boggs=function(){return xn(C)}).raw=C,D.invert=function(t,e){return[t/Math.cos(e),e]},(d3.geo.sinusoidal=function(){return xn(D)}).raw=D,(d3.geo.bonne=function(){return T(R).parallel(45)}).raw=R;var Dn=S(1,4/mn,mn);(d3.geo.bromley=function(){return xn(Dn)}).raw=Dn,(d3.geo.chamberlin=O).raw=k,A.invert=function(t,e){var n=(n=e/Mn-1)*n;return[n>0?t*Math.sqrt(mn/n)/2:0,s(1-n)]},(d3.geo.collignon=function(){return xn(A)}).raw=A,(d3.geo.craig=function(){return T(L)}).raw=L,F.invert=function(t,e){var n=Math.sqrt(3),r=3*s(e/(n*Mn));return[Mn*t/(n*(2*Math.cos(2*r/3)-1)),r]},(d3.geo.craster=function(){return xn(F)}).raw=F,(d3.geo.cylindricalEqualArea=function(){return T(z)}).raw=z,(d3.geo.cylindricalStereographic=function(){return T(U)}).raw=U,q.invert=function(t,e){var n=Math.sqrt(8/(3*mn)),r=e/n;return[t/(n*(1-Math.abs(r)/mn)),r]},(d3.geo.eckert1=function(){return xn(q)}).raw=q,j.invert=function(t,e){var n=2-Math.abs(e)/Math.sqrt(2*mn/3);return[t*Math.sqrt(6*mn)/(2*n),a(e)*s((4-n*n)/3)]},(d3.geo.eckert2=function(){return xn(j)}).raw=j,H.invert=function(t,e){var n=Math.sqrt(mn*(4+mn))/2;return[t*n/(1+l(1-e*e*(4+mn)/(4*mn))),e*n/2]},(d3.geo.eckert3=function(){return xn(H)}).raw=H,V.invert=function(t,e){var n=.5*e*Math.sqrt((4+mn)/mn),r=s(n),i=Math.cos(r);return[t/(2/Math.sqrt(mn*(4+mn))*(1+i)),s((r+n*(i+2))/(2+yn))]},(d3.geo.eckert4=function(){return xn(V)}).raw=V,W.invert=function(t,e){var n=Math.sqrt(2+mn),r=e*n/2;return[n*t/(1+Math.cos(r)),r]},(d3.geo.eckert5=function(){return xn(W)}).raw=W,K.invert=function(t,e){var n=1+yn,r=Math.sqrt(n/2);return[2*t*r/(1+Math.cos(e*=r)),s((e+Math.sin(e))/n)]},(d3.geo.eckert6=function(){return xn(K)}).raw=K,Y.invert=function(t,e){var n=d3.geo.august.raw.invert(t/1.2,1.065*e);if(!n)return null;var r=n[0],i=n[1],o=20;t/=Rn,e/=Rn;do{var a=r/2,s=i/2,u=Math.sin(a),l=Math.cos(a),c=Math.sin(s),h=Math.cos(s),p=Math.cos(i),f=Math.sqrt(p),d=c/(h+Math.SQRT2*l*f),g=d*d,v=Math.sqrt(2/(1+g)),m=Math.SQRT2*h+(l+u)*f,y=Math.SQRT2*h+(l-u)*f,M=m/y,b=Math.sqrt(M),E=b-1/b,x=b+1/b,w=v*E-2*Math.log(b)-t,_=v*d*x-2*Math.atan(d)-e,S=c&&Math.SQRT1_2*f*u*g/c,C=(Math.SQRT2*l*h+f)/(2*(h+Math.SQRT2*l*f)*(h+Math.SQRT2*l*f)*f),T=-.5*d*v*v*v,D=T*S,R=T*C,k=(k=2*h+Math.SQRT2*f*(l-u))*k*b,O=(Math.SQRT2*l*h*f+p)/k,N=-(Math.SQRT2*u*c)/(f*k),P=E*D-2*O/b+v*(O+O/M),I=E*R-2*N/b+v*(N+N/M),B=d*x*D-2*S/(1+g)+v*x*S+v*d*(O-O/M),A=d*x*R-2*C/(1+g)+v*x*C+v*d*(N-N/M),L=I*B-A*P;if(!L)break;var F=(_*I-w*A)/L,z=(w*B-_*P)/L;r-=F,i=Math.max(-yn,Math.min(yn,i-z))}while((Math.abs(F)>gn||Math.abs(z)>gn)&&--o>0);return Math.abs(Math.abs(i)-yn)<gn?[0,i]:o&&[r,i]};var Rn=3+2*Math.SQRT2;(d3.geo.eisenlohr=function(){return xn(Y)}).raw=Y,X.invert=function(t,e){var n=e/(1+kn);return[t?t/(kn*l(1-n*n)):0,2*Math.atan(n)]};var kn=Math.cos(35*bn);(d3.geo.fahey=function(){return xn(X)}).raw=X,G.invert=function(t,e){var n=Math.atan(e/Mn),r=Math.cos(n),i=2*n;return[t*Mn*.5/(Math.cos(i)*r*r),i]},(d3.geo.foucaut=function(){return xn(G)}).raw=G,d3.geo.gilbert=function(t){function e(e){return t([.5*e[0],s(Math.tan(.5*e[1]*bn))*En])}var n=d3.geo.equirectangular().scale(En).translate([0,0]);return t.invert&&(e.invert=function(e){return e=t.invert(e),e[0]*=2,e[1]=2*Math.atan(Math.sin(e[1]*bn))*En,e}),e.stream=function(e){e=t.stream(e);var r=n.stream({point:function(t,n){e.point(.5*t,s(Math.tan(.5*-n*bn))*En)},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()
}});return r.sphere=function(){e.sphere()},r.valid=!1,r},e};var On=d3.geo.azimuthalEquidistant.raw;(d3.geo.gingery=$).raw=Q;var Nn=te(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);(d3.geo.ginzburg4=function(){return xn(Nn)}).raw=Nn;var Pn=te(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);(d3.geo.ginzburg5=function(){return xn(Pn)}).raw=Pn;var In=te(5/6*mn,-.62636,-.0344,0,1.3493,-.05524,0,.045);(d3.geo.ginzburg6=function(){return xn(In)}).raw=In,ee.invert=function(t,e){var n,r=t,i=e,o=50;do{var a=i*i;i-=n=(i*(1+a/12)-e)/(1+a/4)}while(Math.abs(n)>gn&&--o>0);o=50,t/=1-.162388*a;do{var s=(s=r*r)*s;r-=n=(r*(.87-952426e-9*s)-t)/(.87-.00476213*s)}while(Math.abs(n)>gn&&--o>0);return[r,i]},(d3.geo.ginzburg8=function(){return xn(ee)}).raw=ee;var Bn=te(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);(d3.geo.ginzburg9=function(){return xn(Bn)}).raw=Bn,re.invert=function(t,e){var n=a(t),r=a(e),i=-n*t,o=-r*e,u=1>o/i,l=oe(u?o:i,u?i:o),c=l[0],h=l[1];u&&(c=-yn-c);var p=Math.cos(h),t=Math.cos(c)*p,e=Math.sin(c)*p,f=Math.sin(h);return[n*(Math.atan2(e,-f)+mn),r*s(t)]},d3.geo.gringorten=ne(re),ce.invert=function(t,e){var n=(Math.SQRT2-1)/(Math.SQRT2+1),r=Math.sqrt(1-n*n),i=le(yn,r*r),o=-1,a=ae(.5*i-e,-t,r*r),s=pe(a[0],a[1]),u=Math.atan2(s[1],s[0])/o;return[u,2*Math.atan(Math.exp(.5/o*Math.log(n*s[0]*s[0]+n*s[1]*s[1])))-yn]},d3.geo.guyou=ne(ce),(d3.geo.hammerRetroazimuthal=ge).raw=fe;var An=d3.geo.azimuthalEqualArea.raw;ye.invert=function(t,e){var n=2*s(e/2);return[t*Math.cos(n/2)/Math.cos(n),n]},(d3.geo.hammer=me).raw=ve,Me.invert=function(t,e){var n=Math.abs(n=e*(0>e?.5179951515653813:.5686373742600607))>1-gn?n>0?yn:-yn:s(n);return[1.1764705882352942*t/Math.cos(n),Math.abs(n=((n+=n)+Math.sin(n))*(0>e?.4102345310814193:.3736990601468637))>1-gn?n>0?yn:-yn:s(n)]},(d3.geo.hatano=function(){return xn(Me)}).raw=Me;var Ln=41+48/36+37/3600;(d3.geo.healpix=Ee).raw=be,(d3.geo.hill=we).raw=xe;var Fn=.7109889596207567,zn=.0528035274542;_e.invert=function(t,e){return e>-Fn?Tn.invert(t,e-zn):D.invert(t,e)},(d3.geo.sinuMollweide=function(){return xn(_e).rotate([-20,-55])}).raw=_e,Se.invert=function(t,e){return Math.abs(e)>Fn?Tn.invert(t,e+(e>0?zn:-zn)):D.invert(t,e)},(d3.geo.homolosine=function(){return xn(Se)}).raw=Se,Ce.invert=function(t,e){return[2/3*mn*t/Math.sqrt(mn*mn/3-e*e),e]},(d3.geo.kavrayskiy7=function(){return xn(Ce)}).raw=Ce,(d3.geo.lagrange=De).raw=Te,Re.invert=function(t,e){var n=Math.abs(t),r=Math.abs(e),i=mn/Math.SQRT2,o=gn,a=yn;i>r?a*=r/i:o+=6*u(i/r);for(var s=0;25>s;s++){var c=Math.sin(a),h=l(Math.cos(a)),p=Math.sin(a/2),f=Math.cos(a/2),d=Math.sin(o/6),g=Math.cos(o/6),v=.5*o*(1+h)-n,m=a/(f*g)-r,y=h?-.25*o*c/h:0,M=.5*(1+h),b=(1+.5*a*p/f)/(f*g),E=a/f*(d/6)/(g*g),x=y*E-b*M,w=(v*E-m*M)/x,_=(m*y-v*b)/x;if(a-=w,o-=_,Math.abs(w)<gn&&Math.abs(_)<gn)break}return[0>t?-o:o,0>e?-a:a]},(d3.geo.larrivee=function(){return xn(Re)}).raw=Re,ke.invert=function(t,e){var n=a(t)*mn,r=e/2,i=50;do{var o=n*n,s=r*r,u=n*r,l=n*(.975534+s*(-.119161+o*-.0143059+s*-.0547009))-t,c=r*(1.00384+o*(.0802894+s*-.02855+199025e-9*o)+s*(.0998909+s*-.0491032))-e,h=.975534-s*(.119161+3*o*.0143059+.0547009*s),p=-u*(.238322+.2188036*s+.0286118*o),f=u*(.1605788+7961e-7*o+-0.0571*s),d=1.00384+o*(.0802894+199025e-9*o)+s*(3*(.0998909-.02855*o)-.245516*s),g=p*f-d*h,v=(c*p-l*d)/g,m=(l*f-c*h)/g;n-=v,r-=m}while((Math.abs(v)>gn||Math.abs(m)>gn)&&--i>0);return i&&[n,r]},(d3.geo.laskowski=function(){return xn(ke)}).raw=ke,Oe.invert=function(t,e){var n=t*t,r=e*e,i=r+1,o=t?Math.SQRT1_2*Math.sqrt((i-Math.sqrt(n*n+2*n*(r-1)+i*i))/n+1):1/Math.sqrt(i);return[s(t*o),a(e)*u(o)]},(d3.geo.littrow=function(){return xn(Oe)}).raw=Oe,(d3.geo.loximuthal=function(){return T(Ne).parallel(40)}).raw=Ne,Pe.invert=function(t,e){return[t,2.5*Math.atan(Math.exp(.8*e))-.625*mn]},(d3.geo.miller=function(){return xn(Pe)}).raw=Pe;var Un={alaska:[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48:[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50:[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],miller:[[.9245,0],[0,0],[.01943,0]],lee:[[.721316,0],[0,0],[-.00881625,-.00617325]]};(d3.geo.modifiedStereographic=Be).raw=Ie,Ae.invert=function(t,e){var n=Math.sqrt(6),r=Math.sqrt(7),i=3*s(e*r/9);return[t*r/(n*(2*Math.cos(2*i/3)-1)),s(3*Math.sin(i)*n/7)]},(d3.geo.mtFlatPolarParabolic=function(){return xn(Ae)}).raw=Ae,Le.invert=function(t,e){var n=e*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),r=2*s(n);return[3*Math.SQRT2*t/(1+2*Math.cos(r)/Math.cos(r/2)),s((n+Math.sin(r))/(1+Math.SQRT1_2))]},(d3.geo.mtFlatPolarQuartic=function(){return xn(Le)}).raw=Le,Fe.invert=function(t,e){var n=Math.sqrt(6/(4+mn)),r=e/n;return Math.abs(Math.abs(r)-yn)<gn&&(r=0>r?-yn:yn),[1.5*t/(n*(.5+Math.cos(r))),s((r/2+Math.sin(r))/(1+mn/4))]},(d3.geo.mtFlatPolarSinusoidal=function(){return xn(Fe)}).raw=Fe,ze.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(-.044475+.028874*o-.005916*a)))-e)/(1.007226+o*(.045255+a*(-0.311325+.259866*o-.005916*11*a)))}while(Math.abs(n)>gn&&--i>0);return[t/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]},(d3.geo.naturalEarth=function(){return xn(ze)}).raw=ze,Ue.invert=function(t,e){for(var n=e/2,r=0,i=1/0;10>r&&Math.abs(i)>gn;r++){var o=Math.cos(e/2);e-=i=(e-Math.tan(e/2)-n)/(1-.5/(o*o))}return[2*t/(1+Math.cos(e)),e]},(d3.geo.nellHammer=function(){return xn(Ue)}).raw=Ue;var qn=1.0148,jn=.23185,Hn=-.14499,Vn=.02406,Wn=qn,Kn=5*jn,Yn=7*Hn,Xn=9*Vn,Gn=1.790857183;qe.invert=function(t,e){e>Gn?e=Gn:-Gn>e&&(e=-Gn);var n,r=e;do{var i=r*r;r-=n=(r*(qn+i*i*(jn+i*(Hn+Vn*i)))-e)/(Wn+i*i*(Kn+i*(Yn+Xn*i)))}while(Math.abs(n)>gn);return[t,r]},(d3.geo.patterson=function(){return xn(qe)}).raw=qe;var Qn=ne(ce);(d3.geo.peirceQuincuncial=function(){return Qn().quincuncial(!0).rotate([-90,-90,45]).clipAngle(180-1e-6)}).raw=Qn.raw,je.invert=function(t,e){if(Math.abs(e)<gn)return[t,0];var n,r=t*t+e*e,i=.5*e,o=10;do{var l=Math.tan(i),c=1/Math.cos(i),h=r-2*e*i+i*i;i-=n=(l*h+2*(i-e))/(2+h*c*c+2*(i-e)*l)}while(Math.abs(n)>gn&&--o>0);return l=Math.tan(i),[(Math.abs(e)<Math.abs(i+1/l)?s(t*l):a(t)*(u(Math.abs(t*l))+yn))/Math.sin(i),i]},(d3.geo.polyconic=function(){return xn(je)}).raw=je,(d3.geo.rectangularPolyconic=function(){return T(He)}).raw=He;var Zn=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Zn.forEach(function(t){t[1]*=1.0144}),Ve.invert=function(t,e){var n=e/yn,r=90*n,i=Math.min(18,Math.abs(r/5)),o=Math.max(0,Math.floor(i));do{var a=Zn[o][1],s=Zn[o+1][1],u=Zn[Math.min(19,o+2)][1],l=u-a,c=u-2*s+a,h=2*(Math.abs(n)-s)/l,p=c/l,f=h*(1-p*h*(1-2*p*h));if(f>=0||1===o){r=(e>=0?5:-5)*(f+i);var d,g=50;do i=Math.min(18,Math.abs(r)/5),o=Math.floor(i),f=i-o,a=Zn[o][1],s=Zn[o+1][1],u=Zn[Math.min(19,o+2)][1],r-=(d=(e>=0?yn:-yn)*(s+f*(u-a)/2+f*f*(u-2*s+a)/2)-e)*En;while(Math.abs(d)>vn&&--g>0);break}}while(--o>=0);var v=Zn[o][0],m=Zn[o+1][0],y=Zn[Math.min(19,o+2)][0];return[t/(m+f*(y-v)/2+f*f*(y-2*m+v)/2),r*bn]},(d3.geo.robinson=function(){return xn(Ve)}).raw=Ve,(d3.geo.satellite=Ye).raw=Ke,Xe.invert=function(t,e){var n=e/1.70711,r=Math.sin(mn/4*n);return[t/(.74482-.34588*r*r),2*Math.atan(n)]},(d3.geo.times=function(){return xn(Xe)}).raw=Xe,(d3.geo.twoPointEquidistant=Qe).raw=Ge,(d3.geo.twoPointAzimuthal=$e).raw=Ze,Je.invert=function(t,e){if(Math.abs(e)<gn)return[t,0];if(Math.abs(t)<gn)return[0,yn*Math.sin(2*Math.atan(e/mn))];var n=(t/=mn)*t,r=(e/=mn)*e,i=n+r,o=i*i,s=-Math.abs(e)*(1+i),l=s-2*r+n,c=-2*s+1+2*r+o,h=r/c+(2*l*l*l/(c*c*c)-9*s*l/(c*c))/27,p=(s-l*l/(3*c))/c,f=2*Math.sqrt(-p/3),d=u(3*h/(p*f))/3;return[mn*(i-1+Math.sqrt(1+2*(n-r)+o))/(2*t),a(e)*mn*(-f*Math.cos(d+mn/3)-l/(3*c))]},(d3.geo.vanDerGrinten=function(){return xn(Je)}).raw=Je,tn.invert=function(t,e){if(!t)return[0,yn*Math.sin(2*Math.atan(e/mn))];var n=Math.abs(t/mn),r=(1-n*n-(e/=mn)*e)/(2*n),i=r*r,o=Math.sqrt(i+1);return[a(t)*mn*(o-r),a(e)*yn*Math.sin(2*Math.atan2(Math.sqrt((1-2*r*n)*(r+o)-n),Math.sqrt(o+r+n)))]},(d3.geo.vanDerGrinten2=function(){return xn(tn)}).raw=tn,en.invert=function(t,e){if(!e)return[t,0];var n=e/mn,r=(mn*mn*(1-n*n)-t*t)/(2*mn*t);return[t?mn*(a(t)*Math.sqrt(r*r+1)-r):0,yn*Math.sin(2*Math.atan(n))]},(d3.geo.vanDerGrinten3=function(){return xn(en)}).raw=en,nn.invert=function(t,e){if(!t||!e)return[t,e];e/=mn;var n=a(t)*t/yn,r=(n*n-1+4*e*e)/Math.abs(n),i=r*r,o=2*e,s=50;do{var u=o*o,l=(8*o-u*(u+2)-5)/(2*u*(o-1)),c=(3*o-u*o-10)/(2*u*o),h=l*l,p=o*l,f=o+l,d=f*f,g=o+3*l,v=d*(u+h*i-1)+(1-u)*(u*(g*g+4*h)+h*(12*p+4*h)),m=-2*f*(4*p*h+(1-4*u+3*u*u)*(1+c)+h*(-6+14*u-i+(-8+8*u-2*i)*c)+p*(-8+12*u+(-10+10*u-i)*c)),y=Math.sqrt(v),M=r*(d+h-1)+2*y-n*(4*d+i),b=r*(2*l*c+2*f*(1+c))+m/y-8*f*(r*(-1+h+d)+2*y)*(1+c)/(i+4*d);o-==M/b}while(>gn&&--s>0);return[a(t)*(Math.sqrt(r*r+4)+r)*mn/4,yn*o]},(d3.geo.vanDerGrinten4=function(){return xn(nn)}).raw=nn;var $n=function(){var t=4*mn+3*Math.sqrt(3),e=2*Math.sqrt(2*mn*Math.sqrt(3)/t);return S(e*Math.sqrt(3)/mn,e,t/6)}();(d3.geo.wagner4=function(){return xn($n)}).raw=$n,rn.invert=function(t,e){return[t/Math.sqrt(1-3*e*e/(mn*mn)),e]},(d3.geo.wagner6=function(){return xn(rn)}).raw=rn,on.invert=function(t,e){var n=t/2.66723,r=e/1.24104,i=Math.sqrt(n*n+r*r),o=2*s(i/2);return[3*Math.atan2(t*Math.tan(o),2.66723*i),i&&s(e*Math.sin(o)/(1.24104*.90631*i))]},(d3.geo.wagner7=function(){return xn(on)}).raw=on,an.invert=function(t,e){var n=-.5*(t*t+e*e),r=Math.sqrt(-n*(2+n)),i=e*n+t*r,o=t*n-e*r,a=Math.sqrt(o*o+i*i);return[Math.atan2(r*i,a*(1+n)),a?-s(r*o/a):0]},(d3.geo.wiechel=function(){return xn(an)}).raw=an,sn.invert=function(t,e){var n=t,r=e,i=25;do{var o,a=Math.cos(r),s=Math.sin(r),l=Math.sin(2*r),c=s*s,h=a*a,p=Math.sin(n),f=Math.cos(n/2),d=Math.sin(n/2),g=d*d,v=1-h*f*f,m=v?u(a*f)*Math.sqrt(o=1/v):o=0,y=.5*(2*m*a*d+n/yn)-t,M=.5*(m*s+r)-e,b=.5*o*(h*g+m*a*f*c)+.5/yn,E=o*(p*l/4-m*s*d),x=.125*o*(l*d-m*s*h*p),w=.5*o*(c*f+m*g*a)+.5,_=E*x-w*b,S=(M*E-y*w)/_,C=(y*x-M*b)/_;n-=S,r-=C}while((Math.abs(S)>gn||Math.abs(C)>gn)&&--i>0);return[n,r]},(d3.geo.winkel3=function(){return xn(sn)}).raw=sn}(),define("d3-geo-projection",function(){}),function(){define("map_utility",["require","d3","underscore","d3-geo-projection"],function(t){var e,n,r;return e=t("d3"),r=t("underscore"),t("d3-geo-projection"),{projection:e.geo.times().rotate([-10,0])},n=null,{convertName:function(t){var e;return null==(null!=(e=this.geoData.nameConversion)?e[t]:void 0)?t:this.geoData.nameConversion[t]},getProjection:function(){return e.geo.times().rotate([-10,0])},getLonLat:function(t){var e;return t=this.convertName(t),null!=this.geoData.regionKey[t]?this.geoData.regionKey[t].center:null!=this.geoData.countryKey[t]?this.geoData.countryKey[t].center:null!=(null!=(e=this.geoData.locationKey)?e[t]:void 0)?this.geoData.locationKey[t].center:void 0},focuses:[{point:null,scale:null},{point:[16.35,50.2],bounds:[[-16.5,60],[43,34]],scale:2500},{point:[114,10],bounds:[[91,22],[128,2]],scale:2500},{point:[-59,-24],bounds:[[-86,-2],[-33,-40]],scale:2500},{bounds:[[-12,58],[1,51]]}],projectionNudge:.15,getScale:function(t,e){var n;return n=t/(1.5*Math.PI),n=Math.min(n,e/(Math.PI*(1-this.projectionNudge)))},getOrigin:function(t,e){return[t/2,e/2*(1+this.projectionNudge)]},goToBounds:function(t,e,n,r,i){var o,a,s,u,l,c,h,p,f,d;return i=i||0,s=this.getOrigin(e,n),u=this.getScale(e,n),p=this.getProjection().translate(s).scale(u),c=[null,null],c[0]=p(t[0]),c[1]=p(t[1]),h=[null,null],o=c[1][0]-c[0][0]+i/4,a=c[1][1]-c[0][1]+i/4,f=(c[0][0]+c[1][0])/2,d=(c[0][1]+c[1][1])/2,l=.9/Math.max(o/e,a/n),l*=u,p.scale(l),c[0]=p(t[0]),c[1]=p(t[1]),f=(c[0][0]+c[1][0])/2,d=(c[0][1]+c[1][1])/2,h[0]=s[0]-f+e/2,h[1]=s[1]-d+n/2,r.translate(h).scale(l)},zoomTo:function(t,e,n,r,i){var o,a,s;return o=this.getOrigin(n,r),s=this.getProjection().translate(o).scale(e),a=s(t),a[0]=o[0]-a[0]+n/2,a[1]=o[1]-a[1]+r/2,i.translate(a).scale(e)},goToGlobal:function(t,e,n){return n.translate(this.getOrigin(t,e)).scale(this.getScale(t,e))},isRegion:function(t){return r.contains(Object.keys(this.geoData.regionKey),t)},isCountry:function(t){return r.contains(Object.keys(this.geoData.countryKey),t)},getCountryGroupingLevel:function(t,e){var n,r;return(null!=(n=this.geoData.locationKey)?n[e].groupedInCountry:void 0)?null!=(r=this.geoData.locationKey)?r[e].country:void 0:t[this.geoData.locationField||"Home Location"]},getRegionGroupingLevel:function(t,e,n){return n[e].groupedInRegion?n[e].region:this.getCountryGroupingLevel(t,e)},getCurrentClustringScheme:function(t,e){return function(n){return function(r){var i,o,a,s;return i=n.convertName(r[n.geoData.locationField||"Home Location"]),null!=n.geoData.locationKey?null==n.geoData.locationKey[i]?null:(null!=(o=n.geoData.locationKey[i])?o.country:void 0)===e?r[n.geoData.locationField||"Home Location"]:(null!=(a=n.geoData.locationKey[i])?a.region:void 0)===t?n.getCountryGroupingLevel(r,i):n.getRegionGroupingLevel(r,i,n.geoData.locationKey):null==n.geoData.countryKey[i]?null:(null!=(s=n.geoData.countryKey[i])?s.region:void 0)===t?r[n.geoData.locationField||"Home Location"]:n.getRegionGroupingLevel(r,i,n.geoData.countryKey)}}(this)},getBoundsOfGroup:function(t,e){var n,r,i,o,a;return a=t.filter(function(t){return function(n){var r,i,o,a,s,u;return r=t.convertName(n.key),(null!=(i=t.geoData.locationKey)&&null!=(o=i[r])?o.region:void 0)===e||(null!=(a=t.geoData.countryKey[r])?a.region:void 0)===e||(null!=(s=t.geoData.locationKey)&&null!=(u=s[r])?u.country:void 0)===e}}(this)),a=a.map(function(t){return function(e){return t.getLonLat(e.key)}}(this)),i=900,o=900,n=-900,r=-900,a.forEach(function(t){return i=Math.min(i,t[1]),o=Math.min(o,t[0]),n=Math.max(n,t[1]),r=Math.max(r,t[0])}),[[o,n],[r,i]]},getPrecomputedBounds:function(t){return this.geoData.groupBounds[t]},getRegionOfCountry:function(t){return this.geoData.countryKey[t].region}}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("store",["require","underscore","papaparse","./utils","./map_utility"],function(n){var r,i,o,a,s,u;return u=n("underscore"),i=n("papaparse"),a=n("./utils"),r=n("./map_utility"),s=300,o=function(){function n(e,n){this.callback=n,this.process=t(this.process,this),null!=e.data?this.process(e.data,e.metadata):this["default"]()}return n.prototype.process=function(t,n,r){var o,l,c,h;return null==r&&(r={}),c=(null!=(h="function"==typeof t.split?t.split("/").slice(-1)[0]:void 0)?h:t.name).replace(/\.csv/i,""),l=[],o=function(t,e){var n,r;return null==e&&(e=""),n=d3.format("."+t+"f"),r=d3.format(".3s"),function(i){var o;return e+(1>i?n(i):100>i?(o=r(i),t<a.getPrecision(o)?n(o):o):r(i).replace(/\.0+$/,"").replace(/[a-zA-Z]/,function(t){return" "+t}).replace("G","B").replace("k","K"))}},i.LocalChunkSize=Math.pow(2,16),i.RemoteChunkSize=Math.pow(2,16),i.parse(t,u.defaults(r,{header:!0,skipEmptyLines:!0,error:function(t){return function(){return t.callback()}}(this),complete:function(t){return function(i){var h,p,f,d,g,v,m,y,M,b,E,x,w,_,S,C,T,D,R,k,O,N,P,I,B,A,L,F,z,U,q,j,H,V,W,K,Y;for(l=i.data,f=u.uniq(i.meta.fields).map(function(t){return{id:t}}),p=u.indexBy(f,"id"),null!=n&&null!=(z=n.attributes)&&z.forEach(function(t){return null!=p[t.id]?u.extend(p[t.id],t):f.push(p[t.id]=t),null!=t.values?p[t.id].valuesSpecified=!0:void 0}),f=f.filter(function(t){var e;return!(null!=(e=t.disabled)?e:!1)}),b=null!=n?n.idAttribute:void 0,null==b&&(l.forEach(function(t,e){return t.__index__=e}),b="__index__"),null!=(U=p[b])&&null==U.level&&(U.level="nominal"),f.forEach(function(t){var e,r,i,c,h,p,f,d,g,v,m,y,M,b,E,x,w;if(f=u.findWhere(null!=n?n.types:void 0,{name:t.type}),null!=f&&(t.baseType=null!=f?f["extends"]:void 0,u.defaults(t,u.omit(f,"extends"))),null!=t.formatFunction&&(t.format=function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(Function,t.formatFunction,function(){})),null!=t.parseFunction&&(t.parse=function(t,e,n){n.prototype=t.prototype;var r=new n,i=t.apply(r,e);return Object(i)===i?i:r}(Function,t.parseFunction,function(){})),("interval"===(M=t.level)||"ratio"===M)&&null==t.type&&(t.type="numeric"),u.isArray(t.values))null==t.level&&(t.level="ordinal"),v=t.values;else{for(g={},i=m=0,y=l.length;y>m&&(r=l[i],d=r[null!=(b=t["extends"])?b:t.id],d&&(g[d]=!0),!(u.size(g)>s||i>5e3));i=++m);v=u.keys(g)}switch(h=v.slice(v.length-1)[0],null==t.type&&(u.isNaN(+(null!=h?h.replace(/,/,""):void 0))?u.isNaN(Date.parse(h))||(p=h.split(/[^\w\d]+/i),p=p.filter(function(t){return/^((\d+$)|jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i.test(t)}),p.length>=3&&(t.type="date")):/(^|\W)(code|phone)(\W|$)/i.test(t.id)||(t.type="numeric")),null==t.baseType&&(t.baseType=t.type),t.baseType){case"numeric":e=d3.scale.linear().domain(d3.extent(v,Number)).nice().domain(),null==t.level&&(t.level=2*e[0]-e[1]<=0?"ratio":"interval"),null==t.parse&&(t.parse=function(t){var e;return null!=t&&""!==t?(e=+(null!=t?t.replace(/[^\d-\.]/g,""):void 0),u.isNaN(e)?null:e):null}),t.precision=a.getPrecision(v),null==t.format&&(t.format=function(e){return null!=e?d3.format((e>1e4?",":"")+("."+t.precision+"f"))(e):void 0}),"ratio"===t.level&&(t.aggregateFormat=o(t.precision)),t.defaultSortDirection="descending";break;case"currency":null==t.level&&(t.level="ratio"),null==t.parse&&(t.parse=function(t){return null!=t&&""!==t?+(null!=t?t.replace(/[^\d-\.]/g,""):void 0):null}),c=null!=(E=null!=(x=null!=f?f.prefix:void 0)?x:t.prefix)?E:"",t.precision=a.getPrecision(v),null==t.format&&(t.format=function(e){return null!=e?d3.format((e>1e4?",":"")+("."+t.precision+"f"))(e):void 0}),"ratio"===t.level&&(t.aggregateFormat=o(t.precision,c)),t.defaultSortDirection="descending";break;case"date":null==t.level&&(t.level="interval"),null==t.parse&&(t.parse=function(t){return null!=t&&""!==t?Date.parse(t):null}),null==t.format&&(t.format=function(t){return null!=t?d3.time.format("%x")(new Date(t)):void 0});break;case"percentage":null==t.level&&(t.level="interval"),null==t.parse&&(t.parse=function(t){return+t.replace(/[^\d\.]/g,"")}),t.precision=a.getPrecision(v),null==t.format&&(t.format=function(e){return d3.format("."+t.precision+"f")(e)+"%"}),t.defaultSortDirection="descending";break;default:null==t.parse&&(t.parse=function(t){return/^n\/a$/i.test(t)?"":null!=t?t.trim():void 0}),u.isArray(t.values)?(null==t.level&&(t.level="ordinal"),u.isArray(t.labels)&&(t.labelByValue=u.object(t.values,t.labels)),null==t.format&&(t.format=function(e){var n,r;return null!=(n=null!=(r=t.labelByValue)?r[e]:void 0)?n:e})):null==t.level&&(t.level="nominal")}return null==t.format&&(t.format=u.identity),t.values=v.map(null!=(w=t.parse)?w:u.identity),t.valuesSpecified?void 0:t.values.sort(d3.ascending)}),"id"!==b&&(v=u.isArray(b)?function(t){return b.map(function(e){return t[e]}).join(";")}:u.isObject(b)?function(t){return b.template.replace(/\$(\d+)/g,function(e){return t[b.attributes[+e.slice(1)]]})}:function(t){return t[b]}),l.forEach(function(t){var e,n,r,i;for(n=0,r=f.length;r>n;n++)e=f[n],null!=e.parse&&(t[e.id]=e.parse(t[null!=(i=e["extends"])?i:e.id]));return null!=v?t.id=v(t):void 0}),M=u.indexBy(l,"id"),l=u.sortBy(l,"id"),(R=null!=(null!=n?n.idAttribute:void 0)&&l.length<1e4)&&(l=u.uniq(l,!0,function(t){return t.id})),L=0,F=f.length;F>L;L++)h=f[L],("interval"===(q=h.level)||"ratio"===q)&&(h.range=d3.extent(l,function(t){return t[h.id]}).reduce(function(t,e){return e-t}));return t.entities=l,t.entityById=M,t.attributes=f,t.attributeById=p,t.hierarchyEnabled=(null!=n?n.hierarchyEnabled:void 0)||!1,t.hierarchyRankingManager=null,t.hierarchyAllRolesBYManagerID=null,t.hierarchyEnabled&&(N=null!=n?n.hierarchyData.upIDName:void 0,w=null!=n?n.hierarchyData.personalIDName:void 0,l.forEach(function(t){return null===t[N]?t[N]=0:void 0}),T=d3.nest().key(function(t){return t[N]}).map(l),O=u.pluck(T[0],w),x=O.filter(function(t){return null!=T[t]}),E=u.sample(x,50),T[-1]=[],E.forEach(function(t){var e;return e=M[t],e[N]=-1,T[-1].push(e)}),y=u.clone(T[-1][0]),y[w]=-1,y.id=-1,y.depthInCompleteTree=0,m=d3.layout.tree().children(function(t){return T[t.id]}),C=m.nodes(y),t.entities.forEach(function(t){return delete t.x,delete t.y,t.depthInCompleteTree=t.depth,delete t.depth}),t.hierarchyRankingManager=y,t.hierarchyAllNodesByManagerID=T),_=function(n){var i,o,a,c,h,p,f,d;return d=null!=n?n:{},a=d.limit,o=d.levels,p=d.types,h=d.sort,i=d.count,f=d.without,c=d.omitIdentifying,null==h&&(h="descending"),null==c&&(c=!0),r=t.attributes,null!=o&&(r=r.filter(function(t){var n;return n=t.level,e.call(o,n)>=0})),null!=p&&(r=r.filter(function(t){var n,r;return n=t.type,e.call(p,n)>=0||(r=t.baseType,e.call(p,r)>=0)})),null!=a&&(r=r.filter(function(t){var e;return"interval"===(e=t.level)||"ratio"===e||t.values.length<=a})),f&&(r=u.reject(r,function(t){return t.id===f})),c&&(r=u.reject(r,function(t){var e;return("nominal"===(e=t.level)||"ordinal"===e)&&t.values.length>=Math.min(s,2*l.length/3)})),null!=h&&(r=u.sortBy(r,function(t){return t.values.length})),"descending"===h&&r.reverse(),null!=i&&(r=r.slice(0,i)),u.pluck(r,"id")},S=_({levels:["ratio"]}),d=_({types:["currency"]}),g=_({limit:Math.min(750,2*l.length/3),levels:["nominal","ordinal"],sort:"ascending"}),D=u.defaults(null!=(j=null!=n?n.selectorOptions:void 0)?j:{},{colorBy:_({limit:15,levels:["nominal","ordinal"],sort:"ascending"}),sizeBy:S,clusterBy:g,scatterXBy:_({limit:20}),scatterYBy:_({limit:50}),sizeBarBy:d,rankBarBy:d,targetOn:_(),aggregateBy:S,filterBy:S,sectorBy:g}),k=u.defaults(null!=(H=null!=n?n.initialState:void 0)?H:{},{tableAttributes:u.pluck(f,"id"),scatterYBy:D.scatterYBy[0],sizeBarBy:D.sizeBarBy[0],aggregateBy:D.aggregateBy[0]}),k.title=null!=(V=null!=n?n.title:void 0)?V:c,k.flagAttribute=null!=(W=null!=n?n.flagAttribute:void 0)?W:"id",null!=(null!=n?n.groupCountLabel:void 0)&&(k.groupCountLabel=null!=n?n.groupCountLabel:void 0),k.selectorOptions=D,k.calloutOptions=null!=(K=null!=n?n.calloutOptions:void 0)?K:{},null==(P=k.calloutOptions).attributes&&(P.attributes=_({sort:null,without:b,count:4})),k.detailOptions=null!=(Y=null!=n?n.detailOptions:void 0)?Y:{},null==(I=k.detailOptions).heading&&(I.heading="id"),null==(B=k.detailOptions).info&&(B.info=[null,_({sort:null})]),null==(A=k.detailOptions).figures&&(A.figures=_({sort:null,without:b,count:4})),k.geoData=null!=n?n.geoData:void 0,k.stateSequence=null!=n?n.stateSequence:void 0,k.sequenceAutoplay=null!=n?n.sequenceAutoplay:void 0,t.callback(k)}}(this)}))},n.prototype["default"]=function(){var t,e=function(t){if(""==t)return{};for(var e={},n=0;n<t.length;++n){var r=t[n].split("=",2);e[r[0]]=1==r.length?"":decodeURIComponent(r[1].replace(/\+/g," "))}return e}(window.location.search.substr(1).split("&"));return t=e.dataset||"default",d3.json("data/meta/"+t+".json?_="+ +new Date,function(e){return function(n,r){return null!=n&&console.warn("Metadata not loaded: "+n.message),e.process("data/"+t+".csv",r,{download:!0})}}(this))},n}()})}.call(this),function(){var t;t=["hsl(206, 100%, 40%)","hsl(340, 100%, 50%)","hsl(156, 100%, 39%)","hsl(34, 98%, 58%)","hsl(320, 80%, 62%)","hsl(267, 80%, 57%)","hsl(52, 99%, 51%)","hsl(183, 54%, 62%)","hsl(12, 100%, 50%)","hsl(84, 47%, 42%)","hsl(313, 92%, 35%)","hsl(173, 77%, 29%)","hsl(285, 30%, 48%)","hsl(231, 84%, 40%)","hsl(322, 76%, 76%)"],define("components/colors",["require","d3","../utils"],function(e){var n,r,i;return r=e("d3"),n=e("../utils"),{scale:i=function(e){var n,r;return r=null!=e?(n=null!=e.colors?e.values.map(function(){return function(n,r){var i;return"number"==typeof(i=e.colors[r])?t[i]:i}}(this)):t,{type:"ordinal",domain:[[""].concat(e.values)],range:[["hsl(222, 14%, 30%)"].concat(n)]}):{type:"ordinal",range:[["hsl(229, 6%, 63%)"]]},r.attribute=e,r},apply:function(t){var e,r,i;return r=t.scale(t.attribute),e=n.d3scale(r),null!=(i=t.entities)?i.forEach(function(){return function(n){var r;return n.color=e(n[null!=(r=t.attribute)?r.id:void 0])}}(this)):void 0}}})}.call(this),function(){define("components/sizes",["require","d3","../utils"],function(t){var e,n;return n=t("d3"),e=t("../utils"),{scale:function(t,e,r){var i,o;return o=null!=t?"interval"===t.level?{attribute:t,type:"sqrt",domain:[n.extent(e.map(function(e){return e[t.id]}))],range:[[2,10]]}:"ratio"===t.level?{attribute:t,type:"sqrt",domain:[[0,n.mean(e.map(function(e){return e[t.id]}))]],range:[[0,6]]}:void 0:(i=3*(n.min(r)/738)*(1/(e.length/100)),i=Math.min(8,Math.max(3,i)),{type:"linear",range:[[null,null].map(function(){return function(){return i}}(this))]}),o.attribute=t,o},apply:function(t){var n,r,i;return r=t.scale(t.attribute,t.entities),n=e.d3scale(r),null!=(i=t.entities)?i.forEach(function(){return function(e){var r,i;return e.r=n(null!=(r=e[null!=(i=t.attribute)?i.id:void 0])?r:0)}}(this)):void 0}}})}.call(this),function(){define("pack",["require","d3","./utils"],function(t){var e,n;return n=t("d3"),e=t("./utils"),function(t){var r,i,o,a,s,u;return i=t.groups,s=t.sizeFactor||.93,a=n.layout.pack().size([0,0]).padding(10),a.sort(null!=t.colorAttribute&&t.isBlobSets?function(){return function(e,r){return e[t.colorAttribute]?r[t.colorAttribute]?n.ascending(e[t.colorAttribute],r[t.colorAttribute]):-1:1}}(this):null),a.children(function(t){return t.childValues}).value(function(t){return t.sizeValue}),t.isBlobSets?(u=n.sum(i,function(){return function(t){return n.sum(t.childValues,function(t){var e;return null!=(e=t.sizeValue)?e:0})}}(this)),i.forEach(function(){return function(t){return a.radius(function(t){return 10*Math.sqrt(t/u*2e3)}).nodes(t),t._r=t.r}}(this)),o=n.layout.pack().sort(function(t,e){return n.descending(t.value,e.value)}).padding(70).value(function(){return function(t){return t.r*t.r}}(this)).children(function(t){return t===i?t:void 0}).size([t.size[0]*s,t.size[1]*s]),o.nodes(i),r=.93*n.min(i.filter(function(){return function(t){return t.r>=10}}(this)).map(function(){return function(t){return t.r/t._r}}(this))),i.forEach(function(){return function(t){var e;return t.isBlobSet=!0,null!=(e=t.values)?e.forEach(function(t){return t.x=t.parent.x+t.x*r,t.y=t.parent.y+t.y*r,t.r*=r}):void 0}}(this))):a.padding(15).sort(function(t,e){return n.descending(t.value,e.value)}).size([t.size[0]*s,t.size[1]*s]).nodes({childValues:i}),i.forEach(function(){return function(i){return i.x+=.035*t.size[0],i.y+=.035*t.size[1],r=n.min(t.size),i.y=t.size[1]-i.y,i.isBlobSet?i.values.forEach(function(n){return n.x+=.035*t.size[0],n.y+=.035*t.size[1],n.y=t.size[1]-n.y,e.distribute(n),delete n.parent}):e.distribute(i),delete i.parent}}(this)),i}})}.call(this),function(t){var e=Date.now||function(){return+new Date},n=60,r=1e3,i={},o=1;t.core?core.effect||(core.effect={}):t.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var e=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame,n=!!e;if(e&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(e.toString())&&(n=!1),n)return function(t,n){e(t,n)};var r=60,i={},o=0,a=1,s=null,u=+new Date;return function(t){var e=a++;return i[e]=t,o++,null===s&&(s=setInterval(function(){var t=+new Date,e=i;i={},o=0;for(var n in e)e.hasOwnProperty(n)&&(e[n](t),u=t);t-u>2500&&(clearInterval(s),s=null)},1e3/r)),e}}(),stop:function(t){var e=null!=i[t];return e&&(i[t]=null),e},isRunning:function(t){return null!=i[t]},start:function(t,a,s,u,l,c){var h=e(),p=h,f=0,d=0,g=o++;if(c||(c=document.body),g%20===0){var v={};for(var m in i)v[m]=!0;i=v}var y=function(o){var v=o!==!0,m=e();if(!i[g]||a&&!a(g))return i[g]=null,void(s&&s(n-d/((m-h)/r),g,!1));if(v)for(var M=Math.round((m-p)/(r/n))-1,b=0;b<Math.min(M,4);b++)y(!0),d++;u&&(f=(m-h)/u,f>1&&(f=1));var E=l?l(f):f;t(E,m,v)!==!1&&1!==f||!v?v&&(p=m,core.effect.Animate.requestAnimationFrame(y,c)):(i[g]=null,s&&s(n-d/((m-h)/r),g,1===f||null==u))};return i[g]=!0,core.effect.Animate.requestAnimationFrame(y,c),g}}}(this),define("scroller-animate",function(){});var Scroller;!function(){Scroller=function(t,e){this.__callback=t,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3};for(var n in e)this.options[n]=e[n]};var t=function(t){return Math.pow(t-1,3)+1},e=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},n={__isSingleTouch:!1,__isTracking:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(t,e,n,r){var i=this;t&&(i.__clientWidth=t),e&&(i.__clientHeight=e),n&&(i.__contentWidth=n),r&&(i.__contentHeight=r),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(t,e){var n=this;n.__clientLeft=t||0,n.__clientTop=e||0},setSnapSize:function(t,e){var n=this;n.__snapWidth=t,n.__snapHeight=e},activatePullToRefresh:function(t,e,n,r){var i=this;i.__refreshHeight=t,i.__refreshActivate=e,i.__refreshDeactivate=n,i.__refreshStart=r},finishPullToRefresh:function(){var t=this;t.__refreshActive=!1,t.__refreshDeactivate&&t.__refreshDeactivate(),t.scrollTo(t.__scrollLeft,t.__scrollTop,!0)},getValues:function(){var t=this;return{left:t.__scrollLeft,top:t.__scrollTop,zoom:t.__zoomLevel}},getScrollMax:function(){var t=this;return{left:t.__maxScrollLeft,top:t.__maxScrollTop}},zoomTo:function(t,e,n,r){var i=this;if(!i.options.zooming)throw new Error("Zooming is not enabled!");i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1);var o=i.__zoomLevel;null==n&&(n=i.__clientWidth/2),null==r&&(r=i.__clientHeight/2),t=Math.max(Math.min(t,i.options.maxZoom),i.options.minZoom),i.__computeScrollMax(t);var a=(n+i.__scrollLeft)*t/o-n,s=(r+i.__scrollTop)*t/o-r;a>i.__maxScrollLeft?a=i.__maxScrollLeft:0>a&&(a=0),s>i.__maxScrollTop?s=i.__maxScrollTop:0>s&&(s=0),i.__publish(a,s,t,e)},zoomBy:function(t,e,n,r){var i=this;i.zoomTo(i.__zoomLevel*t,e,n,r)},scrollTo:function(t,e,n,r){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=r&&r!==i.__zoomLevel){if(!i.options.zooming)throw new Error("Zooming is not enabled!");t*=r,e*=r,i.__computeScrollMax(r)}else r=i.__zoomLevel;i.options.scrollingX?i.options.paging?t=Math.round(t/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(t=Math.round(t/i.__snapWidth)*i.__snapWidth):t=i.__scrollLeft,i.options.scrollingY?i.options.paging?e=Math.round(e/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(e=Math.round(e/i.__snapHeight)*i.__snapHeight):e=i.__scrollTop,t=Math.max(Math.min(i.__maxScrollLeft,t),0),e=Math.max(Math.min(i.__maxScrollTop,e),0),t===i.__scrollLeft&&e===i.__scrollTop&&(n=!1),i.__publish(t,e,r,n)},scrollBy:function(t,e,n){var r=this,i=r.__isAnimating?r.__scheduledLeft:r.__scrollLeft,o=r.__isAnimating?r.__scheduledTop:r.__scrollTop;r.scrollTo(i+(t||0),o+(e||0),n)},doMouseZoom:function(t,e,n,r){var i=this,o=t>0?.97:1.03;return i.zoomTo(i.__zoomLevel*o,!1,n-i.__clientLeft,r-i.__clientTop)},doTouchStart:function(t,e){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);
var n=this;n.__isDecelerating&&(core.effect.Animate.stop(n.__isDecelerating),n.__isDecelerating=!1),n.__isAnimating&&(core.effect.Animate.stop(n.__isAnimating),n.__isAnimating=!1);var r,i,o=1===t.length;o?(r=t[0].pageX,i=t[0].pageY):(r=Math.abs(t[0].pageX+t[1].pageX)/2,i=Math.abs(t[0].pageY+t[1].pageY)/2),n.__initialTouchLeft=r,n.__initialTouchTop=i,n.__zoomLevelStart=n.__zoomLevel,n.__lastTouchLeft=r,n.__lastTouchTop=i,n.__lastTouchMove=e,n.__lastScale=1,n.__enableScrollX=!o&&n.options.scrollingX,n.__enableScrollY=!o&&n.options.scrollingY,n.__isTracking=!0,n.__isDragging=!o,n.__isSingleTouch=o,n.__positions=[]},doTouchMove:function(t,e,n){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var r=this;if(r.__isTracking){var i,o;2===t.length?(i=Math.abs(t[0].pageX+t[1].pageX)/2,o=Math.abs(t[0].pageY+t[1].pageY)/2):(i=t[0].pageX,o=t[0].pageY);var a=r.__positions;if(r.__isDragging){var s=i-r.__lastTouchLeft,u=o-r.__lastTouchTop,l=r.__scrollLeft,c=r.__scrollTop,h=r.__zoomLevel;if(null!=n&&r.options.zooming){var p=h;if(h=h/r.__lastScale*n,h=Math.max(Math.min(h,r.options.maxZoom),r.options.minZoom),p!==h){var f=i-r.__clientLeft,d=o-r.__clientTop;l=(f+l)*h/p-f,c=(d+c)*h/p-d,r.__computeScrollMax(h)}}if(r.__enableScrollX){l-=s;var g=r.__maxScrollLeft;(l>g||0>l)&&(r.options.bouncing?l+=s/2:l=l>g?g:0)}if(r.__enableScrollY){c-=u;var v=r.__maxScrollTop;(c>v||0>c)&&(r.options.bouncing?(c+=u/2,r.__enableScrollX||null==r.__refreshHeight||(!r.__refreshActive&&c<=-r.__refreshHeight?(r.__refreshActive=!0,r.__refreshActivate&&r.__refreshActivate()):r.__refreshActive&&c>-r.__refreshHeight&&(r.__refreshActive=!1,r.__refreshDeactivate&&r.__refreshDeactivate()))):c=c>v?v:0)}a.length>60&&a.splice(0,30),a.push(l,c,e),r.__publish(l,c,h)}else{var m=r.options.locking?3:0,y=5,M=Math.abs(i-r.__initialTouchLeft),b=Math.abs(o-r.__initialTouchTop);r.__enableScrollX=r.options.scrollingX&&M>=m,r.__enableScrollY=r.options.scrollingY&&b>=m,a.push(r.__scrollLeft,r.__scrollTop,e),r.__isDragging=(r.__enableScrollX||r.__enableScrollY)&&(M>=y||b>=y)}r.__lastTouchLeft=i,r.__lastTouchTop=o,r.__lastTouchMove=e,r.__lastScale=n}},doTouchEnd:function(t){if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);var e=this;if(e.__isTracking){if(e.__isTracking=!1,e.__isDragging&&(e.__isDragging=!1,e.__isSingleTouch&&e.options.animating&&t-e.__lastTouchMove<=100)){for(var n=e.__positions,r=n.length-1,i=r,o=r;o>0&&n[o]>e.__lastTouchMove-100;o-=3)i=o;if(i!==r){var a=n[r]-n[i],s=e.__scrollLeft-n[i-2],u=e.__scrollTop-n[i-1];e.__decelerationVelocityX=s/a*(1e3/60),e.__decelerationVelocityY=u/a*(1e3/60);var l=e.options.paging||e.options.snapping?4:1;(Math.abs(e.__decelerationVelocityX)>l||Math.abs(e.__decelerationVelocityY)>l)&&(e.__refreshActive||e.__startDeceleration(t))}}e.__isDecelerating||(e.__refreshActive&&e.__refreshStart?(e.__publish(e.__scrollLeft,-e.__refreshHeight,e.__zoomLevel,!0),e.__refreshStart&&e.__refreshStart()):(e.scrollTo(e.__scrollLeft,e.__scrollTop,!0,e.__zoomLevel),e.__refreshActive&&(e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate()))),e.__positions.length=0}},__publish:function(n,r,i,o){var a=this,s=a.__isAnimating;if(s&&(core.effect.Animate.stop(s),a.__isAnimating=!1),o&&a.options.animating){a.__scheduledLeft=n,a.__scheduledTop=r,a.__scheduledZoom=i;var u=a.__scrollLeft,l=a.__scrollTop,c=a.__zoomLevel,h=n-u,p=r-l,f=i-c,d=function(t,e,n){n&&(a.__scrollLeft=u+h*t,a.__scrollTop=l+p*t,a.__zoomLevel=c+f*t,a.__callback&&a.__callback(a.__scrollLeft,a.__scrollTop,a.__zoomLevel))},g=function(t){return a.__isAnimating===t},v=function(t,e){e===a.__isAnimating&&(a.__isAnimating=!1),a.options.zooming&&a.__computeScrollMax()};a.__isAnimating=core.effect.Animate.start(d,g,v,a.options.animationDuration,s?t:e)}else a.__scheduledLeft=a.__scrollLeft=n,a.__scheduledTop=a.__scrollTop=r,a.__scheduledZoom=a.__zoomLevel=i,a.__callback&&a.__callback(n,r,i),a.options.zooming&&a.__computeScrollMax()},__computeScrollMax:function(t){var e=this;null==t&&(t=e.__zoomLevel),e.__maxScrollLeft=Math.max(e.__contentWidth*t-e.__clientWidth,0),e.__maxScrollTop=Math.max(e.__contentHeight*t-e.__clientHeight,0)},__startDeceleration:function(){var t=this;if(t.options.paging){var e=Math.max(Math.min(t.__scrollLeft,t.__maxScrollLeft),0),n=Math.max(Math.min(t.__scrollTop,t.__maxScrollTop),0),r=t.__clientWidth,i=t.__clientHeight;t.__minDecelerationScrollLeft=Math.floor(e/r)*r,t.__minDecelerationScrollTop=Math.floor(n/i)*i,t.__maxDecelerationScrollLeft=Math.ceil(e/r)*r,t.__maxDecelerationScrollTop=Math.ceil(n/i)*i}else t.__minDecelerationScrollLeft=0,t.__minDecelerationScrollTop=0,t.__maxDecelerationScrollLeft=t.__maxScrollLeft,t.__maxDecelerationScrollTop=t.__maxScrollTop;var o=function(e,n,r){t.__stepThroughDeceleration(r)},a=t.options.snapping?4:.1,s=function(){return Math.abs(t.__decelerationVelocityX)>=a||Math.abs(t.__decelerationVelocityY)>=a},u=function(){t.__isDecelerating=!1,t.scrollTo(t.__scrollLeft,t.__scrollTop,t.options.snapping)};t.__isDecelerating=core.effect.Animate.start(o,s,u)},__stepThroughDeceleration:function(t){var e=this,n=e.__scrollLeft+e.__decelerationVelocityX,r=e.__scrollTop+e.__decelerationVelocityY;if(!e.options.bouncing){var i=Math.max(Math.min(e.__maxDecelerationScrollLeft,n),e.__minDecelerationScrollLeft);i!==n&&(n=i,e.__decelerationVelocityX=0);var o=Math.max(Math.min(e.__maxDecelerationScrollTop,r),e.__minDecelerationScrollTop);o!==r&&(r=o,e.__decelerationVelocityY=0)}if(t?e.__publish(n,r,e.__zoomLevel):(e.__scrollLeft=n,e.__scrollTop=r),!e.options.paging){var a=.95;e.__decelerationVelocityX*=a,e.__decelerationVelocityY*=a}if(e.options.bouncing){var s=0,u=0,l=.03,c=.08;n<e.__minDecelerationScrollLeft?s=e.__minDecelerationScrollLeft-n:n>e.__maxDecelerationScrollLeft&&(s=e.__maxDecelerationScrollLeft-n),r<e.__minDecelerationScrollTop?u=e.__minDecelerationScrollTop-r:r>e.__maxDecelerationScrollTop&&(u=e.__maxDecelerationScrollTop-r),0!==s&&(s*e.__decelerationVelocityX<=0?e.__decelerationVelocityX+=s*l:e.__decelerationVelocityX=s*c),0!==u&&(u*e.__decelerationVelocityY<=0?e.__decelerationVelocityY+=u*l:e.__decelerationVelocityY=u*c)}}};for(var r in n)Scroller.prototype[r]=n[r]}(),define("scroller",["scroller-animate"],function(t){return function(){var e;return e||t.Scroller}}(this)),function(){define("components/scrollbar",["require","d3","react"],function(t){var e,n;return n=t("d3"),e=t("react"),e.createClass({displayName:"Scrollbar",scrollTo:function(t,e){var r;return null==e&&(e=!1),r=n.scale.linear().domain([this.props.lengthRatio/2,1-this.props.lengthRatio/2]).range([0,1-this.props.lengthRatio]),this.props.setPositionRatio(r(t/this.totalLength),e)},componentDidMount:function(){var t,e;return n.select(t=this.getDOMNode()).on("mousedown",function(e){return function(){return e.scrollTo(n.mouse(t)[+!e.props.horizontal],!0)}}(this)).call(n.behavior.drag().on("dragstart",function(){return function(){return n.select(document.body).classed("global-grabbing",!0)}}(this)).on("dragend",function(){return function(){return n.select(document.body).classed("global-grabbing",!1)}}(this)).on("drag",function(e){return function(){return e.scrollTo(n.mouse(t)[+!e.props.horizontal])}}(this))),n.select(e=this.refs.thumb.getDOMNode()).call(n.behavior.drag().on("dragstart",function(t){return function(){return n.select(document.body).classed("global-grabbing",!0),t.dragPosition=(t.props.positionRatio+t.props.lengthRatio/2)*t.totalLength,n.event.sourceEvent.stopPropagation()}}(this)).on("dragend",function(){return function(){return n.select(document.body).classed("global-grabbing",!1)}}(this)).on("drag",function(t){return function(){return t.scrollTo(t.dragPosition+=n.event[t.props.horizontal?"dx":"dy"])}}(this)))},render:function(){var t,n,r,i,o,a,s;for(n=this.props.horizontal?{sides:["top","bottom"],position:"left",length:"width"}:{sides:["left","right"],position:"top",length:"height"},r={},s=n.sides,o=0,a=s.length;a>o;o++)t=s[o],r[t]=0;return i=this.props.horizontal?this.props.style.width:this.props.style.height,r[n.position]=this.props.positionRatio*i,r[n.length]=Math.max(1,this.props.lengthRatio*i),this.totalLength=this.props.style[n.length],e.DOM.div({className:"scrollbar "+(this.props.horizontal?"horizontal":"vertical"),style:this.props.style},e.DOM.div({className:"thumb",ref:"thumb",style:r}))}})})}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;define("components/table",["require","d3","underscore","react","scroller","../utils","./scrollbar"],function(n){var r,i,o,a,s,u,l,c;return l=n("d3"),c=n("underscore"),i=n("react"),a=n("scroller"),s=n("../utils"),o=i.createFactory(n("./scrollbar")),r=i.createFactory(i.createClass({displayName:"Attribute",getInitialState:function(){return{drag:!1}},componentWillReceiveProps:function(t){return c.defer(function(e){return function(){return e.isMounted()?e.setState({drag:t.drag}):void 0}}(this))},componentDidMount:function(){var t;return t=l.behavior.drag().on("drag",function(t){return function(){return l.select(document.body).classed("global-grabbing",!0),t.isMounted()?t.setState({drag:!0}):void 0}}(this)).on("dragend",function(t){return function(){return l.select(document.body).classed("global-grabbing",!1),c.defer(function(){return t.isMounted()?t.setState({drag:!1}):void 0})}}(this)).on("dragstart.move",null!=this.props.onMove&&function(t){return function(){return t.position=t.props.position}}(this)).on("dragend.move",null!=this.props.onMove&&function(t){return function(){return null!=t.position?t.props.onMove(t.position):void 0}}(this)).on("drag.move",null!=this.props.onMove&&function(t){return function(){return null==t.position&&(t.position=l.event.x-l.event.dx),t.position+=l.event.dx,t.props.onMove(t.position,!0)}}(this)),l.select(this.getDOMNode()).call(t)},render:function(){return i.createElement("attribute",{className:i.addons.classSet({highlighted:this.props.highlighted}),style:this.props.style,onMouseMove:this.props.onHighlight,onMouseLeave:this.props.onUnhighlight,onClick:function(t){return function(){return t.state.drag?void 0:t.props.onSortBy()}}(this)},i.createElement("span",{title:this.props.attribute.id},this.props.attribute.id),null!=this.props.sort?i.createElement("sort-indicator",{className:this.props.sort}):void 0,i.createElement("x",{onClick:function(t){return function(e){return t.props.onRemove(),e.stopPropagation()}}(this)}),c.times(2,function(t){return function(e){return i.createElement("div",{key:"shadow-"+e,className:"shadow",style:{height:t.props.tableHeight,opacity:+t.state.drag}})}}(this)))}})),u=i.createFactory(i.createClass({displayName:"Value",mixins:[i.addons.PureRenderMixin],render:function(){return i.createElement("value",{className:i.addons.classSet({highlighted:this.props.highlighted}),style:c.extend({},c.pick(this.props,"left","width","height","textAlign"),{transitionDuration:this.props.moving?"0ms":void 0,maxWidth:this.props.width})},i.createElement("span",{title:this.props.formattedValue},this.props.formattedValue||i.DOM.em({className:"n-a"},"n/a")))}})),i.createClass({displayName:"Table",getInitialState:function(){return{scrollLeft:0,scrollTop:0,attributes:[],highlighted:null,sortBy:null,sortDirection:"ascending",menu:null}},getDefaultProps:function(){return{headerHeight:19,rowHeight:17}},componentWillMount:function(){var t;return l.select(window).on("keydown.table",function(t){return function(){return 27===l.event.keyCode?t.setState({attributes:t.props.attributes,movingAttribute:null}):void 0}}(this)),t=c.pick(this.props,"attributes","sortBy","sortDirection"),this.setState(t),this.scroller=new a(function(t){return function(e,n){var r;return r={},t.state.scrollLeft!==e&&(r.scrollLeft=e),t.state.scrollTop!==n&&(r.scrollTop=n),c.size(r)&&t.isMounted()?t.setState(r):void 0}}(this)),this.props.entities?this.sortEntities(this.props,t):void 0},componentWillUnmount:function(){return l.select(window).on("keydown.table",null)},componentWillReceiveProps:function(t){var e;return this.props.reveal!==t.reveal&&(e=this.entityIndexById[t.reveal]*t.rowHeight,e-=Math.round(this.props.style.height/6),l.transition().ease("cubic-out").tween("scrollTop",function(t){return function(){var n;return n=l.interpolate(t.state.scrollTop,e),function(e){return t.scroller.scrollTo(t.state.scrollLeft,n(e))}}}(this))),this.setState({attributes:t.attributes,sortBy:t.sortBy,sortDirection:t.sortDirection,menu:0===t.attributes.length?c.pluck(t.store.attributes,"id"):void 0})},sortEntities:function(t,e,n){var r,i,o,a,s,u,h,p,f,d,g,v,m,y,M;if(null==n&&(n=!1),!n&&(this.sortedEntities=null,s=e.sortBy,u=e.sortDirection,null!=s))for(i=c.clone(t.entities),r=null!=(g=t.store.attributeById)?g[s]:void 0,this.sortedEntities=i.sort("nominal"===(v=r.level)||"ordinal"===v?function(){return function(t,e){return t[s]?e[s]?l[u](t[s],e[s])||l[u](t.id,e.id):-1:1}}(this):function(){return function(t,e){return null==t[s]?1:null==e[s]?-1:l[u](t[s],e[s])||l[u](t.id,e.id)}}(this)),this.entityIndexById={},m=this.sortedEntities,a=h=0,f=m.length;f>h;a=++h)o=m[a],this.entityIndexById[o.id]=a;if(null==this.sortedEntities){for(this.sortedEntities=t.entities,this.entityIndexById={},y=this.sortedEntities,M=[],a=p=0,d=y.length;d>p;a=++p)o=y[a],M.push(this.entityIndexById[o.id]=a);return M}},componentWillUpdate:function(t,e){var n,r;return this.goToEnd=null==this.state.menu&&null!=e.menu,this.scrolling=this.state.scrollTop!==e.scrollTop,null!=this.state.movingAttribute&&null==e.movingAttribute&&(this.scrollIntoView=this.state.movingAttribute.id),r=function(t,e){return[t.entities,e.sortBy,e.sortDirection]},n=c.isEqual(r(this.props,this.state),r(t,e)),this.sortEntities(t,e,n)},render:function(){var n,a,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S,C,T,D,R,k,O,N,P,I,B,A,L,F,z;if(T=this.props.headerHeight+5,S=this.state.attributes.length!==this.props.store.attributes.length,this.rightMargin=w=S?19:11,null!=this.state.menu&&(x=s.measureDisplayWidth(this.state.menu)),p=this.sortedEntities,null==p)return null;for(this.widths=I=this.state.attributes.map(function(t){return function(e){var n,r,i;return n=null!=(r=t.props.store.attributeById)?r[e]:void 0,null!=n&&null==n.displayWidth&&(n.displayWidth=s.measureDisplayWidth(null!=n&&null!=(i=n.values)?i.map(n.format):void 0)),Math.max(s.measureDisplayWidth([e+"__"]),null!=n?n.displayWidth:void 0)}}(this)),P=l.sum(I)/(this.props.style.width-w-(null!=x?x:0)),1>P&&(I=I.map(function(){return function(t){return Math.round(t/P)}}(this))),null!=this.state.menu&&I.push(x),this.lefts=y=[0],a=[],g=B=0,A=I.length;A>B;g=++B)N=I[g],y.push(m=y.slice(-1)[0]+N),null==a[0]&&m>=this.state.scrollLeft?a.push(g):null==a[1]&&m>=this.state.scrollLeft+this.props.style.width&&a.push(g+1);return _=[M=Math.max(0,Math.ceil((this.state.scrollTop-this.props.headerHeight)/this.props.rowHeight-1)),M+Math.ceil((this.props.headerHeight+this.props.style.height)/this.props.rowHeight)],this.totalWidth=R=Math.max(this.props.style.width-(w-1),y.slice(-1)[0]+1),this.totalHeight=D=(null!=p?p.length:void 0)*this.props.rowHeight+T,b=R+(w-1)<this.props.style.width?0:R+(w-1)-this.props.style.width,E=D-this.props.style.height,O={top:this.state.scrollTop>.5,bottom:this.state.scrollTop<E-.5,left:this.state.scrollLeft>.5,right:this.state.scrollLeft<b-.5},null!=(n=this.state.movingAttribute)&&(n.position-n.offset<.5&&(O.left=!0),n.position-n.offset+n.width>Math.max(R,this.props.style.width-w)&&(O.right=!0)),this.goToEnd||this.totalWidth!==R&&this.state.scrollLeft>b?(h=this.state.scrollLeft,l.transition().ease("back-out").each("start",function(t){return function(){return t.transitioning=!0,b>h?t.scroller.setDimensions(t.props.style.width-(t.rightMargin-1),t.props.style.height,t.totalWidth,t.totalHeight):void 0}}(this)).tween("scrollLeft",function(t){return function(){var e;return e=l.interpolate(h,b),function(n){return t.scroller.scrollTo(e(n),t.state.scrollTop)}}}(this)).each("end",function(t){return function(){return t.transitioning=!1,h>b?t.scroller.setDimensions(t.props.style.width-(t.rightMargin-1),t.props.style.height,t.totalWidth,t.totalHeight):void 0}}(this))):this.transitioning||(this.scroller.setDimensions(this.props.style.width-(this.rightMargin-1),this.props.style.height,this.totalWidth,this.totalHeight),null!=this.state.menu&&this.state.scrollLeft<b-x&&c.defer(function(t){return function(){return t.isMounted()?t.setState({menu:null}):void 0}}(this))),d=null!=(L=null!=(F=this.state.movingAttribute)?F.id:void 0)?L:this.state.highlighted,i.createElement("div",{className:"table",style:this.props.style},i.createElement("scope",{style:{width:this.props.style.width-(w-1),height:this.props.style.height},onWheel:function(t){return function(e){return t.scroller.scrollBy(e.deltaX,e.deltaY),e.preventDefault()}}(this)},i.createElement("rowContainer",{style:{width:R,height:D,transform:k="translate3d("+-this.state.scrollLeft+"px, "+-this.state.scrollTop+"px, 0px)",WebkitTransform:k},onTouchStart:function(t){return function(e){return t.scroller.doTouchStart(e.touches,e.timeStamp),e.preventDefault()}}(this),onTouchMove:function(t){return function(e){return t.scroller.doTouchMove(e.touches,e.timeStamp,e.scale),e.preventDefault()}}(this),onTouchEnd:f=function(t){return function(e){return t.scroller.doTouchEnd(e.timeStamp),e.preventDefault()}}(this),onTouchCancel:f},p.slice.apply(p,_).map(function(e){return function(n,r){var o,s,h,p;return o=_[0]+r,i.createElement("row",{key:o%(_[1]-_[0]),className:i.addons.classSet({odd:o%2===1,flagged:(s=n.id,t.call(null!=(h=e.props.flags)?h:[],s)>=0),deselected:!c.isEmpty(e.props.selected)&&null==e.props.selected[n.id]}),style:{top:o*e.props.rowHeight+T,width:R-(null!=x?x:0),height:e.props.rowHeight,transitionDuration:e.scrolling?"0ms":void 0},onClick:function(t){return e.props.onSelectEntity(n,t.shiftKey)},onDoubleClick:function(){return e.props.onDetail(n.id)}},(p=e.state.attributes).slice.apply(p,a).map(function(t,r){var i,o,s,l,c,h,p,f;return o=a[0]+r,i=null!=(c=e.props.store.attributeById)?c[t]:void 0,s=(null!=(h=i.format)?h:String)(n[t]),l=(null!=(p=e.state.movingAttribute)?p.id:void 0)===t,u({key:i.id,highlighted:d===t,moving:l,left:l?e.state.movingAttribute.position-e.state.movingAttribute.offset:y[o],width:N=I[o]+1,height:e.props.rowHeight,textAlign:"interval"===(f=i.level)||"ratio"===f?"right":"left",formattedValue:s})}).sort(function(t,e){return l.ascending(t.key,e.key)}))}}(this)).sort(function(t,e){return l.ascending(t.key,e.key)})),i.createElement("attributes",{style:{width:R,height:this.props.headerHeight,transform:k="translate("+-this.state.scrollLeft+"px, 0)",WebkitTransform:k}},(z=this.state.attributes).slice.apply(z,a).map(function(t){return function(e,n){var i,o,s,u,h;return o=a[0]+n,i=null!=(u=t.props.store.attributeById)?u[e]:void 0,null==i?null:(s=(null!=(h=t.state.movingAttribute)?h.id:void 0)===i.id,r({key:i.id,attribute:i,tableHeight:t.props.style.height,style:{left:s?t.state.movingAttribute.position-t.state.movingAttribute.offset:y[o],transitionDuration:s?"0ms":void 0,width:I[o]+1,height:t.props.headerHeight},drag:s,highlighted:d===i.id,onHighlight:function(){return d!==i.id?t.setState({highlighted:i.id}):void 0},onUnhighlight:function(){return t.setState({highlighted:null})},onRemove:function(){var n;return n=[].concat(t.state.attributes),n.splice(n.indexOf(e),1),t.props.setAttributes(n)},sort:t.state.sortBy===i.id?t.state.sortDirection:null,onSortBy:function(){var e,n,r;return t.state.sortBy===i.id?(null!=(e=t.props.tableSort)?e:t.setState)({sortBy:i.id,sortDirection:"descending"===t.state.sortDirection?"ascending":"descending"}):(null!=(r=t.props.tableSort)?r:t.setState)({sortBy:i.id,sortDirection:null!=(n=i.defaultSortDirection)?n:"ascending"})},onMove:function(e,n){var r,a,s,u,h,p,f,d,g;return null==n&&(n=!1),a=null!=(h=t.state.movingAttribute)?h:{id:i.id,offset:e-y[o],width:I[o]},s=function(e){var n,r,s,u,l,h;for(y=t.lefts,I=t.widths,o=t.state.attributes.indexOf(i.id),n=[].concat(t.state.attributes),u=c.compact(n.map(function(t,e){return o>e?y[e]+I[e]/2:e===o?null:y[e]+I[e]/2-I[o]})),r=l=0,h=u.length;h>l&&(s=u[r],!(null!=s&&s>e-a.offset));r=++l);return n.splice(r,0,n.splice(o,1)[0]),n},u=15,!n||0<=(p=e-t.state.scrollLeft)&&p<=t.props.style.width-(w-1)?null!=(d=t.scrollTimer)&&(d.active=!1):(null!=(f=t.scrollTimer)?f.active:void 0)||((null!=t.scrollTimer?t.scrollTimer:t.scrollTimer={}).active=!0,l.timer(function(){var e,n,r,i;return a=c.clone(t.state.movingAttribute),t.scrollTimer.active&&null!=a?(i=t.state.scrollLeft>a.position?-1:1,n=u*i,b=R+(w-1)-t.props.style.width,t.scroller.scrollBy(n,0),r=Math.max(0,Math.min(b,t.state.scrollLeft+n)),e=s(a.position),a.position+=r-t.state.scrollLeft,t.setState({attributes:e,movingAttribute:a})):!0})),r=s(null!=(g=a.position)?g:e),a.position=e,n?t.setState({attributes:r,movingAttribute:a}):(t.props.setAttributes(r),t.setState({movingAttribute:null}))}}))}}(this)).sort(function(t,e){return l.ascending(t.key,e.key)}),null!=this.state.menu?i.DOM.div({className:"menu",style:{position:"absolute",right:0,width:x+1,minHeight:this.props.headerHeight}},this.state.menu.map(function(t){return function(e){return i.DOM.div({className:"menu-item",onClick:function(){return t.props.setAttributes([].concat(t.state.attributes,e)),t.setState({menu:null})}},e)}}(this))):void 0)),S?i.createElement("div",{className:"plus-sign",style:{width:w,height:this.props.headerHeight,left:R+(w-1)>this.props.style.width?"100%":R,marginLeft:R+(w-1)>this.props.style.width?-w:-1,lineHeight:this.state.menu?"14px":void 0},onClick:function(t){return function(){var n;return n=c.without.apply(c,[t.props.store.attributes.map(function(t){return t.id})].concat(e.call(t.state.attributes))),t.setState({menu:t.state.menu?null:n})}}(this)},this.state.menu?"":"+"):void 0,function(){var t;t=[];for(C in O)v=O[C],t.push(i.createElement("div",{className:"truncation-indicator "+C,style:{width:"top"===C||"bottom"===C?Math.min(R,this.props.style.width-(w-1)):void 0,height:"left"===C||"right"===C?Math.min(D,this.props.style.height):void 0,opacity:+v,top:"top"===C?this.props.headerHeight:void 0,right:"right"===C?w-1:void 0}}));return t}.call(this),D>this.props.style.height-T?o({style:{top:T,height:this.props.style.height-T,width:5,marginLeft:-5,zIndex:350},positionRatio:this.state.scrollTop/D,lengthRatio:this.props.style.height/D,setPositionRatio:function(t){return function(e,n){var r;return null==n&&(n=!1),r=+l.format(".6f")(e*D),n?l.transition().ease("cubic-out").tween("scrollTop",function(){var e;return e=l.interpolate(t.state.scrollTop,r),function(n){return t.scroller.scrollTo(t.state.scrollLeft,e(n))}}):t.scroller.scrollTo(t.state.scrollLeft,r)}}(this)}):void 0,R>this.props.style.width-(w-1)?o({horizontal:!0,style:{width:this.props.style.width-w,height:5,zIndex:350},positionRatio:this.state.scrollLeft/R,lengthRatio:this.props.style.width/R,setPositionRatio:function(t){return function(e,n){var r;return null==n&&(n=!1),r=+l.format(".6f")(e*R),n?l.transition().ease("cubic-out").tween("scrollLeft",function(){var e;return e=l.interpolate(t.state.scrollLeft,r),function(n){return t.scroller.scrollTo(e(n),t.state.scrollTop)}}):t.scroller.scrollTo(r,t.state.scrollTop)}}(this)}):void 0)}})})}.call(this),function(){define("components/barchart",["require","d3","underscore","react","scroller","./scrollbar"],function(t){var e,n,r,i,o;return i=t("d3"),o=t("underscore"),e=t("react"),r=t("scroller"),n=e.createFactory(t("./scrollbar")),e.createClass({displayName:"BarChart",sortedEntities:null,rowBounds:null,previousEntites:[],filteredEntities:[],entityUnion:[],prepareEntities:function(t,e,n){var r,a,s,u,l,c,h,p,f,d,g,v;return l=[].concat(t.sizeBy),p=function(){return function(e){return i[t.stacked?"sum":"max"](l,function(t){return e[t.id]})}}(this),a=function(t){return function(){var e,n,r,i,o,a;for(t.entityIndexById={},o=t.sortedEntities,a=[],n=r=0,i=o.length;i>r;n=++r)e=o[n],a.push(t.entityIndexById[e.id]=n);return a}}(this),this.previousEntites=o.clone(this.filteredEntities)||[],this.sortedEntities=t.entities,null==this.sortedEntities?null:(null!=t.rankBy?(this.sortedEntities=o.clone(this.sortedEntities).sort(function(){return function(n,r){return i[e.sortDirection](n[t.rankBy],r[t.rankBy])||i.ascending(n.id,r.id)}}(this)),a()):(this.sortedEntities=o.clone(this.sortedEntities).sort(function(){return function(t,n){return i[e.sortDirection](p(t),p(n))||i.ascending(t.id,n.id)}}(this)),a()),null==this.sortedEntities&&a(),d=t.size,h=d[0],c=d[1],s=t.margin,f=h-s.left-s.right,r=c-s.top-s.bottom,u=null!=(g=this.rowBounds)?g[0]:void 0,this.rowBounds=[Math.max(0,Math.ceil(t.scrollTop/t.rowHeight-1)),Math.ceil((t.scrollTop+r)/t.rowHeight)],this.filteredEntities=(v=this.sortedEntities).slice.apply(v,this.rowBounds),this.entityUnion=o.union(this.filteredEntities,this.previousEntites),n?void 0:this.entityUnion=this.filteredEntities)},getInitialState:function(){return{scrollLeft:0,sortDirection:"descending"}},getDefaultProps:function(){return{rowHeight:10,stacked:!0}},componentWillMount:function(){return this.prepareEntities(this.props,this.state),this.scroller=new r(function(t){return function(e,n){return t.props.scrollTop!==n?t.props.setScrollTop(n):void 0}}(this))},componentWillUnmount:function(){return this.props.onDestroy()},componentWillReceiveProps:function(t){var e,n,r,o;return this.props.reveal!==t.reveal?(o=t.size,r=o[0],n=o[1],e=this.entityIndexById[t.reveal]*t.rowHeight,e-=n/3,i.transition().ease("cubic-out").tween("scrollTop",function(n){return function(){var r;return r=i.interpolate(t.scrollTop,e),function(t){return n.scroller.scrollTo(0,r(t))}}}(this))):void 0},componentWillUpdate:function(t,e){var n;return n=t.scrollTop<=this.props.scrollTop,n=n&&t.entities.length===this.props.entities.length,this.prepareEntities(t,e,n)},render:function(){var t,r,a,s,u,l,c,h,p,f,d,g,v,m,y,M,b;return M=this.props.size,f=M[0],p=M[1],s=this.props.margin,y=f-s.left-s.right,r=p-s.top-s.bottom,h=[].concat(this.props.sizeBy),g=function(t){return function(e){return i[t.props.stacked?"sum":"max"](h,function(t){return e[t.id]})}}(this),null==this.sortedEntities?null:(v=y,d=(null!=(b=this.sortedEntities)?b.length:void 0)*this.props.rowHeight,this.scroller.setDimensions(0,r,0,d),u=d-r,m={top:this.props.scrollTop>0,bottom:this.props.scrollTop<u},l=i.scale.linear().domain([0,i.max(this.sortedEntities,g)]).nice().range([0,v]),this.sortedEntities.forEach(function(t){return function(e,n){return n>t.rowBounds[1]&&(e.y=5e3),n<t.rowBounds[0]?e.y=-500:void 0}}(this)),e.createElement("div",{className:"bar-chart",style:{width:this.props.size[0],height:this.props.size[1]}},e.DOM.div({className:"controls",style:{position:"absolute",top:s.top-35,left:s.left-1,display:1===h.length?"none":"inherit"}},e.DOM.span({className:"control"+(this.props.stacked?"":" active"),onClick:function(t){return function(){return t.props.setStacked(!1)}}(this)},"Grouped"),e.DOM.span({className:"control"+(this.props.stacked?" active":""),onClick:function(t){return function(){return t.props.setStacked(!0)}}(this)},"Stacked")),e.createElement("scope",{style:{top:s.top,left:s.left,width:y,height:r}},e.createElement("rowContainer",{style:{width:v,height:d,transform:"translate(0px, "+-this.props.scrollTop+"px)"},onWheel:function(t){return function(e){var n,r;return n=e.deltaX,r=e.deltaY,t.scroller.scrollBy(n,r)}}(this),onTouchStart:function(t){return function(e){return t.scroller.doTouchStart(e.touches,e.timeStamp),e.preventDefault()}}(this),onTouchMove:function(t){return function(e){return t.scroller.doTouchMove(e.touches,e.timeStamp,e.scale),e.preventDefault()}}(this),onTouchEnd:t=function(t){return function(e){return t.scroller.doTouchEnd(e.timeStamp),e.preventDefault()}}(this),onTouchCancel:t},this.entityUnion.map(function(t){return function(n,r){var a,u,c;return n.x=s.left,n.y=(r+t.rowBounds[0])*t.props.rowHeight-t.props.scrollTop,a=[function(t){return t},function(t){return i.rgb(t).darker(2)}],u=1,o.isEmpty(t.props.selected)||null!=t.props.selected[n.id]||(u=.3),c=t.props.stacked?i.sum(h,function(t){return l(n[t.id])}):i.max(h,function(t){return l(n[t.id])}),e.createElement("row",{key:n.id,style:{top:n.y+t.props.scrollTop,width:c,height:t.props.rowHeight},onClick:function(e){return t.props.onSelectEntity(n,e.shiftKey),e.stopPropagation()},onDoubleClick:function(e){return t.props.onDetail(n.id),e.stopPropagation()},onMouseMove:function(e){var r,i,a,u;return i=e.target.getBoundingClientRect(),a=e.clientX-i.left,u=e.clientY-i.top,r=o.clone(n,!1),r.key=r.id,r.y+=s.top,null==r&&console.log(r),t.props.onBlobInspect({x:r.x+a,y:r.y+u,blob:null!=r?r:null})},onMouseLeave:function(){return t.props.onBlobInspect({blob:null})}},function(){var r;return r=0,h.map(function(i,o){var s,c;return c=l(n[i.id]),t.props.stacked?(s=r,r+=c,n.width=r,e.createElement("bar",{className:"stacked",style:{left:s,width:c,height:5,backgroundColor:a[o](n.color),opacity:u}})):e.createElement("bar",{className:"grouped",style:{width:c,top:3*o,left:0,height:5/h.length,backgroundColor:a[o](n.color),opacity:u}})})}())}}(this)).sort(function(t,e){return i.ascending(t.key,e.key)}))),function(){var t;t=[];for(c in m)a=m[c],t.push(e.createElement("div",{className:"truncation-indicator "+c,style:{top:"top"===c?s.top:void 0,bottom:"bottom"===c?s.bottom:void 0,width:"top"===c||"bottom"===c?y:void 0,left:s.left,opacity:+a}}));return t}(),function(){return function(){var t;return t=h[0],e.createElement("ticks",null,l.ticks(10).map(function(n){var i;return e.createElement("tick",{style:{left:s.left+l(n),top:s.top,height:r+s.bottom}},e.createElement("span",{style:{position:"absolute",bottom:0}},(null!=(i=null!=t?t.aggregateFormat:void 0)?i:null!=t?t.format:void 0)(n)))}))}}(this)(),d>r?n({style:{top:s.top,height:r,width:5,marginLeft:-5,zIndex:350},positionRatio:this.props.scrollTop/d,lengthRatio:r/d,setPositionRatio:function(t){return function(e,n){var r;return null==n&&(n=!1),r=+i.format(".6f")(e*d),n?i.transition().ease("cubic-out").tween("scrollTop",function(){var e;return e=i.interpolate(t.props.scrollTop,r),function(n){return t.scroller.scrollTo(0,e(n))}}):t.scroller.scrollTo(0,r)}}(this)}):void 0))}})})}.call(this),function(){define("components/blob-frame",["require","d3","underscore","react"],function(t){var e,n,r;return n=t("d3"),r=t("underscore"),e=t("react"),e.createClass({displayName:"BlobFrame",getDefaultProps:function(){return{shine:0}},render:function(){var t;return e.createElement("canvas",{className:"blob-frame "+(null!=(t=this.props.className)?t:""),style:{pointerEvents:"none"},width:this.props.size[0],height:this.props.size[1]})},componentDidMount:function(){return this.forceUpdate()},componentWillReceiveProps:function(){},shouldComponentUpdate:function(t){return!r.isEqual(this.props,t)},computeGrad:function(){return function(t,e,r,i,o,a,s,u,l){var c,h,p,f;return null==u&&(u=1),null==l&&(l=!1),p=t.createRadialGradient(e,r,0,e,r,2*i),c=n.rgb(a),o>0?(f=o/i,h=l?.33*u:0,p.addColorStop(0,"rgba("+[c.r,c.g,c.b]+","+h+")"),p.addColorStop((1-s)*f/2,"rgba("+[c.r,c.g,c.b]+","+h+")"),p.addColorStop(f/2,"rgba("+[c.r,c.g,c.b]+","+.5*u+")"),p.addColorStop(f/2+1e-6,"rgba("+[c.r,c.g,c.b]+","+1*u+")"),p.addColorStop(.499999,"rgba("+[c.r,c.g,c.b]+","+1*u+")"),p.addColorStop(.5,"rgba("+[c.r,c.g,c.b]+","+.5*u+")"),p.addColorStop((1+s)/2,"rgba("+[c.r,c.g,c.b]+",0)"),p.addColorStop(1,"rgba("+[c.r,c.g,c.b]+",0)")):(p.addColorStop(0,"rgba("+[c.r,c.g,c.b]+","+1*u+")"),p.addColorStop((1-s)/2,"rgba("+[c.r,c.g,c.b]+","+1*u+")"),p.addColorStop((1+s)/2,"rgba("+[c.r,c.g,c.b]+",0)"),p.addColorStop(1,"rgba("+[c.r,c.g,c.b]+",0)")),p}}(this),componentDidUpdate:function(){var t,e,r,i,o,a,s,u,l,c;for(a=Math.max(1e-6,Math.min(1-1e-6,this.props.shine)),e=n.select(this.getDOMNode()),o=e.node().getContext("2d"),r=o,r.clearRect(0,0,this.props.size[0],this.props.size[1]),i=n.nest().key(function(t){var e,n,r;
return null!=(e=null!=(n=null!=(r=t.terminus)?r.key:void 0)?n:t.key)?e:""}).entries(this.props.blobs),i.sort(function(t,e){var r,i,o,a;return r=null!=(o=t.values[0].terminus)?o:t.values[0],i=null!=(a=e.values[0].terminus)?a:e.values[0],n.descending(Math.round(r.isBlobSet),Math.round(i.isBlobSet))||n.descending(r.r,i.r)||n.descending(r.id,i.id)}),c=[],u=0,l=i.length;l>u;u++)s=i[u].values,t=s.slice(0,50),t.forEach(function(t){return function(e){var n,i,o,s,u,l,c,h,p;return h=e.x,p=e.y,s=e.r,n=e.color,l=e.selected,o=e.isPersistent,i=e.hierarchyParent,u=Math.max(.67*s,s-4)*(1-Number(null!=l?l:1)),0>h+s||h-s>t.props.size[0]||0>p+s||p-s>t.props.size[1]||0===s?void 0:(r.fillStyle="hsla(222, 44%, 15%, "+.7*(1-a*!o)+")",r.beginPath(),c=.67,r.arc(h,p,s+c,0,2*Math.PI),u>0&&r.arc(h,p,Math.max(0,u-c),0,2*Math.PI,!0),r.fill())}}(this)),c.push(t.forEach(function(t){return function(e){var i,o,a,s,u,l,c,h,p,f;return c=e.x,h=e.y,a=e.r,i=e.color,l=e.selected,o=e.isPersistent,0>c+a||c-a>t.props.size[0]||0>h+a||h-a>t.props.size[1]?void 0:(s=a*Number(null!=l?l:1),1>l&&(r.fillStyle=n.interpolate("hsl(222, 44%, 15%)",i)(1-.67*(null!=(p=e.deselectedOpacity)?p:1)),r.beginPath(),r.arc(c,h,a,0,2*Math.PI),s>0&&r.arc(c,h,s,0,2*Math.PI,!0),r.fill()),r.fillStyle=i,r.beginPath(),r.arc(c,h,s,0,2*Math.PI),r.fill(),l>0?(u=Math.max(.67*s,s-2),r.fillStyle="rgba(255, 255, 255, "+(null!=(f=e.outlineOpacity)?f:1)+")",r.beginPath(),r.arc(c,h,s,0,2*Math.PI),u>0&&r.arc(c,h,u,0,2*Math.PI,!0),r.fill()):void 0)}}(this)));return c}})})}.call(this),function(){define("components/labels",["require","d3","underscore","react","../utils"],function(t){var e,n,r,i;return r=t("d3"),i=t("underscore"),e=t("react"),n=t("../utils"),e.createClass({displayName:"Labels",render:function(){return e.createElement("svg",{width:"100%",height:"100%",className:"labels"},this.props.blobs.forEach(function(t){return function(e){var n,r;return n=null!=(r=t.refs[e.key])?r.getDOMNode():void 0}}(this)),i.compact(this.props.blobs.map(function(t){return function(i){var o,a,s,u,l,c,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S;for(a=null!=(v=null!=(m=i.label)?m:i.key)?v:"",h=!a,a="function"==typeof a.replace?a.replace("[all]",""):void 0,g=i.y-(null!=(y=i.isBlobSet)?y:0)*i.r,o=h?"n/a":a,d=r.interpolate(i.r,i.r+20)(null!=(M=i.isBlobSet)?M:0),o+=" ",u=0,l=[],c=n.measureDisplayWidth([""]);;){for(s="",f=u;n.measureDisplayWidth([s])<=Math.max(c,d);){for(;;)if(p=o.indexOf(" ",f+1),f=p,"-"!==o[p+1])break;if(s=o.slice(u,p),p+1===o.length)break}if(l.push(s.trim()),u=p,p+1===o.length)break}if((null!=(b=i.isBlobSet)?b:0)>.5)(14*l.length>70||3*i.r/2+60<n.measureDisplayWidth(l))&&(l=["..."]);else if(2*i.r<Math.max(14*l.length,n.measureDisplayWidth(l))&&!t.props.displayAllLabels)return null;return e.createElement("text",{key:i.key+l.length,ref:i.key,className:e.addons.classSet({label:!0,blobSet:(null!=(E=i.isBlobSet)?E:0)>.5,dark:(null!=(x=i.isBlobSet)?x:0)<.85&&r.hcl(((null!=(w=i.start)?w.isBlobSet:void 0)?i.end:null!=(_=i.terminus)?_:i).color).l>40,"n-a":!a}),transform:"translate("+Math.round(i.x)+", "+Math.round(g)+")",y:(14*-l.length-7)*((null!=(S=i.isBlobSet)?S:0)+1)*.5,style:{opacity:i.isPersistent?1:1-3*t.props.shine,textShadow:"0 0 2px "+i.color},onClick:function(e){var n;return t.props.onSelect(null!=(n=null!=i?i.terminus:void 0)?n:i,e.shiftKey),e.stopPropagation()},onMouseMove:function(e){var n,r,o;return n=t.getDOMNode().getBoundingClientRect(),r=e.clientX-n.left,g=e.clientY-n.top,t.props.onBlobInspect({x:r,y:g,blob:null!=(o=null!=i?i.terminus:void 0)?o:i})},onMouseLeave:function(e){var n,r;return n=t.getDOMNode().getBoundingClientRect(),r=e.clientX-n.left,g=e.clientY-n.top,t.props.onBlobInspect({x:r,y:g,blob:null})}},l.map(function(t){return e.createElement("tspan",{x:0,dy:14},t)}))}}(this))))}})})}.call(this),function(){var t=[].slice;define("components/blobs",["require","d3","underscore","react","../utils","./blob-frame","./labels"],function(e){var n,r,i,o,a,s,u;return s=e("d3"),u=e("underscore"),o=e("react"),a=e("../utils"),r=o.createFactory(e("./blob-frame")),i=o.createFactory(e("./labels")),n=2e3,o.createClass({displayName:"Blobs",getInitialState:function(){return{blobs:null,shine:0}},getDefaultProps:function(){return{spiralExtension:!1,staggeredTransition:!1,transitionDuration:1400}},extendFromCenter:function(t,e){var n,r,i,o,a,s;return s=e[0],a=e[1],r=1.5*Math.sqrt(s*s+a*a),o=t.y-e[1]/2,i=t.x-e[0]/2,n=Math.atan2(o,i),u.extend(u.pick(t,"r","color","selected"),this.props.spiralExtension?{x:r*Math.sin(n),y:r*-Math.cos(n)}:{x:r*Math.cos(n),y:r*Math.sin(n)})},shouldComponentUpdate:function(t,e){return!u.isEqual([this.state,this.props],[e,t])},componentWillReceiveProps:function(e){var r,i,o,l,c,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S,C,T,D,R,k,O,N,P,I,B,A,L,F,z,U,q,j,H,V,W,K;if(e.transitionDuration&&!u.isEqual(this.props,e)&&("function"==typeof e.onBlobInspect&&e.onBlobInspect(null),e.shouldTransition&&(P=u.clone(this.props),_=u.clone(e),N=null!=(H=this.state.groups)?H:P.groups,w=_.groups,R=null!=(V=this.state.entities)?V:P.entities,b=_.entities,!((null!=N?N.length:void 0)>n||(null!=w?w.length:void 0)>n||null==N&&null==w)))){for(O=u.indexBy(N,"key"),x=u.indexBy(w,"key"),A={},T=0,D=(null!=R?R:[]).length,y=0,M=(null!=b?b:[]).length;D>T||M>y;)for(l=null!=R?R[T]:void 0,o=null!=b?b[y]:void 0,i=s.ascending(null!=l?l.id:void 0,null!=o?o.id:void 0),g=d=!1,0===i?(T+=1,y+=1,h=o):(g=-1===i||null==o)?(T+=1,h=l):(d=1===i||null==l)&&(y+=1,h=o),S=a.accessor(P.blobBy)(h),v=a.accessor(_.blobBy)(h),C=a.accessor(P.blobSetBy)(h),m=a.accessor(_.blobSetBy)(h),r={startKey:(null!=P.blobSetBy?C+"/":"")+S,endKey:(null!=_.blobSetBy?m+"/":"")+v},g&&(r.endKey=null),d&&(r.startKey=null),U=[r],null==C&&null!=m?U.push({startKey:S===m?S:null,endKey:m}):null!=C&&null==m?U.push({startKey:C,endKey:v===C?v:null}):null!=C&&null!=m&&U.push({startKey:C,endKey:m}),q=0,j=U.length;j>q;q++)if(z=U[q],F=z.startKey+";"+z.endKey,!(F in A)){if(k=O[z.startKey],E=x[z.endKey],null==k&&null==E)continue;null==k&&(k=this.extendFromCenter(E,e.size)),null==E&&(E=this.extendFromCenter(k,e.size)),f=["x","y","r","color"],B={middle:s.interpolate(u.pick.apply(u,[k].concat(t.call(f))),u.pick.apply(u,[E].concat(t.call(f))))(.5)},B.middle.selected=null==k.selected&&null==E.selected?null:s.interpolate(Number(null!=(W=k.selected)?W:1),Number(null!=(K=E.selected)?K:1))(.5),B.outlineTween=k.selected&&!E.selected||E.selected&&!k.selected,B.middle.key=F,B.middle.values=[],B.start=k,B.end=E,A[F]=B}return L=u.sortBy(u.pairs(A),u.first).map(u.last),p=function(){return function(t,n,r,i){var o,a,u,l,c,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S;return l=null!=t.current?t.current:t.current={},f=t[r>i?"start":"end"],d=t.middle,g=e.polarTransition?(v=t.start.x-e.size[0]/2,y=t.start.y-e.size[1]/2,m=t.end.x-e.size[0]/2,M=t.end.y-e.size[1]/2,a=Math.atan2(v,y),h=Math.sqrt(v*v+y*y),u=Math.atan2(m,M),p=Math.sqrt(m*m+M*M),u-a>Math.PI?u-=2*Math.PI:a-u>Math.PI?a-=2*Math.PI:void 0,o=s.interpolate(a,u)(1-r),c=s.interpolate(h,p)(1-r),{x:Math.sin(o)*c+e.size[0]/2,y:Math.cos(o)*c+e.size[1]/2}):{x:s.interpolate(f.x,d.x)(n),y:s.interpolate(f.y,d.y)(n)},l.terminus=f,l.start=t.start,l.end=t.end,l.key=f.key,l.label=f.label,l.isBlobSet=s.interpolate(null!=(b=t.start.isBlobSet)?b:0,null!=(E=t.end.isBlobSet)?E:0)(1-r),l.isPersistent=(null!=(x=t.start.label)?x:t.start.key)===(null!=(w=t.end.label)?w:t.end.key),l.x=g.x,l.y=g.y,l.hierarchyParent=g.hierarchyParent,l.color=s.interpolateRgb(f.color,d.color)(n),l.r=(1-n)*f.r+n*d.r,l.selected=null!=t.middle.selected?s.interpolate(Number(null!=(_=f.selected)?_:1),Number(null!=(S=d.selected)?S:1))(n):null,null!=t.start.selected^null!=t.end.selected&&((null!=t.start.selected&&!t.start.selected||null!=t.end.selected&&!t.end.selected)&&(l.selected=0),l.deselectedOpacity=s.interpolate(+(null!=t.start.selected),+(null!=t.end.selected))(1-r)),l.outlineOpacity=t.outlineTween?s.interpolate(+!t.start.selected,+!t.end.selected)(r):+(null!=t.start.selected&&null!=t.end.selected),l}}(this),I=function(){return function(t){var n,r;return n=.5,r=s.scale.linear().domain([0,n,1]).range([0,1,0]),t=u.shuffle(t),function(i){var o;return o=.8,t.map(function(a,u){var l,c;return e.staggeredTransition?(l=(i-u/t.length*(1-o))/o,c=Math.max(0,Math.min(1,s.ease("poly-in-out",4)(l))),p(a,r(c),c,n)):p(a,r(i),i,n)})}}}(this),c=e.transitionDuration,this.setState({blobs:N,shine:0}),z=s.select(this.getDOMNode()).transition("blobs").duration(c),z=e.staggeredTransition?z.ease("linear"):z.ease("poly-in-out",5),z.tween("blobs",function(t){return function(){var e;return e=I(L),function(n){return t.isMounted()?t.setState({blobs:e(1-n),shine:1-Math.abs(1-2*n)}):void 0}}}(this)).each("end",function(t){return function(){return t.isMounted()?t.setState({blobs:null,shine:0}):void 0}}(this))}},render:function(){var t,e,n,a;return t=null!=(e=null!=(n=this.state.blobs)?n:this.props.groups)?e:[],t=u.clone(t).sort(function(t,e){return s.descending(Math.round(t.isBlobSet),Math.round(e.isBlobSet))||s.descending(t.r,e.r)||s.descending(t.id,e.id)}),o.createElement("div",{className:"blobs "+((null!=(a=this.props.groups)?a.length:void 0)?"":"hidden")},r({size:this.props.size,blobs:t,shine:this.state.shine}),function(e){return function(){var n;return n=u.chain(t).filter(function(t){var n,r,i;return(null!=(n=t.isBlobSet)?n:0)>.5||(null!=(r=null!=(i=t.terminus)?i.r:void 0)?r:t.r)>30||e.props.displayAllLabels}).sortBy(function(t){return!t.isPersistent}).uniq(!1,function(t){return t.key}).value(),i({shine:e.state.shine,blobs:n,displayAllLabels:e.props.displayAllLabels,onSelect:e.props.onClick,onBlobInspect:e.props.onBlobInspect})}}(this)())}})})}.call(this),!function(){function t(t,e){function n(e){var n,r=t.arcs[0>e?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],0>e?[n,i]:[i,n]}function r(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[0>t?~t:t]=1}),s.push(r)}}var i={},o={},a={},s=[],u=-1;return e.forEach(function(n,r){var i,o=t.arcs[0>n?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++u],e[u]=n,e[r]=i)}),e.forEach(function(t){var e,r,i=n(t),s=i[0],u=i[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=u,r=o[u]){delete o[r.start];var l=r===e?e:e.concat(r);o[l.start=e.start]=a[l.end=r.end]=l}else o[e.start]=a[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=s,r=a[s]){delete a[r.end];var c=r===e?e:r.concat(e);o[c.start=r.start]=a[c.end=e.end]=c}else o[e.start]=a[e.end]=e;else e=[t],o[e.start=s]=a[e.end=u]=e}),r(a,o),r(o,a),e.forEach(function(t){i[0>t?~t:t]||s.push([t])}),s}function e(e,n,r){function i(t){var e=0>t?~t:t;(c[e]||(c[e]=[])).push({i:t,g:l})}function o(t){t.forEach(i)}function a(t){t.forEach(o)}function s(t){"GeometryCollection"===t.type?t.geometries.forEach(s):t.type in h&&(l=t,h[t.type](t.arcs))}var u=[];if(arguments.length>1){var l,c=[],h={LineString:o,MultiLineString:a,Polygon:a,MultiPolygon:function(t){t.forEach(a)}};s(n),c.forEach(arguments.length<3?function(t){u.push(t[0].i)}:function(t){r(t[0].g,t[t.length-1].g)&&u.push(t[0].i)})}else for(var p=0,f=e.arcs.length;f>p;++p)u.push(p);return{type:"MultiLineString",arcs:t(e,u)}}function r(e,r){function i(t){t.forEach(function(e){e.forEach(function(e){(s[e=0>e?~e:e]||(s[e]=[])).push(t)})}),u.push(t)}function o(t){return h(a(e,{type:"Polygon",arcs:[t]}).coordinates[0])>0}var s={},u=[],l=[];return r.forEach(function(t){"Polygon"===t.type?i(t.arcs):"MultiPolygon"===t.type&&t.arcs.forEach(i)}),u.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,l.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){s[0>t?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),u.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:l.map(function(r){var i=[];if(r.forEach(function(t){t.forEach(function(t){t.forEach(function(t){s[0>t?~t:t].length<2&&i.push(t)})})}),i=t(e,i),(n=i.length)>1)for(var a,u=o(r[0][0]),l=0;l<n;++l)if(u===o(i[l])){a=i[0],i[0]=i[l],i[l]=a;break}return i})}}function i(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return o(t,e)})}:o(t,e)}function o(t,e){var n={type:"Feature",id:e.id,properties:e.properties||{},geometry:a(t,e)};return null==e.id&&delete n.id,n}function a(t,e){function n(t,e){e.length&&e.pop();for(var n,r=c[0>t?~t:t],i=0,o=r.length;o>i;++i)e.push(n=r[i].slice()),l(n,i);0>t&&s(e,o)}function r(t){return t=t.slice(),l(t,0),t}function i(t){for(var e=[],r=0,i=t.length;i>r;++r)n(t[r],e);return e.length<2&&e.push(e[0].slice()),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0].slice());return e}function a(t){return t.map(o)}function u(t){var e=t.type;return"GeometryCollection"===e?{type:e,geometries:t.geometries.map(u)}:e in h?{type:e,coordinates:h[e](t)}:null}var l=g(t.transform),c=t.arcs,h={Point:function(t){return r(t.coordinates)},MultiPoint:function(t){return t.coordinates.map(r)},LineString:function(t){return i(t.arcs)},MultiLineString:function(t){return t.arcs.map(i)},Polygon:function(t){return a(t.arcs)},MultiPolygon:function(t){return t.arcs.map(a)}};return u(e)}function s(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function u(t,e){for(var n=0,r=t.length;r>n;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n}function l(t){function e(t,e){t.forEach(function(t){0>t&&(t=~t);var n=i[t];n?n.push(e):i[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}function r(t,e){"GeometryCollection"===t.type?t.geometries.forEach(function(t){r(t,e)}):t.type in a&&a[t.type](t.arcs,e)}var i={},o=t.map(function(){return[]}),a={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};t.forEach(r);for(var s in i)for(var l=i[s],c=l.length,h=0;c>h;++h)for(var p=h+1;c>p;++p){var f,d=l[h],g=l[p];(f=o[d])[s=u(f,g)]!==g&&f.splice(s,0,g),(f=o[g])[s=u(f,d)]!==d&&f.splice(s,0,d)}return o}function c(t,e){function n(t){o.remove(t),t[1][2]=e(t),o.push(t)}var r=g(t.transform),i=v(t.transform),o=d();return e||(e=p),t.arcs.forEach(function(t){for(var a,s,u=[],l=0,c=0,h=t.length;h>c;++c)s=t[c],r(t[c]=[s[0],s[1],1/0],c);for(var c=1,h=t.length-1;h>c;++c)a=t.slice(c-1,c+2),a[1][2]=e(a),u.push(a),o.push(a);for(var c=0,h=u.length;h>c;++c)a=u[c],a.previous=u[c-1],a.next=u[c+1];for(;a=o.pop();){var p=a.previous,f=a.next;a[1][2]<l?a[1][2]=l:l=a[1][2],p&&(p.next=f,p[2]=a[2],n(p)),f&&(f.previous=p,f[0]=a[0],n(f))}t.forEach(i)}),t}function h(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return.5*o}function p(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}function f(t,e){return t[1][2]-e[1][2]}function d(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,i=r[n];if(f(t,i)>=0)break;r[i._=e]=i,r[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,a=e,s=r[a];if(i>o&&f(r[o],s)<0&&(s=r[a=o]),i>n&&f(r[n],s)<0&&(s=r[a=n]),a===e)break;r[s._=e]=s,r[t._=e=a]=t}}var n={},r=[],i=0;return n.push=function(e){return t(r[e._=i]=e,i++),i},n.pop=function(){if(!(0>=i)){var t,n=r[0];return--i>0&&(t=r[i],e(r[t._=0]=t,0)),n}},n.remove=function(n){var o,a=n._;if(r[a]===n)return a!==--i&&(o=r[i],(f(o,n)<0?t:e)(r[o._=a]=o,a)),a},n}function g(t){if(!t)return m;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0),t[0]=(e+=t[0])*r+o,t[1]=(n+=t[1])*i+a}}function v(t){if(!t)return m;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=(t[0]-o)/r|0,l=(t[1]-a)/i|0;t[0]=u-e,t[1]=l-n,e=u,n=l}}function m(){}var y={version:"1.6.18",mesh:function(t){return a(t,e.apply(this,arguments))},meshArcs:e,merge:function(t){return a(t,r.apply(this,arguments))},mergeArcs:r,feature:i,neighbors:l,presimplify:c};"function"==typeof define&&define.amd?define("topojson",y):"object"==typeof module&&module.exports?module.exports=y:this.topojson=y}(),function(){define("components/map",["require","react","topojson"],function(t){var e,n,r,i,o,a,s,u,l,c,h,p;return e=t("react"),c=t("topojson"),p=null,a=null,h=null,u=null,n=null,r=d3.geo.clipExtent(),s=d3.geo.path().projection({stream:function(t){return l.stream(r.stream(t))}}),l=d3.geo.transform({point:function(t,e,r){return r>=10*n?this.stream.point(t*u+h[0],e*u+h[1]):void 0}}),i=null,o=null,d3.json("assets/world.0.2.topo.json",function(){return function(t){return c.presimplify(t),o=c.feature(t,t.objects.world),null!=i?i.forceUpdate():void 0}}(this)),e.createClass({statics:{getFeature:function(){return o.features[0]}},componentDidMount:function(){return i=this,this.forceUpdate()},componentDidUpdate:function(){var t,e;return p=this.props.size[0],a=this.props.size[1],t=d3.select(this.getDOMNode()).attr("width",p).attr("height",a),e=t.node().getContext("2d"),e.clearRect(0,0,this.props.size[0],this.props.size[1]),e.fillStyle="white",h=this.props.translate,u=this.props.scale,n=1/u/u,r.extent([[0,0],[p,a]]),s.context(e),e.beginPath(),s(o),e.fill()},render:function(){return e.createElement("canvas",{width:this.props.size[0],height:this.props.size[1],className:"map"})}})})}.call(this),function(){define("components/attributed-axis",["require","d3","underscore","react"],function(t){var e,n,r,i,o;return r=t("d3"),o=t("underscore"),n=t("react"),i={bottom:{tickNudge:function(t){return"translate("+t/2+"px,0)"},labelNudge:function(){}},left:{tickNudge:function(t){return"translate(0,"+t/2+"px)"},labelNudge:function(t){var e;return e=t.node().getBBox().height/2,t.attr("transform","translate(-33,"+-e+")")}}},e=n.createFactory(n.createClass({componentDidMount:function(){return this.forceUpdate()},componentDidUpdate:function(){var t,e,n,o,a,s,u,l;if(null!=this.props.scale)return t=r.svg.axis().scale(this.props.scale).tickPadding(4).tickSize(6,0).outerTickSize(6).orient(this.props.orient).tickFormat(null!=(l=this.props.format)?l:null),null!=this.props.ticks&&t.tickValues(this.props.ticks),a=r.select(this.getDOMNode()),a.attr("transform","translate("+this.props.translate+")"),a.transition().duration(700).ease("cubic-out").call(t),e=null!=this.props.scale.rangeBand,n=11,o=function(t){var e,r,i,a;for(r=i=0,a=t.length-1;a>=0?a>i:i>a;r=a>=0?++i:--i)if(r<t.length-1&&(e=t[r]+" "+t[r+1],e.length<=n))return t.splice(r,2,e),o(t);return t},e?(u=this.props.scale.range()[1]-this.props.scale.range()[0],a.selectAll("line").style("transform",i[this.props.orient].tickNudge(u)),s=a.selectAll("text"),s[0].forEach(function(t){return function(e){var n;return e=r.select(e),n=e.text(),e.text(""),n=n.replace(" -","-").split(/\s/g),n=o(n,0),n.forEach(function(t,n){return e.append("tspan").text(t).attr({dy:0===n?8:10,x:0,"text-anchor":"middle"})}),i[t.props.orient].labelNudge(e)}}(this))):void 0},render:function(){return n.DOM.g({className:"axis"})}})),n.createClass({displayName:"AttributedAxis",getDefaultProps:function(){return{orient:"bottom"}},render:function(){var t,r,i,a,s,u,l,c,h,p,f,d,g,v,m,y,M;switch(h=this.props,a=h.orient,s=h.outerLayout,i=h.innerLayout,l=(null!=(p=this.props.attribute)?p.values.length:void 0)<=10?this.props.attribute.values:null!=(f=null!=(d=this.props.scale)&&"function"==typeof d.ticks?d.ticks(null!=(g=this.props.numTicks)?g:10):void 0)?f:null!=(v=this.props.scale)?v.domain():void 0,a){case"bottom":u={left:0,top:c=i.top+i.height,width:"100%",height:s.top+s.height-c},r=[0,10];break;case"left":u={left:0,top:0,width:i.left,height:"100%"},r=[i.left-10,0]}return t={bottom:n.DOM.text({className:"axisLabel",transform:"translate("+(i.left+i.width+8)+",15)"},"X-AXIS"),left:n.DOM.text({className:"axisLabel",transform:"translate("+(i.left-9)+","+(i.top-8)+") rotate(270)"},"Y-AXIS")},n.DOM.div({style:o.extend(u,{position:"absolute"})},n.DOM.svg({width:u.width,height:u.height,style:{position:"absolute",left:0,top:0}},e({scale:this.props.scale,orient:a,translate:r,format:null!=(m=null!=(y=this.props.attribute)?y.aggregateFormat:void 0)?m:null!=(M=this.props.attribute)?M.format:void 0,ticks:l}),t[a]))}})})}.call(this),function(){define("components/scatter",["require","d3","underscore","react","../utils","./attributed-axis"],function(t){var e,n,r,i,o;return i=t("d3"),o=t("underscore"),n=t("react"),r=t("../utils"),e=n.createFactory(t("./attributed-axis")),n.createClass({displayName:"ScatterPerspective",statics:{layout:function(t){var e;return e={top:120,right:45,left:100.5,bottom:50.6},{left:e.left,top:e.top,width:t.size[0]-e.left-e.right,height:t.size[1]-e.top-e.bottom}},scale:function(t){var e,n,r,a,s,u,l,c,h;return n={padding:!0,type:"linear"},t=o.extend(n,t),e=t.attribute,null==e?null:"interval"===e.level?(a=i.extent(t.entities.map(function(t){return t[e.id]})),s=a[1]-a[0],h=.1,c=[a[0]-s*h,+a[1]+s*h],{attribute:e,type:"date"===e.type?"time":t.type,domain:[a],range:[t.range]}):"ratio"===e.level?(l="log"===t.type?1:0,u=i.max(t.entities.map(function(t){return t[e.id]})),{attribute:e,type:t.type,domain:[[l,u]],range:[t.range]}):(r=o.intersection(e.values,t.entities.map(function(t){return t[e.id]})),{type:"ordinal",domain:[r],attribute:e,rangeBands:[t.range,0,0]})},scaleEntities:function(t){var e,n,a,s,u;return s=r.d3scale(t.xScale),u=r.d3scale(t.yScale),null==s&&(a=i.scale.linear().domain([0,t.entities.length-1]).range([t.layout.left,t.layout.width])),n=function(e){return function(n,r){var i,o,l,c,h,p,f;return o=null!=s?(i=n[null!=(c=t.scatterXBy)?c.id:void 0],null!=i&&""!==i?s(i)+(null!=(h="function"==typeof s.rangeBand?s.rangeBand():void 0)?h:0)/2:2*t.layout.width):a(r),l=null!=u?(i=n[null!=(p=t.scatterYBy)?p.id:void 0],null!=i&&""!==i?u(i)+(null!=(f="function"==typeof u.rangeBand?u.rangeBand():void 0)?f:0)/2:-t.layout.height):e.props.layout.top+e.props.layout.height/2,[o,l]}}(this),t.groupEntities?t.groups.forEach(function(){return function(t){var e,r,i,a;return e=n(null!=(r=null!=(i=t.values[0])&&null!=(a=i.values)?a[0]:void 0)?r:t.values[0]),o.extend(t,{x:e[0],y:e[1]}),t.label="[all]"}}(this)):(e=null==s?o.sortBy(t.entities,t.scatterYBy.id):t.entities,e.forEach(function(){return function(t,e){var r;return r=n(t,e),o.extend(t,{x:r[0],y:r[1]})}}(this)))}},render:function(){var t,a,s;return s=this.props,a=s.layout,t=s.chartLayout,n.DOM.div({className:"scatter"},function(t){return function(){var e,a,s,u,l,c,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S,C,T,D,R,k,O,N,P,I,B,A,L,F,z,U,q,j,H,V,W;if(null!=t.props.xScale&&null!=t.props.yScale){for(a=function(t,e,n,r){var o,a,s,u,l,c,h;return u=!0,l=null==t.rangeBand,(a=!l)?(o=t.domain(),s=e.id):(h=t.nice().ticks(null!=r?r:10),o=i.pairs(h),c=i.scale.threshold().domain(h.slice(1,-1)).range(o),s=function(t){return c(t[e.id])}),[o,s,a]},b=t.props.xScale.attribute,k=t.props.yScale.attribute,C=r.d3scale(t.props.xScale),A=r.d3scale(t.props.yScale),q=a(C,b),w=q[0],h=q[1],_=q[2],j=a(A,k),P=j[0],p=j[1],I=j[2],E="function"==typeof C.rangeBand?C.rangeBand():void 0,O="function"==typeof A.rangeBand?A.rangeBand():void 0,s=null!=E&&null!=O,null==E&&(E=40,S=-20),null==O&&(O=40,B=-20),e=[],l=o.groupBy(t.props.entities,h),L=0,z=w.length;z>L;L++)for(x=w[L],_?(m=C(x)+(null!=S?S:0),v=E):(H=x.map(C),y=H[0],M=H[1],m=Math.min(y,M),v=Math.abs(y-M)),c=o.groupBy(l[x],p),F=0,U=P.length;U>F;F++)N=P[F],I?(T=A(N)+(null!=B?B:0),f=O):(V=N.map(A),D=V[0],R=V[1],T=Math.min(D,R),f=Math.abs(D-R)),u=null!=(W=c[N])?W:[],g=u.length,e.push({x:m,width:v,y:T,height:f,entities:u,value:g});return d=i.scale.linear().domain([0,i.max(e,function(t){return t.value})]).range([.05,.6]),e.map(function(t){return n.DOM.div({className:"area",style:{left:t.x,top:t.y,width:t.width-1,height:t.height-1,opacity:d(t.value)}})})}}}(this)(),null!=this.props.xScale?e({orient:"bottom",outerLayout:this.props.layout,innerLayout:this.props.chartLayout,scale:r.d3scale(this.props.xScale),attribute:this.props.scatterXBy}):void 0,e({orient:"left",outerLayout:this.props.layout,innerLayout:this.props.chartLayout,scale:r.d3scale(this.props.yScale),attribute:this.props.scatterYBy}))}})})}.call(this),function(){define("components/hierarchy",["require","d3","underscore","react","../utils"],function(t){var e,n,r,i,o,a,s,u;return i=t("d3"),u=t("underscore"),e=t("react"),r=t("../utils"),o=400,s=600,a=300,n=e.createFactory(e.createClass({transitioning:!1,getInitialState:function(){return{opacity:0}},componentDidMount:function(){return this.props.noFadeIn?void 0:(i.select(this.getDOMNode()).style("opacity",0),i.select(this.getDOMNode()).transition().duration(2e3).style("opacity",1))},componentDidUpdate:function(){},generateDiagonal:function(t){var e,n,o,a,s;return e=i.svg.line().x(function(t){return t.x}).y(function(t){return t.y}),s=r.distance([t.source.x,t.source.y],[t.target.x,t.target.y]),o=(t.source.present?t.source.r:3)/s,a=(t.target.present?t.target.r:3)/s,n=[{x:t.source.x*(1-o)+t.target.x*o,y:t.source.y*(1-o)+t.target.y*o},{x:t.source.x*a+t.target.x*(1-a),y:t.source.y*a+t.target.y*(1-a)}],e(n)},componentWillMount:function(){return this.setState({d:this.generateDiagonal(this.props)})},componentWillReceiveProps:function(t){return this.transitioning=!0,i.select(this.refs.path.getDOMNode()).transition().duration(1400).ease("poly-in-out",4).tween("position",function(e){return function(){var n;return n=i.interpolate(e.state.d,e.generateDiagonal(t)),function(t){return e.isMounted()?e.setState({d:n(t)}):void 0}}}(this)).each("end",function(t){return function(){return t.transitioning=!1}}(this))},render:function(){return e.DOM.g({className:"relationship-group"},e.DOM.path({ref:"path",className:"relationship-clickable-area",d:this.state.d,onMouseEnter:function(t){return function(){return t.transitioning?void 0:t.props.onMouseEnter()}}(this),onMouseLeave:this.props.onMouseLeave,onClick:this.props.onClick,style:{strokeWidth:7,opacity:0}}),e.DOM.path({ref:"path",className:"relationship "+(this.props.highlight?"highlight":""),d:this.state.d,style:{pointerEvents:"none"}}))}})),e.createClass({displayName:"HierarchyPerspective",newRadii:[null,null,null,null],"smallest":null,statics:{upIDName:"UID of Manager L1",personalIDName:"PERSONID_EXT",getHierarchyInfo:function(t){var e;return(null!=t?t.id:void 0)===(null!=(e=this.temporaryCenter)?e.id:void 0)?this.temporaryCenterMessage:void 0},scaleEntities:function(t){var e,n,r,o,a,s,l,c,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S,C;return C=t.layout,S=C.width,a=C.height,M=C.radius,b=t.rankingManager,n=t.allRolesByManagerID,h=this.presentNodes.length,this.presentNodes=t.nodes,this.collapseValue=i.min(this.presentNodes,function(t){return t.depthInCompleteTree}),s=50,_=[360,Math.min(S,a)/2-s],this.importantVertices=[],this.isVertexImportant(b,n),w={},this.importantVertices.forEach(function(t){return function(e){var r;return r=n[e.id],null!=r&&(r=r.filter(function(e){return u.find(t.importantVertices,function(t){return t.id===e.id})||u.find(t.presentNodes,function(t){return t.id===e.id})})),w[e.id]=r}}(this)),r=i.layout.tree().size(_).separation(function(){return function(t,e){return(t.parent===e.parent?1:2.5)/t.depth}}(this)).children(function(t){return w[t.id]}),x=r.nodes(b),o=r.links(x),p=b,c=!1,this.temporaryCenter=null,this.temporaryCenterMessage=null,this.collapseValue>0?(g=x.filter(function(t){return function(e){return e.depth===t.collapseValue&&t.isNodePresent(e)}}(this)),1===g.length?(v=g[0],e=u.flatten(this.getAllChildren(v,w)),m=e.filter(function(t){return function(e){return t.isNodePresent(e)}}(this)),y=this.presentNodes.filter(function(t){return t.depth<6}),m.length===y.length?(c=!0,this.temporaryCenter=v[0],this.temporaryCenterMessage=""+this.collapseValue+" level"+(1===this.collapseValue?"":"s")+" above this position."):this.collapseValue-=1):g.length>1&&(console.log("2 potential closest parents, - collapse  by 1, NO NODE"),this.collapseValue-=1)):c=!0,x.forEach(function(t){return t.x=t.x||0}),x.forEach(function(t){return this.collapseValue>t.depth?(t.x=p.x,t.y=p.y):void 0}),x.forEach(function(t){var e;return e=t.x*Math.PI/180,t.=e}),l=i.max(x,function(t){return t.depth}),x.forEach(function(e){return function(n){var r,i,o,s,l,c;o=n.depth<=e.collapseValue?0:M*((n.depth-e.collapseValue)/4),l=[n.,o],s=l[0],o=l[1],e.smallest&&(s+=e.smallest),c=[o*Math.cos(s),o*Math.sin(s)],r=c[0],i=c[1],n.x=t.layout.left+S/2+r,n.y=t.layout.top+a/2+i,n.present=e.isNodePresent(n),n.hierarchyParent=!1,!u.isArray(n)}}(this)),E={},f=this.presentNodes.filter(function(t){return function(e){return e.depthInCompleteTree>=5+t.collapseValue}}(this)),f.forEach(function(){return function(t){var e,n;return t.x=(null!=(e=t.parent)?e.x:void 0)||t.x,t.y=(null!=(n=t.parent)?n.y:void 0)||t.y,t.r=0}}(this)),d=this.presentNodes.filter(function(t){return function(e){return e.depthInCompleteTree===5+t.collapseValue}}(this)),d.forEach(function(){return function(t){return E[t.parent.id]={x:t.parent.x,y:t.parent.y,r:t.parent.r+10}}}(this)),{roles:x,computeTree:r,edges:o,rolesByManagerID:w,allRolesByManagerID:n,nodeInCenter:c,collapse:this.collapseValue,ringHighlights:E}},importantVertices:[],presentNodes:[],temporaryCenter:null,temporaryCenterMessage:null,collapseValue:0,isNodePresent:function(t){return null!=u.find(this.presentNodes,function(){return function(e){return e.id===t.id}}(this))},isVertexImportant:function(t,e){var n,r;return r=!1,this.isNodePresent(t)&&(r=!0),null!=e[t.id]&&(n=!1,t.depthInCompleteTree<=2+this.collapseValue&&e[t.id].forEach(function(t){return function(r){return t.isVertexImportant(r,e)?n=!0:void 0}}(this)),r=r||n),r&&this.importantVertices.push(t),r},getPathUpTree:function(t,e){var n,r;for(r=[t];;){if(n=u.find(e,function(t){return t.target.id===r[r.length-1].source.id}),null==n)return r;r.push(n)}},getAllChildren:function(t,e){var n;return n=[t],null!=e[t.id]&&e[t.id].forEach(function(t){return function(r){return n.push(t.getAllChildren(r,e))}}(this)),n}},getInitialState:function(){return{highlightedPath:[]}},componentDidMount:function(){return document.addEventListener("keydown",this.onKeyDown)},shouldComponentUpdate:function(t,e){var n,r,i,o,a,s,l;for(s=[this.props,this.state,t,e].map(u.clone),n=s[0],r=s[1],t=s[2],e=s[3],l=u.functions(this.props),o=0,a=l.length;a>o;o++)i=l[o],n[i]=t[i]=null;return!u.isEqual([n,r],[t,e])},hoverTimeout:null,firstRender:!0,componentDidUpdate:function(){var t;return t=i.select(this.getDOMNode()).selectAll(".hierarchy-circle"),t.transition().duration(1400).ease("poly-in-out",4).attr({r:function(t){return function(e,n){return t.newRadii[n]}}(this)})},render:function(){var t,r,i,o,a,s,l,c,h,p,f,d,g,v,m,y,M;return y=this.props.layout,m=y.width,l=y.height,h=y.radius,o=this.props.chartStructures,d=o.roles,s=o.computeTree,p=o.edges,g=o.rolesByManagerID,t=o.allRolesByManagerID,c=o.nodeInCenter,a=o.collapse,f=o.ringHighlights,p.forEach(function(e){return function(n){return n.key="r"+n.source.id+"_"+n.target.id,n.highlight=null!=u.find(e.state.highlightedPath,function(t){return t.source.id===n.source.id&&t.target.id===n.target.id}),n.onMouseEnter=function(){var t;return clearTimeout(e.hoverTimeout),t=e.constructor.getPathUpTree(n,p),e.setState({highlightedPath:t})},n.onMouseLeave=function(){return e.hoverTimeout=setTimeout(function(){return e.setState({highlightedPath:[]})},100)},n.onClick=function(r){var i;return i=u.flatten(e.constructor.getAllChildren(n.target,t)),r.shiftKey?e.props.toggleNodes(i):e.props.selectNodes(i),r.stopPropagation()},n.noFadeIn=e.firstRender}}(this)),this.firstRender=!1,i=0,c&&(v=d.sort(function(t,e){return t.depth-e.depth}),v=v.filter(function(t){return t.present}),i=v[0].r),r=function(){M=[];for(var t=1,e=4+a;e>=1?e>=t:t>=e;e>=1?t++:t--)M.push(t);return M}.apply(this).map(function(t){return h*(t/4)}),this.newRadii=r.map(function(t,e){return a>=e+1?.05*t+i:r[e-a]}),e.DOM.svg({className:"hierarchy-perspective",width:this.props.layout.width,height:this.props.layout.height,style:{position:"absolute",left:this.props.layout.left,top:this.props.layout.top}},r.map(function(){return function(t){return e.DOM.circle({className:"hierarchy-circle",transform:"translate("+[m/2,l/2]+")",r:t,cx:0,cy:0})}}(this)),Object.keys(f).map(function(){return function(t){return e.DOM.circle({className:"highlight-circle",id:t,style:{opacity:1},r:f[t].r,cx:f[t].x,cy:f[t].y})}}(this)),null!=p?p.map(function(){return function(t){return n(u.extend({},t))
}}(this)):void 0)}})})}.call(this),function(){define("components/sniper",["require","d3","underscore","react","../utils"],function(t){var e,n,r,i;return r=t("d3"),i=t("underscore"),e=t("react"),n=t("../utils"),{scaleEntities:function(t){var e,n,o,a,s,u;return n=t.layout,e=t.entities,u=t.sectorBy,null!=u&&(e=i.sortBy(e,u)),a=[],e.forEach(function(){return function(e,n){var r;return a[n]=0,null!=(r=t.weightings)?r.forEach(function(r){var i,o,s,u,l,c,h,p,f;return i=t.store.attributeById[r.attribute],c=e[i.id],p=r.value,o=function(t,e,n){return null==e&&(e=0),null==n&&(n=1),Math.pow(Math.E,-((t-e)*(t-e)/(2*n*n)))/(n*Math.sqrt(2*Math.PI))},r.weight?(s="interval"===(f=i.level)||"ratio"===f?(u=i.range/35,o(c,p,u)/o(0,0,u)):"ordinal"===i.level?(l=i.values.indexOf(c),h=i.values.indexOf(p),o(l,h)/o(0)):p===c,a[n]+=s*r.weight):void 0}):void 0}}(this)),s=r.scale.sqrt().domain(r.extent(a)).range([n.radius,n.radius/10]),o=2*Math.PI/e.length/2,e.forEach(function(){return function(e,r){var i,u;return u=s(a[r]),i=r/t.entities.length*2*Math.PI,e.x=n.left+n.width/2+u*Math.cos(i-Math.PI/2+o),e.y=n.top+n.height/2+u*Math.sin(i-Math.PI/2+o)}}(this))},Rings:e.createClass({displayName:"Rings",render:function(){var t,n;return t=this.props.layout,n=r.scale.linear().domain([0,3]).range([.25*t.radius,t.radius]),e.DOM.svg({width:"100%",height:"100%"},[0,1,2,3].map(function(){return function(r){return e.DOM.circle({className:"target-ring",cx:t.left+t.width/2,cy:t.top+t.height/2,r:n(r)})}}(this)))}}),Sectors:e.createClass({displayName:"Sectors",getInitialState:function(){return{thickness:0,active:!1,hovered:null}},tweenThickness:function(t){return+this.state.thickness!==+t?r.select(this.getDOMNode()).transition().ease("cubic-out").tween("thickness",function(e){return function(){var n;return e.isMounted()&&e.setState({active:!!t}),n=r.interpolate(e.state.thickness,+t),function(t){return e.isMounted()?e.setState({thickness:n(t)}):void 0}}}(this)):void 0},componentWillReceiveProps:function(t){return i.isEqual(this.props.sectorBy,t.sectorBy)?void 0:(this.tweenThickness(!0),setTimeout(function(t){return function(){return t.tweenThickness(!1)}}(this),1400))},render:function(){var t,n,o,a,s,u;return a=this.props.layout,t={outerRadius:a.radius+26+8*this.state.thickness,innerRadius:a.radius+20,padAngle:.005},null!=this.props.sectorBy&&(n=i.groupBy(this.props.entities,this.props.sectorBy),s=i.sortBy(i.keys(n)),o=s.map(function(t){return function(e){var r,i;return(null!=(r=null!=(i=n[e])?i.length:void 0)?r:0)/t.props.entities.length*2*Math.PI}}(this))),u=0,e.DOM.svg({width:"100%",height:"100%",style:{pointerEvents:"none"}},e.createElement("g",{transform:"translate("+(a.left+a.width/2)+", "+(a.top+a.height/2)+")",style:{pointerEvents:"all",cursor:"pointer"},onMouseEnter:function(t){return function(){return window.clearInterval(t.thicknessTimeout),t.tweenThickness(!0)}}(this),onMouseLeave:function(t){return function(){return t.thicknessTimeout=window.setTimeout(function(){return t.tweenThickness(!1)},250)}}(this)},e.createElement("path",{fill:"transparent",d:r.svg.arc()({startAngle:0,endAngle:2*Math.PI,outerRadius:a.radius+26+2+8,innerRadius:a.radius+20-2})}),null!=s?s.map(function(a){return function(s,l){var c;return c={key:s,values:n[s]},e.createElement("path",{className:e.addons.classSet({sector:!0,active:!!a.state.active,hovered:s===a.state.hovered}),d:r.svg.arc()(i.extend({},t,{startAngle:u,endAngle:u+=o[l]})),onClick:function(t){return a.props.onClick(c,t.shiftKey),t.stopPropagation()},onMouseMove:function(t){var e,n,r;return e=a.getDOMNode().getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top,a.props.onBlobInspect({x:n,y:r,blob:c}),a.setState({hovered:s})},onMouseLeave:function(t){var e,n,r;return e=a.getDOMNode().getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top,a.props.onBlobInspect({x:n,y:r,blob:null}),a.setState({hovered:null})}})}}(this)):void 0))}})}})}.call(this),function(){define("components/swapping-value",["require","d3","underscore","react"],function(t){var e,n,r;return n=t("d3"),r=t("underscore"),e=t("react"),e.createClass({getInitialState:function(){return{children:null,swapKey:null,transitioning:!1}},getDefaultProps:function(){return{duration:250,ease:"cubic-in-out",delay:0}},componentWillReceiveProps:function(t){return this.props.swapKey!==t.swapKey?(this.setState(r.pick(this.props,"children","swapKey")),n.select(this.getDOMNode()).transition().duration(1e3).ease(t.ease).delay(t.delay).each("start",function(t){return function(){return t.setState({transitioning:!0})}}(this)).each("end",function(t){return function(){return t.isMounted()?t.setState({children:null,swapKey:null,transitioning:!1}):void 0}}(this))):void 0},render:function(){var t;return e.DOM.div({className:"swapping"},null!=this.state.children?(t=+!this.state.transitioning,e.DOM.div({key:this.state.swapKey,style:{transitionProperty:"opacity transform",transitionDuration:this.state.transitioning?""+this.props.duration+"ms":void 0,opacity:t,transform:"scale("+(.5+t/2)+")translate("+-50*(1-t)+"%, "+50*(1-t)+"%)"}},this.state.children)):void 0,function(n){return function(){return t=+(n.state.transitioning||null==n.state.children),e.DOM.div({key:n.props.swapKey,style:r.extend({transitionProperty:"opacity transform",transitionDuration:n.state.transitioning?""+n.props.duration+"ms":void 0,opacity:t,transform:"scale("+(.5+t/2)+")translate("+-50*(1-t)+"%, "+-50*(1-t)+"%)"},null!=n.state.children?n.props.incomingStyle:void 0)},n.props.children)}}(this)())}})})}.call(this),function(){define("components/legend",["require","react"],function(t){var e;return e=t("react"),e.createClass({displayName:"Legend",render:function(){var t,n,r,i,o,a,s,u,l,c,h,p,f,d,g;return t={},this.props.rangeBins?null!=this.props.entities&&(n=d3.extent(this.props.entities,function(t){return function(e){return e[t.props.prop]}}(this)),c=d3.scale.linear(),c.domain(n).nice(),f=c.ticks(6),i=d3.pairs(f),i.forEach(function(e,n){return t[n.toString()]=[]}),this.props.entities.forEach(function(e){return function(n){return i.forEach(function(r,i){return n[e.props.prop]>r[0]&&n[e.props.prop]<r[1]?t[i.toString()].push(n):void 0})}}(this)),p={},Object.keys(t).forEach(function(e){return function(n,r){var o,a,s,u,l;return s=i[r][0],o=i[r][1],s="function"==typeof(u=e.props.attributeById[e.props.prop]).aggregateFormat?u.aggregateFormat(s):void 0,o="function"==typeof(l=e.props.attributeById[e.props.prop]).aggregateFormat?l.aggregateFormat(o):void 0,a=s+"  "+o,p[a]=t[n]}}(this)),t=p,this.props.useBlobSizesInLegend?(u=_.find(this.props.blobs,function(){return function(t){return t.sizeValue>0&&t.r>0}}(this)),a=null!=u?u.r:void 0,d=null!=u?u.sizeValue:void 0):(l=_.find(this.props.entities,function(t){return function(e){return e[t.props.prop]>0&&e.r>0}}(this)),a=null!=l?l.r:void 0,d=null!=l?l[this.props.prop]:void 0),(null!=l||null!=u)&&(o=Math.pow(a,2)*Math.PI/d,s=[{diameter:55},{diameter:26}],s.map(function(t){return t.area=Math.pow(t.diameter/2,2)*Math.PI,t.value=t.area/o}))):t=_.groupBy(this.props.entities,this.props.prop),h=5,g=this.props.rangeBins?Object.keys(t):Object.keys(t).sort(function(){return function(e,n){return e?n?d3.descending(t[e].length,t[n].length):-1:1}}(this)),e.createElement("div",{className:"values"},g.map(function(n){return function(r){var i,o,a,s,u,l,c;return i=null!=(u=n.props.attributeById)&&null!=(l=u[n.props.prop])&&null!=(c=l.labelByValue)?c[r]:void 0,e.DOM.div({className:"value",key:""+("undefined"!=typeof attribute&&null!==attribute?attribute.name:void 0)+":"+r,style:{cursor:null!=n.props.onSelect?"pointer":void 0,minHeight:18},onClick:function(e){return n.props.onSelectGroup({values:t[r]},e.shiftKey)}},("function"==typeof(o=n.props).colorScale?o.colorScale(r):void 0)?e.DOM.div({className:"colored-bullet",style:{backgroundColor:("function"==typeof(a=n.props).colorScale?a.colorScale(r):void 0)||"none"}}):void 0,e.DOM.div({className:"text "+(r?"":"n-a"),title:r,style:{display:"inline-block",marginLeft:("function"==typeof(s=n.props).colorScale?s.colorScale(r):void 0)?2*h-3:void 0,left:0}},i||r||"n/a"),e.DOM.div({className:"count",style:{position:"absolute",display:"inline-block",right:"0px"}},"percentage"===n.props.viewNumbersAs?d3.format(".1%")(t[r].length/n.props.entities.length).replace("%"," %"):d3.format(",")(t[r].length)))}}(this)),null!=s?e.DOM.div({className:"rings",style:{height:r=d3.max(s,function(){return function(t){return t.diameter}}(this))}},s.map(function(t){return function(n){var i;return[e.DOM.div({className:"ringContainer",style:{left:r/2}},e.DOM.div({className:"ring",style:{borderRadius:"50%",marginLeft:-n.diameter/2,width:n.diameter,height:n.diameter}}),e.DOM.div({className:"ringLine"})),e.DOM.div({className:"ringLabel",style:{bottom:n.diameter-17}},"function"==typeof(i=t.props.attributeById[t.props.prop]).aggregateFormat?i.aggregateFormat(n.value):void 0)]}}(this))):void 0)}})})}.call(this),function(){define("components/selector",["require","react","./legend"],function(t){var e,n;return n=t("react"),e=n.createFactory(t("./legend")),n.createClass({displayName:"Selector",getInitialState:function(){return{expanded:null}},componentWillMount:function(){return this.props.expandedByDefault?this.setState({expanded:!0}):void 0},getDefaultProps:function(){return{options:[],nullable:!0,rangeBins:!1}},componentDidUpdate:function(t,e){var n;return e.expanded!==this.state.expanded&&"function"==typeof(n=this.props).onExpandedChange?n.onExpandedChange(this.state.expanded):void 0},componentWillReceiveProps:function(t){return this.props.selected!==t.selected?this.setState({expanded:!1}):void 0},render:function(){var t,r,i;return n.createElement("selector",{className:n.addons.classSet({expanded:this.state.expanded,selected:null!=this.props.selected,noLabel:null==this.props.heading})},null!=this.props.heading||null==this.props.selected?n.createElement("div",{className:"selector-label"},null!=(t=this.props.heading)?t:this.props.placeholder):void 0,n.createElement("div",{ref:"heading",className:"heading",onClick:function(t){return function(e){return t.setState({expanded:!t.state.expanded}),e.stopPropagation()}}(this)},n.createElement("div",{className:"selected-option"},null!=(r=null!=(i=this.props.selected)?i.name:void 0)?r:this.props.selected),n.createElement("div",{className:n.addons.classSet({clear:null!=this.props.selected&&this.props.nullable,caret:null==this.props.selected||!this.props.nullable,downfacing:!this.state.expanded}),onClick:function(t){return function(e){return null!=t.props.selected&&t.props.nullable?t.props.onSelect(null):t.setState({expanded:!t.state.expanded}),e.stopPropagation()}}(this)})),n.createElement("div",{className:"options"},this.props.options.map(function(t){return function(e){var r,i,o;return r=null!=(i=null!=(o=null!=e&&"function"==typeof e.join?e.join(", "):void 0)?o:null!=e?e.name:void 0)?i:e,n.createElement("div",{className:n.addons.classSet({value:!0,selected:_.isEqual(t.props.selected,e)}),onClick:function(n){return t.props.onSelect(e),t.setState({expanded:!1}),n.stopPropagation()}},n.DOM.span({title:r},null!=r?r:n.DOM.em(null,"n/a")))}}(this))),null!=this.props.selected?e({colorScale:this.props.colorScale,entities:this.props.entities,blobs:this.props.blobs,useBlobSizesInLegend:this.props.useBlobSizesInLegend,prop:this.props.selected,rangeBins:this.props.rangeBins,attributeById:this.props.attributeById,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs}):void 0)}})})}.call(this),function(){define("components/multiselector",["require","d3","underscore","react","./selector"],function(t){var e,n,r,i;return r=t("d3"),i=t("underscore"),e=t("react"),n=e.createFactory(t("./selector")),e.createClass({displayName:"Multiselector",getDefaultProps:function(){return{options:[]}},getInitialState:function(){return{addValue:!1}},render:function(){var t,r,o,a,s,u;return r=(null!=(o=this.props.selected)?o.length:void 0)?[].concat(this.props.selected):[null],this.state.addValue&&(r=r.concat(null)),t=1===i.compact(r).length,e.DOM.div({className:"multiselector compact"},r.map(function(t){return function(e,o){var a;return[n({heading:0===o?t.props.heading:void 0,placeholder:"Add "+(null!=(a=t.props.itemName)?a:""),selected:e,options:t.props.options,nullable:r.length>1?!0:t.props.nullable,onSelect:function(n){var r,a,s;return r=i.clone([].concat(null!=(s=t.props.selected)?s:[])),null!=n?n!==e&&(r[o]=n,null==e&&t.setState({addValue:!1})):r.splice(o,1),"function"==typeof(a=t.props).onSelect?a.onSelect(r):void 0},onExpandedChange:function(n){return n||null!=e?void 0:t.setState({addValue:!1})}})]}}(this)),!this.state.addValue&&0<(a=[].concat(null!=(s=this.props.selected)?s:[]).length)&&2>a?e.DOM.div({className:"add",onClick:function(t){return function(){return t.setState({addValue:!0})}}(this)},e.DOM.strong(null,"+"),"another "+(null!=(u=this.props.itemName)?u:"")):void 0)}})})}.call(this),function(){define("components/dropdown",["require","d3","underscore","react","scroller","./scrollbar"],function(t){var e,n,r,i,o;return i=t("d3"),o=t("underscore"),e=t("react"),r=t("scroller"),n=e.createFactory(t("./scrollbar")),e.createClass({displayName:"Dropdown",getDefaultProps:function(){return{debounceDelay:null,dropUp:!1}},getInitialState:function(){return{expanded:!1,value:null,scrollTop:null}},componentDidMount:function(){return this.scroller=new r(function(t){return function(e,n){return t.isMounted()&&t.state.scrollTop!==n?t.setState({scrollTop:n}):void 0}}(this),{bouncing:!1}),i.timer(function(t){return function(){var e,n;return t.isMounted()?t.state.expanded?(n=t.refs.scope.getDOMNode().offsetHeight,e=t.refs.content.getDOMNode().offsetHeight,t.scroller.setDimensions(0,n,0,e),t.state.scopeHeight!==n&&t.setState({scopeHeight:n}),t.state.contentHeight!==e?t.setState({contentHeight:e}):void 0):!1:!0}}(this))},render:function(){var t,r;return e.DOM.div({className:"dropdown "+(this.state.expanded?"expanded":"")},e.createElement("div",{ref:"scope",className:"scope "+(this.props.dropUp?"drop-up":"")+" sidebar",tabIndex:-1,onBlur:function(t){return function(){return t.state.expanded?t.setState({expanded:!1}):void 0}}(this),onClick:function(t){return function(){return t.state.expanded?void 0:t.setState({expanded:!0})}}(this)},e.createElement("div",{className:"values",ref:"content",style:{transform:r=this.state.expanded?"translate3d(0px, "+-this.state.scrollTop+"px, 0px)":void 0,WebkitTransform:r},onWheel:function(t){return function(e){return t.scroller.scrollBy(e.deltaX,e.deltaY),e.stopPropagation()}}(this),onTouchStart:function(t){return function(e){return t.scroller.doTouchStart(e.touches,e.timeStamp),e.stopPropagation(),e.preventDefault()}}(this),onTouchMove:function(t){return function(e){return t.scroller.doTouchMove(e.touches,e.timeStamp,e.scale),e.stopPropagation(),e.preventDefault()}}(this),onTouchEnd:t=function(t){return function(e){return t.scroller.doTouchEnd(e.timeStamp),e.stopPropagation(),e.preventDefault()}}(this),onTouchCancel:t},this.props.options.map(function(t){return function(n){var r,i;return r=!t.state.expanded&&n!==(null!=(i=t.state.value)?i:t.props.value),e.createElement("div",{key:n,className:"value "+(r?"collapsed":""),onClick:function(){var e;return t.setState({value:n,expanded:!1}),null!=t.props.debounceDelay?(window.clearTimeout(t.debounceTimeout),t.debounceTimeout=window.setTimeout(function(){var e;return"function"==typeof(e=t.props).onChange&&e.onChange(n),t.setState({value:null})},t.props.debounceDelay)):("function"==typeof(e=t.props).onChange&&e.onChange(n),t.setState({value:null}))}},e.createElement("span",{title:n,className:n?void 0:"n-a"},n||"n/a"))}}(this))),e.createElement("div",{className:"caret "+(this.state.expanded?"":"downfacing"),onClick:function(t){return function(){return t.state.expanded||t.scroller.scrollTo(0,0),t.setState({expanded:!t.state.expanded})}}(this)}),this.state.expanded?[e.createElement("div",{key:"truncation-indicator-top",className:"truncation-indicator top",style:{opacity:+(this.state.scrollTop>0)}}),e.createElement("div",{key:"truncation-indicator-bottom",className:"truncation-indicator bottom",style:{opacity:+(this.state.scrollTop<this.state.contentHeight-this.state.scopeHeight)}}),this.state.contentHeight>this.state.scopeHeight?n({style:{top:27,height:this.state.scopeHeight-27,width:5,marginLeft:-5,zIndex:1200},positionRatio:this.state.scrollTop/this.state.contentHeight,lengthRatio:this.state.scopeHeight/this.state.contentHeight,setPositionRatio:function(t){return function(e,n){var r;return null==n&&(n=!1),r=+i.format(".6f")(e*t.state.contentHeight),n?i.transition().ease("cubic-out").tween("scrollTop",function(){var e;return e=i.interpolate(t.state.scrollTop,r),function(n){return t.scroller.scrollTo(0,e(n))}}):t.scroller.scrollTo(0,r)}}(this)}):void 0]:void 0))}})})}.call(this),function(){define("components/weightings",["require","d3","underscore","react","hammer","./selector","./dropdown"],function(t){var e,n,r,i,o,a,s,u,l;return u=t("d3"),l=t("underscore"),i=t("react"),n=t("hammer"),o=i.createFactory(t("./selector")),e=i.createFactory(t("./dropdown")),r=i.createFactory(i.createClass({displayName:"NumericInput",getDefaultProps:function(){return{debounceDelay:null}},getInitialState:function(){return{editText:null}},render:function(){var t;return i.DOM.input({className:this.props.className,style:this.props.style,value:null!=(t=this.state.editText)?t:this.props.value,onChange:function(t){return function(e){var n,r;return n=e.target.value,t.setState({editText:e.target.value}),null!=t.props.debounceDelay?(window.clearTimeout(t.debounceTimeout),t.debounceTimeout=window.setTimeout(function(){var e;return"function"==typeof(e=t.props).onChange?e.onChange({target:{value:n}}):void 0},t.props.debounceDelay)):"function"==typeof(r=t.props).onChange?r.onChange(e):void 0}}(this),onBlur:function(t){return function(){return t.setState({editText:null})}}(this),onKeyDown:function(t){return function(e){return"Enter"===e.key&&t.setState({editText:null}),e.stopPropagation()}}(this)})}})),a=i.createFactory(i.createClass({displayName:"Slider",getInitialState:function(){return{hovered:!1,dragging:!1,value:null}},getDefaultProps:function(){return{width:100,debounceDelay:null,showValueLabel:!1}},onChange:function(t,e){var n,r;return null==e&&(e=!1),n=Math.max(0,Math.min(1,t/this.props.width)),null!=this.props.debounceDelay?(this.setState({value:n}),window.clearTimeout(this.debounceTimeout),this.debounceTimeout=window.setTimeout(function(t){return function(){var e;return"function"==typeof(e=t.props).onChange&&e.onChange(n),t.setState({value:null})}}(this),this.props.debounceDelay)):("function"==typeof(r=this.props).onChange&&r.onChange(n),this.setState({value:null}))},componentDidMount:function(){var t,e;return t=u.behavior.drag().on("dragstart",function(t){return function(){return u.select(document.body).classed("global-grabbing",!0),t.setState({dragging:!0})}}(this)).on("dragend",function(t){return function(){return u.select(document.body).classed("global-grabbing",!1),t.setState({dragging:!1})}}(this)).on("drag",function(t){return function(){return t.onChange(u.mouse(t.refs.inner.getDOMNode())[0])}}(this)),u.select(e=this.getDOMNode()).on("mousedown",function(t){return function(){return t.onChange(u.mouse(t.refs.inner.getDOMNode())[0],!0)}}(this)).each(function(t){return function(){return n(e,{preventDefault:!0}).on("tap",function(e){return u.event=e.srcEvent,t.onChange(u.mouse(t.refs.inner.getDOMNode())[0],!0)})}}(this)).call(t)},componentWillUpdate:function(t,e){var n,r;return n=this.state.hovered||this.state.dragging,r=e.hovered||e.dragging,this.highlightDidChange=n!==r},render:function(){var t,e,n,r,o;return r=null!=(o=this.state.value)?o:this.props.value,e=Math.round(r*this.props.width),n=this.state.hovered||this.state.dragging,t=n?"hsl(229, 6%, 63%)":"hsl(222, 12%, 37%)",i.DOM.div({className:"slider",style:{padding:"10px 5px",height:28,cursor:"pointer",display:"inline-block"},onMouseEnter:function(t){return function(){return t.setState({hovered:!0})}}(this),onMouseLeave:function(t){return function(){return t.setState({hovered:!1})}}(this)},i.DOM.div({ref:"inner",style:{width:this.props.width,position:"relative"}},i.DOM.div({className:"head",style:{height:5,position:"absolute",background:t,top:2,left:0,width:Math.max(0,e-(n?3:0)),transitionDuration:this.highlightDidChange?"100ms":void 0}}),i.DOM.div({className:"tail",style:{height:1,position:"absolute",top:4,right:0,background:t,width:Math.max(0,this.props.width-e-(n?4:1)),transitionDuration:this.highlightDidChange?"100ms":void 0}}),i.DOM.div({className:"thumb",style:{height:9,width:1,position:"absolute",left:e,background:"hsl(225, 5%, 86%)",opacity:+n}})),this.props.showValueLabel?i.DOM.div({className:"value-label",style:{left:e||2,opacity:+n}},i.DOM.span(null,u.format("%")(r))):void 0)}})),s=i.createFactory(i.createClass({displayName:"Weighting",getDefaultProps:function(){return{hideSlider:!1}},render:function(){var t,n;return i.DOM.div({className:"weighting"},this.props.hideSlider?void 0:a({value:this.props.weighting.weight,onChange:function(t){return function(e){return t.props.onChange(l.extend({},t.props.weighting,{weight:e}))}}(this),width:92,showValueLabel:!0}),i.DOM.div({className:"value-container"},"ratio"===(t=this.props.attribute.level)||"interval"===t?r({className:"naked",value:(null!=(n=this.props.attribute.format)?n:String)(this.props.weighting.value),style:{width:"date"===this.props.attribute.type?80:64},onChange:function(t){return function(e){var n;return n=t.props.attribute.parse(e.target.value),t.props.onChange(l.extend({},t.props.weighting,{value:n}))}}(this),debounceDelay:250}):e({value:this.props.weighting.value,options:this.props.attribute.values,onChange:function(t){return function(e){return t.props.onChange(l.extend({},t.props.weighting,{value:e}))}}(this),debounceDelay:100})))}})),i.createClass({displayName:"Weightings",getDefaultProps:function(){return{targetOnOptions:[]}},getInitialState:function(){return{addTarget:!1}},render:function(){var t,e,n,r;return e=(null!=(n=this.props.targetOn)?n.length:void 0)?this.props.targetOn:[null],this.state.addTarget&&(e=e.concat(null)),t=1===l.compact(e).length,i.DOM.div({className:"multiselector"},e.map(function(e){return function(n,r){return[o({heading:0===r?"Target on":void 0,placeholder:"Add target",selected:null!=n?n.attribute:void 0,options:e.props.targetOnOptions,onSelect:function(t){var i,o,a,s;return i=l.clone(null!=(a=e.props.targetOn)?a:[]),null!=t?t!==(null!=n?n.attribute:void 0)&&(i[r]=l.extend({weight:null!=(s=null!=n?n.weight:void 0)?s:.5,attribute:t,value:l.sample(e.props.store.attributeById[t].values)}),null==n&&e.setState({addTarget:!1})):i.splice(r,1),"function"==typeof(o=e.props).setWeightings?o.setWeightings(i):void 0},onExpandedChange:function(t){return t||null!=n?void 0:e.setState({addTarget:!1})}}),null!=n?s({weighting:n,attribute:e.props.store.attributeById[n.attribute],hideSlider:t,onChange:function(t){var n,i;return n=l.clone(e.props.targetOn),n[r]=t,"function"==typeof(i=e.props).setWeightings?i.setWeightings(n):void 0}}):void 0]}}(this)),!this.state.addTarget&&(null!=(r=this.props.targetOn)?r.length:void 0)?i.DOM.div({className:"add",onClick:function(t){return function(){return t.setState({addTarget:!0})}}(this)},i.DOM.strong(null,"+"),"another target"):void 0)}})})}.call(this),function(){define("components/histogram",["d3","underscore","react"],function(t,e,n){return n.createClass({displayName:"Histogram",scale:null,componentDidMount:function(){return this.forceUpdate()},nearestTick:function(e,n){var r;return(r=t.scale.quantile().domain([n[0],n[n.length-1]]).range(n))(e)},componentDidUpdate:function(){var e,n,r,i,o,a;return null==this.scale?null:(e=t.svg.axis().scale(this.scale).orient("bottom").tickValues(this.scale.ticks(10)).tickFormat(function(t){return function(e,n){var r,i,o,a;return n%4===0?(null!=(r=null!=(i=null!=(o=t.props.attribute)?o.aggregateFormat:void 0)?i:null!=(a=t.props.attribute)?a.format:void 0)?r:String)(e):void 0}}(this)),t.select(null!=(o=this.refs.axis)?o.getDOMNode():void 0).call(e),n=t.svg.brush().x(this.scale).on("brush",function(e){return function(){var r,i;return r=n.extent(),r[0]=e.nearestTick(r[0],e.scale.ticks(20)),r[1]=e.nearestTick(r[1],e.scale.ticks(20)),t.select(null!=(i=e.refs.brush)?i.getDOMNode():void 0).call(n.extent(r))}}(this)).on("brushend",function(e){return function(){var r;return r=n.extent(),e.props.onSelect(t.event.sourceEvent.shiftKey,r),n.extent([0,0])}}(this)),i=t.select(null!=(a=this.refs.brush)?a.getDOMNode():void 0).call(n),i.selectAll("rect").attr("height",r=75).filter(".extent").classed("area-selection",!0))},render:function(){var e,r,i,o,a,s;return s=this.props,i=s.entities,e=s.attribute,a=s.width,null==e?null:(this.scale=t.scale.linear(),this.scale.domain(t.extent(i,function(){return function(t){return t[e.id]}}(this))).range([0,a]),this.scale.nice(),o=t.layout.histogram().bins(this.scale.ticks(20)).value(function(){return function(t){return t[e.id]}}(this)),r=o(i),this.yScale=t.scale.linear().domain(t.extent(r,function(t){return t.y})).range([0,75]),n.DOM.svg({width:236,height:110,className:"histogram"},n.DOM.g({transform:"translate(10, 8)"},r.map(function(t){return function(e){return n.DOM.rect({x:t.scale(e.x)+.5,y:75-t.yScale(e.y),width:t.scale(e.x+e.dx)-t.scale(e.x)-1,height:t.yScale(e.y),fill:"#999"})}}(this))),n.DOM.g({ref:"axis",className:"axis",transform:"translate(10, 85)"}),n.DOM.g({ref:"brush",className:"brush",transform:"translate(10, 8)"})))}})})}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("components/sidebar",["require","d3","underscore","react","scroller","./swapping-value","./selector","./multiselector","./weightings","./scrollbar","./histogram"],function(e){var n,r,i,o,a,s,u,l,c,h;return c=e("d3"),h=e("underscore"),i=e("react"),a=e("scroller"),u=i.createFactory(e("./swapping-value")),s=i.createFactory(e("./selector")),r=i.createFactory(e("./multiselector")),l=i.createFactory(e("./weightings")),o=i.createFactory(e("./scrollbar")),n=i.createFactory(e("./histogram")),i.createClass({displayName:"Sidebar",getDefaultProps:function(){return{perspectiveOptions:["table","bar chart","cluster","scatter","map","hierarchy","talent target"]}},getInitialState:function(){return{scrollTop:0,hideOverflowYOnly:!0}},componentWillMount:function(){return this.scroller=new a(function(t){return function(e,n){var r;return r={},t.state.scrollTop!==n&&(r.scrollTop=n),h.size(r)&&t.isMounted()?t.setState(r):void 0}}(this),{bouncing:!1})},componentDidMount:function(){return c.timer(function(t){return function(){var e,n,r,i;return t.isMounted()?(r=t.scroller.getValues().top>=(i=t.state.contentHeight-t.state.scopeHeight)&&i>0,n=t.refs.scope.getDOMNode().offsetHeight,e=t.refs.content.getDOMNode().offsetHeight,t.scroller.setDimensions(0,n,0,e),r&&t.scroller.scrollTo(0,e-n),t.state.scopeHeight!==n&&t.setState({scopeHeight:n}),t.state.contentHeight!==e?t.setState({contentHeight:e}):void 0):!0}}(this))},render:function(){var e,a,p,f,d,g,v,m,y;return a=155,p=!1,i.createElement("sidebar",{style:this.props.style},i.createElement("scope",{ref:"scope",style:{width:this.props.style.width,height:this.props.style.height-155,top:a,overflow:this.state.hideOverflowYOnly?"visible":void 0}},this.state.hideOverflowYOnly?[i.DOM.div({className:"shade",style:{bottom:"100%",width:this.props.style.width+20,height:this.state.contentHeight-this.state.scopeHeight}}),i.DOM.div({className:"shade",style:{top:"100%",width:this.props.style.width+20,height:this.state.contentHeight-this.state.scopeHeight}})]:void 0,i.createElement("content",{ref:"content",style:{position:"absolute",width:this.props.style.width,transform:f="translate3d(0px, "+-this.state.scrollTop+"px, 0px)",WebkitTransform:f},onWheel:function(t){return function(e){var n,r;return n=e.deltaX,r=e.deltaY,t.scroller.scrollBy(n,r)}}(this),onTouchStart:function(t){return function(e){return t.scroller.doTouchStart(e.touches,e.timeStamp),e.preventDefault()}}(this),onTouchMove:function(t){return function(e){return t.scroller.doTouchMove(e.touches,e.timeStamp,e.scale),e.preventDefault()}}(this),onTouchEnd:e=function(t){return function(e){return t.scroller.doTouchEnd(e.timeStamp),e.preventDefault()}}(this),onTouchCancel:e},function(){switch(this.props.perspective){case"talent target":return p||(p=null!=this.props.sectorBy),[l({targetOn:this.props.targetOn,targetOnOptions:this.props.targetOnOptions,setWeightings:this.props.setTargetOn,store:this.props.store}),s({key:"sectorBy",heading:"Sector by",selected:this.props.sectorBy,options:this.props.sectorByOptions,onSelect:this.props.setSectorBy,entities:this.props.entities,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs})];case"cluster":return p||(p=this.props.clusterBy),s({key:"clusterBy",heading:"Cluster by",selected:this.props.clusterBy,options:this.props.clusterByOptions,onSelect:this.props.setClusterBy,entities:this.props.entities,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs});case"scatter":return[s({key:"scatterXBy",heading:"X-axis value",selected:this.props.scatterXBy,options:this.props.scatterXByOptions,onSelect:this.props.setScatterXBy,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs}),s({key:"scatterYBy",heading:"Y-axis value",selected:this.props.scatterYBy,options:this.props.scatterYByOptions,onSelect:this.props.setScatterYBy,nullable:!1,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs})];case"bar chart":return p||(p=null!=this.props.colorBy),[r({key:"sizeBarBy",itemName:"bar",heading:"Size by",selected:this.props.sizeBarBy,options:this.props.sizeBarByOptions,onSelect:this.props.setSizeBarBy,nullable:!1}),s({key:"rankBarBy",heading:"Rank by",selected:this.props.rankBarBy,options:this.props.rankBarByOptions,onSelect:this.props.setRankBarBy,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs}),s({key:"colorBy",heading:"Color by",selected:this.props.colorBy,options:this.props.colorByOptions,onSelect:this.props.setColorBy,colorScale:this.props.colorScale,entities:this.props.entities,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs})]}}.call(this),"table"!==(d=this.props.perspective)&&"bar chart"!==d?(p||(p=null!=this.props.colorBy||null!=this.props.sizeBy),[(null!=(g=this.props.colorByOptions)?g.length:void 0)?s({key:"colorBy",heading:"Color by",selected:this.props.colorBy,options:this.props.colorByOptions,onSelect:this.props.setColorBy,colorScale:this.props.colorScale,entities:this.props.entities,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs,attributeById:this.props.attributeById}):void 0,(null!=(v=this.props.sizeByOptions)?v.length:void 0)?s({key:"sizeBy",heading:"Size by",selected:this.props.sizeBy,options:this.props.sizeByOptions,onSelect:this.props.setSizeBy,entities:this.props.entities,blobs:this.props.blobs,useBlobSizesInLegend:this.props.useBlobSizesInLegend,nullable:!0,rangeBins:!0,attributeById:this.props.attributeById,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs}):void 0]):void 0,"table"!==(m=this.props.perspective)?[s({key:"filterBy",heading:"Filter By",selected:this.props.filterBy,options:this.props.filterByOptions,onSelect:this.props.setFilterBy,nullable:!0,onSelectGroup:this.props.onSelectGroup,viewNumbersAs:this.props.viewNumbersAs}),n({entities:this.props.entities,attribute:null!=(y=this.props.attributeById)?y[this.props.filterBy]:void 0,width:this.props.style.width-20,onSelect:this.props.onHistogramFilter})]:void 0,p?i.DOM.div({className:"viewNumbersAs"},i.DOM.div({className:"label"},"View numbers as"),i.DOM.div({className:"controls",style:{height:24}},["percentage","count"].map(function(t){return function(e){return i.DOM.span({className:"control"+(t.props.viewNumbersAs===e?" active":""),onClick:function(){return t.props.setViewNumbersAs(e)
}},e)}}(this)))):void 0)),this.state.contentHeight>this.state.scopeHeight?[o({style:{top:a,height:this.state.scopeHeight,width:5,marginLeft:20,zIndex:350},positionRatio:this.state.scrollTop/this.state.contentHeight,lengthRatio:this.state.scopeHeight/this.state.contentHeight,setPositionRatio:function(t){return function(e,n){var r;return null==n&&(n=!1),r=+c.format(".6f")(e*t.state.contentHeight),n?c.transition().ease("cubic-out").tween("scrollTop",function(){var e;return e=c.interpolate(t.state.scrollTop,r),function(n){return t.scroller.scrollTo(0,e(n))}}):t.scroller.scrollTo(0,r)}}(this)}),i.createElement("div",{key:"truncation-indicator-top",className:"truncation-indicator top",style:{width:this.props.style.width,opacity:+(this.state.scrollTop>0),top:a}}),i.createElement("div",{key:"truncation-indicator-bottom",className:"truncation-indicator bottom",style:{width:this.props.style.width,opacity:+(this.state.scrollTop<this.state.contentHeight-this.state.scopeHeight)}})]:void 0,i.createElement("perspectives",null,this.props.perspectiveOptions.map(function(e){return function(n){var r,o;return r=null!=(o=t.call(e.props.disabledPerspectives,n)>=0)?o:[],i.createElement("icon",{className:i.addons.classSet(h.object([["current",n===e.props.perspective],[n.replace(/\s/g,""),!0],["unavailable",r],["disabled",r]])),onClick:r?void 0:function(){return e.props.setPerspective(n)},title:n.capitalize()+(r?" (unavailable for this data)":"")})}}(this))),i.createElement("heading",null,u({swapKey:this.props.perspective,duration:300,incomingStyle:{marginTop:-46}},this.props.perspective)),i.createElement("subheading",null,this.props.subheading))}})})}.call(this),function(){define("components/flag-select-dropdown",["require","d3","underscore","react","scroller","./scrollbar"],function(t){var e,n,r,i,o;return i=t("d3"),o=t("underscore"),e=t("react"),r=t("scroller"),n=t("./scrollbar"),e.createClass({displayName:"Dropdown",getDefaultProps:function(){return{debounceDelay:null,dropUp:!1}},getInitialState:function(){return{expanded:!0,value:null,scrollTop:null}},componentDidMount:function(){return this.scroller=new r(function(t){return function(e,n){return t.isMounted()&&t.state.scrollTop!==n?t.setState({scrollTop:n}):void 0}}(this)),i.timer(function(t){return function(){var e,n;return t.isMounted()?t.state.expanded?(n=t.refs.scope.getDOMNode().offsetHeight,e=t.refs.content.getDOMNode().offsetHeight,t.scroller.setDimensions(0,n,0,e),t.state.scopeHeight!==n&&t.setState({scopeHeight:n}),t.state.contentHeight!==e?t.setState({contentHeight:e}):void 0):!1:!0}}(this))},render:function(){var t,r;return e.DOM.div({className:e.addons.classSet({dropdown:!0,expanded:this.state.expanded}),style:{marginLeft:-this.props.offset,marginTop:-1},onClick:function(t){return function(){return t.state.expanded?void 0:t.setState({expanded:!t.state.expanded})}}(this)},e.createElement("div",{ref:"scope",className:"scope "+(this.props.dropUp?"drop-up":"")},e.createElement("div",{className:"values",ref:"content",style:{transform:r=this.state.expanded?"translate3d(0px, "+-this.state.scrollTop+"px, 0px)":void 0,WebkitTransform:r},onWheel:function(t){return function(e){return t.scroller.scrollBy(e.deltaX,e.deltaY),e.stopPropagation()}}(this),onTouchStart:function(t){return function(e){return t.scroller.doTouchStart(e.touches,e.timeStamp),e.preventDefault()}}(this),onTouchMove:function(t){return function(e){return t.scroller.doTouchMove(e.touches,e.timeStamp,e.scale),e.preventDefault()}}(this),onTouchEnd:t=function(t){return function(e){return t.scroller.doTouchEnd(e.timeStamp),e.preventDefault()}}(this),onTouchCancel:t},this.props.options.map(function(t){return function(n){var r;return r=!t.state.expanded,e.createElement("div",{key:n,className:"value "+(r?"collapsed":""),onClick:function(){var e;return t.setState({value:n}),null!=t.props.debounceDelay?(window.clearTimeout(t.debounceTimeout),t.debounceTimeout=window.setTimeout(function(){var e;return"function"==typeof(e=t.props).onChange&&e.onChange(n),t.isMounted()?t.setState({value:null}):void 0},t.props.debounceDelay)):("function"==typeof(e=t.props).onChange&&e.onChange(n),t.setState({value:null}))}},e.createElement("span",{title:n,className:n?void 0:"n-a"},n||"n/a"))}}(this))),this.state.expanded?[e.createElement("div",{key:"truncation-indicator-top",className:"truncation-indicator top",style:{opacity:+(this.state.scrollTop>0)}}),e.createElement("div",{key:"truncation-indicator-bottom",className:"truncation-indicator bottom",style:{opacity:+(this.state.scrollTop<this.state.contentHeight-this.state.scopeHeight)}}),this.state.contentHeight>this.state.scopeHeight?n({style:{top:0,height:this.state.scopeHeight,width:5,marginLeft:-5,zIndex:1200},positionRatio:this.state.scrollTop/this.state.contentHeight,lengthRatio:this.state.scopeHeight/this.state.contentHeight,setPositionRatio:function(t){return function(e,n){var r;return null==n&&(n=!1),r=+i.format(".6f")(e*t.state.contentHeight),n?i.transition().ease("cubic-out").tween("scrollTop",function(){var e;return e=i.interpolate(t.state.scrollTop,r),function(n){return t.scroller.scrollTo(0,e(n))}}):t.scroller.scrollTo(0,r)}}(this)}):void 0]:void 0))}})})}.call(this),function(){define("components/flag-selector",["require","d3","underscore","react","./flag-select-dropdown"],function(t){var e,n,r,i,o;return i=t("d3"),o=t("underscore"),r=t("react"),n=r.createFactory(t("./flag-select-dropdown")),e=r.createFactory(r.createClass({displayName:"Flag",getInitialState:function(){return{highlighted:!0}},componentWillMount:function(){return this.choices=[]},componentDidMount:function(){return o.defer(function(t){return function(){return t.isMounted()?t.setState({highlighted:!1}):void 0}}(this))},render:function(){return r.createElement("span",{className:r.addons.classSet({"flag-item":!0,highlighted:this.state.highlighted,unrecognized:this.props.unrecognized}),onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick},this.props.value,r.createElement("x",{onClick:this.props.onClear}))}})),r.createClass({displayName:"FlagSelector",choices:[],getDefaultProps:function(){return{flags:[],choiceHeight:33,scopeHeight:318}},getInitialState:function(){return{scrollTop:0,index:0,query:null}},componentWillUpdate:function(t,e){return null==(null!=e?e.query:void 0)?void(this.choices=[]):(this.choices=Object.keys(this.props.entityById).filter(function(){return function(t){return new RegExp("\\s"+e.query,"i").test(" "+t)}}(this)),this.choices=this.choices.filter(function(){return function(e){var n;return-1===(null!=(n=t.flags)?n:[]).indexOf(e)}}(this)))},render:function(){var t,i;return r.createElement("div",{className:"flag-selector "+(this.state.focused?"focused":""),tabIndex:-1},r.createElement("label",{htmlFor:"flag-selector-input"},r.createElement("icon",{className:"disabled"})),null!=(t=this.props.flags)?t.map(function(t){return function(n){var r,i;return e({key:n,value:null!=(r=null!=(i=t.props.entityById[n])?i[t.props.flagAttribute]:void 0)?r:n,unrecognized:null==t.props.entityById[n],onClear:function(e){var r;return r=[].concat(t.props.flags),r.splice(r.indexOf(n),1),t.props.setFlags(r),e.stopPropagation()},onClick:function(){var e;return null!=t.props.entityById[n]&&"function"==typeof(e=t.props).reveal?e.reveal(n):void 0},onDoubleClick:function(){return t.props.onDetail(n)}})}}(this)):void 0,r.DOM.div({id:"flag-drop",style:{display:"inline-block"}},r.createElement("input",{className:"naked",ref:"input",id:"flag-selector-input",type:"text",placeholder:(null!=(i=this.props.flags)?i.length:void 0)?void 0:"SEARCH",onFocus:function(t){return function(){return t.setState({focused:!0}),t.refs["flag-select-dropdown"].setState({expanded:!0})}}(this),onBlur:function(t){return function(){return t.setState({focused:!1}),t.getDOMNode().scrollLeft=0,o.defer(function(){return t.getDOMNode()===document.activeElement?t.refs.input.getDOMNode().focus():t.refs["flag-select-dropdown"].setState({expanded:!1})})}}(this),onChange:function(t){return function(e){return t.setState({query:e.target.value}),t.refs["flag-select-dropdown"].setState({expanded:!0})}}(this),onKeyDown:function(t){return function(e){var n,r,i,o;switch(e.stopPropagation(),e.key){case"Enter":if(""===e.target.value)return t.props.onDetail(t.props.flags.slice(-1)[0]);if(n=e.target.value,t.props.setFlags((null!=(o=t.props.flags)?o:[]).concat(n)),e.target.value="",null!=t.props.entityById[n])return"function"==typeof(i=t.props).reveal?i.reveal(n):void 0;break;case"Backspace":if(""===e.target.value&&t.props.flags.length)return r=[].concat(t.props.flags),e.target.value=r.pop(),t.props.setFlags(r),e.preventDefault();break;case"Escape":return e.target.blur()}}}(this)}),n({ref:"flag-select-dropdown",value:this.choices[0],options:this.choices,offset:this.state.offset,onChange:function(t){return function(e){var n,r,i;return n=e,t.props.setFlags((null!=(i=t.props.flags)?i:[]).concat(n)),null!=t.props.entityById[n]&&"function"==typeof(r=t.props).reveal&&r.reveal(n),t.refs.input.getDOMNode().value="",t.setState({query:null})}}(this),debounceDelay:100})))}})})}.call(this),function(){define("components/flags",["require","d3","underscore","react"],function(t){var e,n,r,i;return r=t("d3"),i=t("underscore"),n=t("react"),e=n.createFactory(n.createClass({displayName:"Flag",getInitialState:function(){return{presence:1}},componentWillEnter:function(t){return this.setState({presence:0}),r.select(this.getDOMNode()).transition().tween("flag",function(t){return function(){return function(e){return t.isMounted()?t.setState({presence:e}):void 0}}}(this)).each("end",t)},componentWillLeave:function(t){return r.select(this.getDOMNode()).transition().tween("flag",function(t){return function(){return function(e){return t.isMounted()?t.setState({presence:1-e}):void 0}}}(this)).each("end",t)},componentDidUpdate:function(){var t;return t=r.select(this.refs.contents.getDOMNode())},render:function(){var t,e,r,i;return t=this.props.entity,e=t.x+5*(1-this.state.presence)-this.props.offset.left,i=t.y+-5*(1-this.state.presence)+this.props.offset.top-this.props.offset.barMarginCorrection,this.props.positionAtEnd?(e+=t.width,r=100>i?"bottom ":"top ",r+=this.props.containerWidth-e<300?"left":"right"):r="top right",n.createElement("flag",{className:r,style:{left:Math.round(e),top:Math.round(i),transitionDuration:this.state.presence<1||!this.props.shouldTransition?"0ms":void 0,opacity:this.state.presence}},n.createElement("div",{ref:"contents",className:"contents"},t[this.props.flagAttribute]),n.DOM.svg({className:"arrow",width:16,height:16},n.DOM.path({d:"M 10 0 L 0 16 L 16 6"})))}})),n.createClass({displayName:"Flags",componentDidUpdate:function(){return this.props.renderFinished()},render:function(){var t;return n.createFactory(n.addons.TransitionGroup)({component:"flags",style:this.props.style},null!=(t=this.props.entities)?t.filter(function(t){return null!=t}).map(function(t){return function(n){return e({key:n.id,entity:n,flagAttribute:t.props.flagAttribute,shouldTransition:t.props.shouldTransition,offset:t.props.offset,containerWidth:t.props.width,positionAtEnd:t.props.positionAtEnd})}}(this)):void 0,this.props.bubble)}})})}.call(this),function(){define("components/transitioning-value",["require","d3","react"],function(t){var e,n;return n=t("d3"),e=t("react"),e.createClass({displayName:"TransitioningValue",propTypes:{value:e.PropTypes.number.isRequired,defaultValue:e.PropTypes.number,format:e.PropTypes.func,duration:e.PropTypes.number,ease:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.func]),delay:e.PropTypes.number,suffixSplit:e.PropTypes.func},getDefaultProps:function(){return{defaultValue:0,ease:"cubic-out",suffixSplit:null}},tween:function(t,e,r){var i,o,a,s,u;for(o=n.select(this.getDOMNode()).transition(),u=["duration","ease","delay"],a=0,s=u.length;s>a;a++)i=u[a],null!=r[i]&&o[i](r[i]);return null==t||null==e?o.duration(0).each("end",function(t){return function(){return t.isMounted()?t.setState({value:e}):void 0}}(this)):o.tween("value",function(r){return function(){var i;return i=n.interpolate(t,e),function(t){return r.isMounted()?r.setState({value:i(t)}):void 0}}}(this))},componentWillMount:function(){var t;return this.setState({value:null!=(t=this.props.defaultValue)?t:this.props.value})},componentDidMount:function(){return null!=this.props.defaultValue?this.tween(this.props.defaultValue,this.props.value,this.props):void 0},componentWillReceiveProps:function(t){return _.isEqual(this.props.value,t.value)?void 0:this.tween(this.state.value,t.value,t)},render:function(){var t,n,r,i,o;return t=null!=this.state.value?(null!=(i=this.props.format)?i:String)(this.state.value):"",e.createElement("span",{style:this.props.style},this.props.suffixSplit?(o=this.props.suffixSplit(t),n=o[0],r=o[1],o,[e.DOM.span({className:"number"},n),e.DOM.span({className:"suffix"},r)]):t)}})})}.call(this),function(){var t=[].slice;define("components/filter-indicator",["require","d3","underscore","react","./transitioning-value"],function(e){var n,r,i,o;return i=e("d3"),o=e("underscore"),n=e("react"),r=n.createFactory(e("./transitioning-value")),n.createClass({displayName:"FilterIndicator",render:function(){var e,a;return e=o.size(this.props.selected),n.DOM.div({className:"filter-indicator"},n.createFactory(n.addons.CSSTransitionGroup).apply(null,[{className:"filters",transitionName:"filter",component:"div"},n.DOM.span({className:"label"},(null!=(a=this.props.groupCountLabel[0])?a:this.props.groupCountLabel)+":"),function(t){return function(){var e,o,a,s;return e=-1,o=e===t.props.filters.length-1,n.DOM.div({key:e,className:n.addons.classSet({filter:!0,last:o}),onClick:o?void 0:function(e){return t.props.onClearFilters(),e.stopPropagation()}},r({value:null!=(a=null!=(s=t.props.entities)?s.length:void 0)?a:0,format:i.format(",f"),duration:600}))}}(this)()].concat(t.call(this.props.filters.map(function(t){return function(e,o){var a,s,u;return a=i.keys(e).filter(function(t){return e[t]}),s=o===t.props.filters.length-1,n.DOM.div({key:o,className:n.addons.classSet({filter:!0,last:s}),onClick:s?void 0:function(e){return t.props.onClearFilters(o),e.stopPropagation()}},r({value:null!=(u=a.length)?u:0,format:i.format(",f"),duration:600}))}}(this))),[e?n.DOM.div({key:this.props.filters.length,className:n.addons.classSet({filter:!0,selection:!0}),onClick:function(t){return function(e){return t.props.onIsolateSelection(),e.stopPropagation()}}(this)},r({value:e,format:i.format(",f"),duration:600})):void 0])),n.DOM.div({className:"divider"}),n.DOM.div({className:"view-report-btn disabled",title:"View report (unavailable for this data)"},"View report"))}})})}.call(this),function(){define("components/aggregate-stats",["require","d3","underscore","react","./selector"],function(t){var e,n,r,i,o;return i=t("d3"),o=t("underscore"),n=t("react"),r=n.createFactory(t("./selector")),e=n.createFactory(n.createClass({displayName:"Figure",componentWillMount:function(){return this.setState({value:this.props.value})},componentWillReceiveProps:function(t){return o.isEqual(this.props.value,t.value)?void 0:i.select(this.getDOMNode()).transition().tween("value",function(e){return function(){var n;return n=i.interpolate(e.state.value,t.value),function(t){return e.isMounted()?e.setState({value:n(t)}):void 0}}}(this))},render:function(){var t,e,r,i,o,a,s,u,l;return t=null!=(o=null!=(a=null!=(s=this.props.attribute)?s.aggregateFormat:void 0)?a:null!=(u=this.props.attribute)?u.format:void 0)?o:String,e=t(this.state.value),l=e.split(/\s/),r=l[0],i=l[1],n.DOM.div({className:"figure",style:{width:75}},n.DOM.div({className:"label"},this.props.label),n.DOM.div({className:"value"},n.DOM.span({className:"number"},r),n.DOM.span({className:"suffix"},i)))}})),n.createClass({displayName:"AggregateStats",render:function(){return n.DOM.div({className:"aggregate-stats",style:{width:163}},null!=this.props.aggregateBy?n.DOM.div({className:"figures"},e({label:"Total",value:i.sum(this.props.entities,function(t){return function(e){var n;return null!=(n=e[t.props.aggregateBy])?n:0}}(this)),attribute:this.props.store.attributeById[this.props.aggregateBy]}),e({label:"Average",value:i.mean(this.props.entities,function(t){return function(e){var n;return null!=(n=e[t.props.aggregateBy])?n:0}}(this)),attribute:this.props.store.attributeById[this.props.aggregateBy]})):void 0,r({placeholder:"Stats",selected:this.props.aggregateBy,options:this.props.options,onSelect:this.props.setAggregateBy,collapsedByDefault:!0,nullable:!1}))}})})}.call(this),function(){define("components/bubble",["require","d3","underscore","react"],function(t){var e,n,r;return n=t("d3"),r=t("underscore"),e=t("react"),e.createClass({displayName:"Bubble",getInitialState:function(){return{data:null,presence:1}},componentWillReceiveProps:function(t){return null!=t.data?(this.setState({data:t.data,position:t.position}),this.newData=!r.isEqual(this.props.data,t.data)):void 0},componentDidUpdate:function(t){var e,i,o,a,s,u,l,c,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S;if("contents"in this.refs)return s=null!=(m=this.refs.header)?m.getDOMNode():void 0,i=null!=(y=this.refs.body)?y.getDOMNode():void 0,l=null!=(M=this.refs.hierarchyInfoBody)?M.getDOMNode():void 0,v=Math.max(null!=(b=null!=s?s.offsetWidth:void 0)?b:0,null!=(E=null!=i?i.offsetWidth:void 0)?E:0),u=(null!=(x=null!=s?s.offsetHeight:void 0)?x:0)+(null!=(w=null!=i?i.offsetHeight:void 0)?w:0)+(null!=(_=null!=l?l.offsetHeight:void 0)?_:0),o=20,d=[this.props.position.x+v+o>this.props.size[0]?"left":"right",this.props.position.y-u-o<0?"bottom":"top"],n.select(this.getDOMNode()).attr("class",d.join(" ")),null==this.props.data&&(v=u=0),n.select(this.refs.contents.getDOMNode()).style({width:v+"px",height:u+"px",left:"right"===d[0]?0:-v-o+"px",top:"bottom"===d[1]?0:-u-o+"px"}).classed("washed",this.newData),this.newData&&r.defer(function(t){return function(){return t.isMounted()?n.select(t.refs.contents.getDOMNode()).classed("washed",!1):void 0}}(this)),r.isEqual(this.orientation,d)?void 0:(this.orientation=d,e=n.select(this.refs.arrow.getDOMNode()),g=e.node().style,f=+(null!=(S=g.transform)?S:g.webkitTransform).replace(/[^\d]/g,""),h="left"===d[0]?"top"===d[1]?270:180:"top"===d[1]?0:90,p=f%360>=0?f%360:f%360+360,c=h%360>=0?h%360:h%360+360,a=c-p,this.newRotate=f+a+(a>180?-360:-180>a?360:0),this.props.data&&null==t.data?e.style("transition-duration",0):e.style("transition-duration",null),e.style("-webkit-transform","rotate("+this.newRotate+"deg)"),e.style("transform","rotate("+this.newRotate+"deg)"))},render:function(){var t,i,o,a,s,u,l,c,h,p,f,d,g,v;return e.createElement("bubble",{style:{left:null!=(s=null!=(u=this.state.position)?u.x:void 0)?s:0,top:null!=(l=null!=(c=this.state.position)?c.y:void 0)?l:0,opacity:+(null!=this.props.data)}},e.createElement("div",{className:"contents",ref:"contents"},null!=this.state.data?(t=this.state.data.isBlobSet?n.merge(this.state.data.values.map(function(){return function(t){var e;return null!=(e=t.values)?e:[t]}}(this))):null!=this.state.data.id?null:this.state.data.values,[e.createElement("div",{className:"header",ref:"header",key:"header"},null==t?(o=null!=(h=null!=(p=this.props.options)?p.heading:void 0)?h:"id",[e.DOM.div({key:"heading",className:"heading"},r.isArray(o)?o.map(function(t){return function(e){return t.state.data[e]}}(this)).join(" "):this.state.data[o]),null!=(a=null!=(f=this.props.options)?f.subheading:void 0)?e.DOM.div({key:"subheading",className:"subheading"},r.isArray(a)?a.map(function(t){return function(e){return t.state.data[e]}}(this)).join(" / "):this.state.data[a]):void 0]):this.state.data.key.split("/").reverse().map(function(t){return function(r,i){var o,a;return o=0===i?"heading":"subheading",a="subheading"===o&&null!=t.state.data.percentOf,e.DOM.div({key:o,className:o},a?n.format(".1%")(t.state.data.percentOf)+" of ":void 0,e.DOM.span({style:{textTransform:a?"uppercase":void 0}},r||"n/a"))}}(this))),t||(null!=(d=this.props.attributes)?d.length:void 0)?e.createElement("div",{className:"body",ref:"body",key:"body"},t?(i=n.format(",")(t.length),e.DOM.div({key:"__count__",className:"figure"},e.DOM.div({className:"name"},null!=(g=this.props.groupCountLabel[1])?g:this.props.groupCountLabel),e.DOM.div({className:"value"},i))):void 0,null!=(v=this.props.attributes)?v.map(function(r){return function(o){var a,s,u,l,c;if(null==o)return null;if(null==t)i=(null!=(s=o.format)?s:String)(r.state.data[o.id]);else{if("ratio"!==o.level)return null;a=n.sum(t,function(t){return t[o.id]}),i=(null!=(u=null!=(l=o.aggregateFormat)?l:o.format)?u:String)(a)}return e.DOM.div({key:o.id,className:"figure"},e.DOM.div({className:"name"},null!=(c=o.label)?c:o.id),e.DOM.div({className:"value"},i))}}(this)):void 0):void 0,null!=this.props.hierarchyInfo?e.createElement("div",{className:"body",ref:"hierarchyInfoBody",key:"hierarchyInfoBody"},e.DOM.div({key:"hierarchy",className:"figure"},e.DOM.div({className:"name"},this.props.hierarchyInfo),e.DOM.div({className:"value"},""))):void 0]):void 0),e.DOM.svg({className:"arrow",ref:"arrow",width:16,height:16},e.DOM.path({d:"M 10 0 L 0 16 L 16 6"})))}})})}.call(this),function(){define("components/scrollable",["require","d3","underscore","react","scroller","./scrollbar"],function(t){var e,n,r,i,o;return i=t("d3"),o=t("underscore"),e=t("react"),r=t("scroller"),n=e.createFactory(t("./scrollbar")),e.createClass({displayName:"Scrollable",getInitialState:function(){return{scrollTop:null}},getDefaultProps:function(){return{scrollbarMargin:0}},componentDidMount:function(){return this.scroller=new r(function(t){return function(e,n){return t.isMounted()&&t.state.scrollTop!==n?t.setState({scrollTop:n}):void 0}}(this),{bouncing:!1}),i.timer(function(t){return function(){var e,n;return t.isMounted()?(n=t.refs.scope.getDOMNode().offsetHeight,e=t.refs.content.getDOMNode().offsetHeight,t.scroller.setDimensions(0,n,0,e),t.state.scopeHeight!==n&&t.setState({scopeHeight:n}),t.state.contentHeight!==e?t.setState({contentHeight:e}):void 0):!0}}(this))},render:function(){var t,r;return e.createElement("div",{ref:"scope",className:"scrollable "+(this.state.contentHeight>this.state.scopeHeight?"overflow":""),style:o.extend(this.props.style,{position:"relative",overflow:"hidden"})},e.createElement("div",{ref:"content",style:{transform:r="translate3d(0px, "+-this.state.scrollTop+"px, 0px)",WebkitTransform:r},onWheel:function(t){return function(e){return t.scroller.scrollBy(e.deltaX,e.deltaY),e.stopPropagation(),e.preventDefault()}}(this),onTouchStart:function(t){return function(e){return t.scroller.doTouchStart(e.touches,e.timeStamp),e.stopPropagation(),e.preventDefault()}}(this),onTouchMove:function(t){return function(e){return t.scroller.doTouchMove(e.touches,e.timeStamp,e.scale),e.stopPropagation(),e.preventDefault()}}(this),onTouchEnd:t=function(t){return function(e){return t.scroller.doTouchEnd(e.timeStamp),e.stopPropagation(),e.preventDefault()}}(this),onTouchCancel:t},this.props.children),e.createElement("div",{key:"truncation-indicator-top",className:"truncation-indicator top",style:{opacity:+(this.state.scrollTop>0)}}),e.createElement("div",{key:"truncation-indicator-bottom",className:"truncation-indicator bottom",style:{opacity:+(this.state.scrollTop<this.state.contentHeight-this.state.scopeHeight)}}),this.state.contentHeight>this.state.scopeHeight?n({style:o.extend({top:this.props.scrollbarMargin,height:this.state.scopeHeight-2*this.props.scrollbarMargin,width:5,marginLeft:-5,zIndex:1200},this.props.scrollbarStyle),positionRatio:this.state.scrollTop/this.state.contentHeight,lengthRatio:this.state.scopeHeight/this.state.contentHeight,setPositionRatio:function(t){return function(e,n){var r;return null==n&&(n=!1),r=+i.format(".6f")(e*t.state.contentHeight),n?i.transition().ease("cubic-out").tween("scrollTop",function(){var e;return e=i.interpolate(t.state.scrollTop,r),function(n){return t.scroller.scrollTo(0,e(n))}}):t.scroller.scrollTo(0,r)}}(this)}):void 0)}})})}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("components/detail",["require","d3","underscore","react","./transitioning-value","./scrollable","./swapping-value"],function(e){var n,r,i,o,a,s,u,l,c;return l=e("d3"),c=e("underscore"),i=e("react"),u=i.createFactory(e("./transitioning-value")),o=i.createFactory(e("./scrollable")),s=i.createFactory(e("./swapping-value")),n=i.createFactory(i.createClass({displayName:"InfoTable",render:function(){return i.DOM.div({className:"info-table"},i.DOM.div({className:"title"},this.props.heading),i.DOM.div({className:"contents"},o({style:{maxHeight:this.props.maxHeight},scrollbarStyle:{width:4}},this.props.attributes.map(function(t){return function(e,n){var r,o,a,l,c,h;return a="interval"===(c=e.level)||"ratio"===c,l=t.props.entity[e.id],r=n/t.props.attributes.length*450,a||(o=(null!=(h=e.format)?h:String)(l)),i.DOM.div({className:"row"},i.DOM.div({className:"label"},e.id),i.DOM.div({className:"value "+(null!=l&&a||o?"":"n-a"),style:{transitionDuration:300,transitionDelay:r+"ms"}},s({swapKey:null!=l&&a?"__numeric__":o,duration:300,delay:r,incomingStyle:{marginTop:-18}},null!=l&&a?u({value:l,format:e.format,delay:r}):o||"n/a")))}}(this)))))}})),r=i.createFactory(i.createClass({displayName:"Notes",render:function(){var t;return i.DOM.div({className:"notes"},i.DOM.div({className:"heading"},"Notes"),o({style:{height:100},scrollbarMargin:1,scrollbarStyle:{width:4}},function(){var e,n,r,o,a;for(o=null!=(r=this.props.notes)?r:[],a=[],e=0,n=o.length;n>e;e++)t=o[e],a.push(i.DOM.div({className:"note"},i.DOM.div({className:"user"},t.user),i.DOM.div({className:"date"},t.date),i.DOM.div({className:"text"},t.text)));return a}.call(this)))}})),a=i.createFactory(i.createClass({componentDidMount:function(){return this.componentDidRender(this.props,this.state)},componentDidUpdate:function(){return this.componentDidRender(this.props,this.state)},componentDidRender:function(){var t;return t=this.getDOMNode(),l.select(t).classed("small",!1),t.offsetHeight>this.props.height&&(l.select(t).classed("small",!0),t.offsetHeight>this.props.height)?l.select(t).classed("no-padding",!0):void 0},render:function(){return i.DOM.span({className:"squeezable "+(this.props.children?"":"n-a")},this.props.children||"n/a")}})),i.createClass({displayName:"Detail",shouldComponentUpdate:function(t,e){return!c.isEqual([this.props,this.state],[t,e])},getDefaultProps:function(){return{transitionDuration:300}},getInitialState:function(){return{entity:this.props.entity}},componentWillReceiveProps:function(t){return null!=t.entity?this.setState({entity:t.entity}):void 0},componentDidUpdate:function(t){var e,n,r,i,o,a,s,u,l;return null!=t.entity&&null==this.props.entity&&(this.setState({expanded:!1}),this.timeoutId=window.setTimeout(function(t){return function(){return t.setState({entity:null})}}(this),this.props.transitionDuration)),null==t.entity&&null!=this.props.entity&&(window.clearTimeout(this.timeoutId),this.setState({expanded:!0}),this.getDOMNode().focus()),null!=this.state.entity?(null!=this.props.options.photoUrlAttribute?o=this.state.entity[this.props.options.photoUrlAttribute]:(null!=(u=this.props.options["static"])?u.samplePhotos:void 0)?(a=["asian_f.png","asian_m.png","black_f.png","black_m.png","white_f.png","white_m.png"],i=this.state.entity[null!=(l=this.props.options.heading)?l:"id"],n=String(i)[String(i).length-1].charCodeAt(),o="assets/all_profiles/"+a[n%a.length],e="hsl(225, 5%, 56%)"):(o="assets/profile_placeholder.png",e="hsl(226, 17%, 33%)"),s=new Image,r=this.refs.img.getDOMNode(),r.style.marginTop="100%",this.refs.picture.getDOMNode().style.backgroundColor=e,s.onload=function(){return function(){return r.src=s.src,r.style.marginTop=0}}(this),s.src=o):void 0},render:function(){var e,o,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S,C,T,D,R,k,O,N,P,I,B,A;return i.createElement("div",{className:"detail "+(this.state.expanded?"expanded":""),style:{left:this.props.layout.left,top:this.props.layout.top,width:this.props.layout.width,transitionDuration:this.props.transitionDuration+"ms"}},[i.DOM.div({className:"shadow",style:{left:-3,right:-3,height:3,top:"100%",marginTop:1}}),i.DOM.div({className:"shadow",style:{top:0,bottom:0,width:3,left:"100%"}}),i.DOM.div({className:"shadow",style:{top:0,bottom:0,width:3,right:"100%"}})],null!=this.state.entity?(o=null!=(y=this.props.options.caption)?y:null!=(M=this.props.options["static"])?M.caption:void 0,[i.createElement("div",{className:"heading"},function(t){return function(){var e,n,r;return e=null!=(r=t.props.options.heading)?r:"id",n=c.isArray(e)?e.map(function(e){return t.state.entity[e]}).join(" "):t.state.entity[e],s({swapKey:n,duration:t.props.transitionDuration,incomingStyle:{marginTop:-44}},n)}}(this)(),i.createElement("div",{className:"icons"},i.createElement("a",{className:"icon share unavailable"}),i.createElement("a",{className:"icon mark "+(R=this.state.entity.id,t.call(null!=(k=this.props.flags)?k:[],R)>=0?"active":""),onClick:function(t){return function(){return t.props.onToggleFlag(t.state.entity.id)}}(this)}),i.createElement("a",{className:"icon close",onClick:this.props.onClose}))),i.createElement("div",{className:"body"},i.createElement("div",{className:"left"},i.createElement("div",{className:"picture",ref:"picture"},i.createElement("img",{ref:"img"})),null!=o?(g="email"===o.type?"mailto:":"",v=null!=(O=o.value)?O:this.state.entity[o.attribute],i.createElement("div",{className:"caption"},i.createElement("a",{href:g+v,target:"_blank"},i.createElement("div",{className:"icon "+o.type}),i.createElement("div",{className:"text"},null!=(N=o.label)?N:v)))):void 0,null!=(d=null!=(P=this.props.options.info)?P[0]:void 0)?n({heading:null!=(I=null!=(B=null!=(A=this.props.options.titles)?A[0]:void 0)?B:d.label)?I:"Basic Information",entity:this.state.entity,attributes:(null!=(b=d.attributes)?b:d).map(function(t){return function(e){return t.props.attributeById[e]}}(this)),maxHeight:207+(null!=o?0:50)}):void 0),i.createElement("div",{className:"right"},i.createElement("div",{className:"container"},i.createElement("div",{className:"figures"},function(){var t,n,r,o,d;for(o=null!=(r=this.props.options.figures)?r:[],d=[],f=t=0,n=o.length;n>t;f=++t)p=o[f],m=function(){return function(t,e,n,r,o){var l,c,h,p,f;return c="interval"===(h=e.level)||"ratio"===h,v=t[e.id],c||(l=(null!=(p=e.format)?p:String)(v)),s({swapKey:null!=v&&c?"__numeric__":l,duration:n,delay:r},null!=v&&c?[u({value:v,format:null!=(f=e.aggregateFormat)?f:e.format,duration:n,delay:r,suffixSplit:function(t){return t.split(/\s/)},style:{fontSize:32,lineHeight:"37px",letterSpacing:"0.06em"}}),null!=o?i.DOM.div({className:"sublabel"},o):void 0]:a({height:48},v))}}(this),h=150+f/this.props.options.figures.length*450,d.push(i.DOM.div({className:"figure",style:{transitionDuration:this.props.transitionDuration+"ms",transitionDelay:h+"ms"}},c.isObject(p)?[i.DOM.div({className:"title"},p.label),p.attributes.map(function(t){return function(n,r){var o,a,s;return e=t.props.attributeById[null!=(o=n.attribute)?o:n],i.DOM.div({className:"value",style:{width:l.format("%")(1/p.attributes.length),transitionDelay:h+1.5*r*(120/p.attributes.length)+"ms"}},m(t.state.entity,e,t.props.transitionDuration,h,null!=(a=null!=(s=n.label)?s:n.attribute)?a:n))}}(this))]:(e=this.props.attributeById[p],[i.DOM.div({className:"title"},e.id),i.DOM.div({className:"value"},m(this.state.entity,e,this.props.transitionDuration,h))])));return d}.call(this)),null!=(d=null!=(E=this.props.options.info)?E[1]:void 0)?n({heading:null!=(x=null!=(w=null!=(_=this.props.options.titles)?_[1]:void 0)?w:d.label)?x:"Employment Information",entity:this.state.entity,attributes:(null!=(S=d.attributes)?S:d).map(function(t){return function(e){return t.props.attributeById[e]}}(this)),maxHeight:308}):void 0),null!==(null!=(C=this.props.options["static"])?C.notes:void 0)?r({notes:null!=(T=null!=(D=this.props.options["static"])?D.notes:void 0)?T:[]}):void 0))]):void 0)}})})}.call(this),function(){define("components/config",["require","react"],function(t){var e;
return e=t("react"),e.createClass({displayName:"Config",render:function(){return e.createElement("config",{style:{visibility:this.props.open?"visible":"hidden"}},e.createElement("x",{onClick:this.props.onClose}))}})})}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};define("components/app",["require","d3","underscore","react","hammer","papaparse","../store","./colors","./sizes","../pack","./table","./barchart","./blobs","./blob-frame","./map","./scatter","./hierarchy","./sniper","./sidebar","./flag-selector","./flags","./filter-indicator","./aggregate-stats","./bubble","./detail","./config","../utils","../map_utility"],function(e){var n,r,i,o,a,s,u,l,c,h,p,f,d,g,v,m,y,M,b,E,x,w,_,S,C,T,D,R,k,O,N,P,I;return O=e("d3"),I=e("underscore"),E=e("react"),d=e("hammer"),b=e("papaparse"),D=e("../store"),s=e("./colors"),S=e("./sizes"),N=e("../pack"),R=E.createFactory(e("./table")),r=E.createFactory(e("./barchart")),o=E.createFactory(e("./blobs")),i=E.createFactory(e("./blob-frame")),m=E.createFactory(y=e("./map")),x=E.createFactory(w=e("./scatter")),g=E.createFactory(v=e("./hierarchy")),P=e("./sniper"),C=E.createFactory(P.Rings),T=E.createFactory(P.Sectors),_=E.createFactory(e("./sidebar")),h=E.createFactory(e("./flag-selector")),p=E.createFactory(e("./flags")),c=E.createFactory(e("./filter-indicator")),n=E.createFactory(e("./aggregate-stats")),a=E.createFactory(e("./bubble")),l=E.createFactory(e("./detail")),u=E.createFactory(e("./config")),k=e("../utils"),M=e("../map_utility"),f=E.createFactory(E.createClass({render:function(){return E.DOM.div({className:"guide",onClick:this.props.onClose},E.DOM.img({src:"assets/guide.png"}),E.createElement("x",{onClick:this.props.onClose}))}})),E.createClass({displayName:"App",setStateWithUndo:function(t){return this.setState(t)},zoom:null,mapTransitionOngoing:!1,computeLayout:function(){var t,e,n,r,i,o,a;return e={},t=20,e.container={top:t,left:0,width:window.innerWidth,height:window.innerHeight-2*t},r=e.container.height,e.sidebar={top:0,height:r-32,left:20,width:196},e.table={top:a=125,left:n=20,width:e.container.width-n-20,height:e.container.height-a-32},e.barMargin={top:78,left:33,right:33,bottom:22},o=20,i=e.sidebar.left+e.sidebar.width+o,e.main={top:0,height:r,left:i,width:e.container.width-i-20},e.header={top:0,height:27,left:0,width:e.main.width},e.stage={top:e.header.height,left:0,width:e.main.width,height:e.main.height-e.header.height},e.circular={top:0,left:0,width:e.stage.width,height:e.stage.height,radius:Math.min(e.stage.width,e.stage.height)/2-55},e},getInitialState:function(){return{layout:this.computeLayout(),store:null,configOpen:!1,guideOpen:!0,perspective:"table",selectorOptions:{},showEntities:null,viewNumbersAs:"count",groupCountLabel:["POPULATION","Population"],inspect:null,detail:null,filters:[],selected:{},hoverSelected:null,clusterBy:null,colorBy:null,sizeBy:null,sizeBarBy:null,rankBarBy:null,scatterXBy:null,filterBy:null,targetOn:null,expandedRegion:null,expandedCountry:null,shouldFlagsTransition:!0,scrollTop:0,stackedBars:!0,collapsedLayer:0}},currentFocus:0,currentMapClusteringScheme:{},transitionViaScroll:!1,hierarchyChartStructures:null,onKeyDown:function(t){return(189===t.keyCode||109===t.keyCode)&&this.setState({collapsedLayer:Math.max(0,this.state.collapsedLayer-1)}),187===t.keyCode||107===t.keyCode?this.setState({collapsedLayer:Math.min(4,this.state.collapsedLayer+1)}):void 0},thresholdEntities:function(t){return t.length<2500},clearSelection:function(){return this.setStateWithUndo({selected:null})},isolateSelection:function(){return I.isEmpty(this.state.selected)?void 0:this.setStateWithUndo({selected:{},filters:this.state.filters.concat(this.state.selected)})},selectAll:function(){var t;return t=this.entitySet.map(function(t){return[t.id,!0]}),this.setStateWithUndo({selected:I.object(t)})},selectNodes:function(t){return this.setStateWithUndo({selected:I.object(null!=t?t.map(function(){return function(t){return[t.id,!0]}}(this)):void 0)})},toggleNodes:function(t){var e,n;return e=I.clone(null!=(n=this.state.selected)?n:{}),(null!=t?t.every(function(t){return e[t.id]}):void 0)?null!=t&&t.forEach(function(t){return delete e[t.id]}):null!=t&&t.forEach(function(t){return e[t.id]=!0}),this.setStateWithUndo({selected:e})},hoverSelect:function(t){return this.setState({hoverSelected:(null!=t?t.length:void 0)?I.object(t.map(function(){return function(t){return[t.id,!0]}}(this))):null})},onRandomSubset:function(t){var e,n;return null==t&&(t=1e3),n=I.sample(this.entitySet,t),e=I.object(n.map(function(t){return[t.id,!0]})),this.setStateWithUndo({selected:{},filters:this.state.filters.concat(e)})},triggerSequence:function(t){var e,n,r,i,o,a,s;if(e=t.continuous,null==this.state.sequenceIndex&&this.setState({preSequenceState:I.clone(this.state)}),null==this.state.sequenceIndex)for(i=null!=(s=this.state.sequenceStart)?s:0,o={},n=a=0;i>=0?i>a:a>i;n=i>=0?++a:--a)o=I.extend(o,this.state.stateSequence[n]);else o={};return o={},(r=function(t){return function(){var i,a,s,u;return n=(null!=(a=t.state.sequenceIndex)?a:-1)+1,n===t.state.stateSequence.length?(t.setState(I.extend({},t.state.preSequenceState,{preSequenceState:null,sequenceIndex:null})),void("function"==typeof(i=t.props).sequenceDidEnd&&i.sequenceDidEnd())):(I.extend(o,{sequenceIndex:n,transition:{},sustain:0},t.state.stateSequence[n]),t.setStateWithUndo(o),e?t.playSequenceTimeout=window.setTimeout(r,(null!=(s=o.transition.duration)?s:1400)+(null!=(u=o.sustain)?u:0)):void 0)}}(this))()},componentWillMount:function(){return this.setState({store:new D(this.props,function(t){return function(e){var n;if(null!=e)return e.sequenceAutoplay&&I.extend(e,null!=(n=e.stateSequence)?n[0]:void 0),t.setState(e),M.geoData=e.geoData,e.sequenceAutoplay?t.triggerSequence({continuous:!0}):void 0}}(this))}),O.select(window).on("keydown",function(t){return function(){var e;switch(e=O.event.keyCode){case 13:return t.isolateSelection();case 32:return t.setState({showEntities:null!=t.state.showEntities?null:!t.thresholdEntities(t.entitySet)});case 27:if(null!=t.state.areaSelection&&t.setState({areaSelection:null}),null!=t.state.detail&&t.setStateWithUndo({detail:null}),!I.isEmpty(t.state.selected))return t.clearSelection();break;case 39:return null!=t.playSequenceTimeout&&O.event.shiftKey?(window.clearTimeout(t.playSequenceTimeout),t.playSequenceTimeout=null):t.triggerSequence({continuous:O.event.shiftKey})}}}(this))},constructMapZoomController:function(){var t,e,n;return e=M.getOrigin(this.state.layout.stage.width,this.state.layout.stage.height),t=M.getScale(this.state.layout.stage.width,this.state.layout.stage.height),this.zoom=O.behavior.zoom().translate(e).scale(t).scaleExtent([t,35*t]),n=function(t){return function(){return"map"===t.state.perspective?t.forceUpdate():void 0}}(this),this.zoom.on("zoom",n),O.transition().duration(0).call(this.zoom.event)},componentDidMount:function(){var t,e,n,r,i;return window.setAppState=this.setState.bind(this),O.select(window).on("resize",I.debounce(function(t){return function(){var e,n,r,i;return i=t.computeLayout(),"map"===t.state.perspective&&(null!=t.state.currrentMapBounds?(e=t.state.currrentMapBounds,r=e.rect||e,n=e.padding||100,M.goToBounds(r,i.stage.width,i.stage.height,t.zoom,n)):M.goToGlobal(i.stage.width,i.stage.height,t.zoom)),t.setState({layout:i})}}(this),150)),document.addEventListener("keydown",this.onKeyDown),i=function(t){var e;return e=5,10*Math.round(t/10)-e},r=function(t){return function(e,n){return t.setState(null!=n?{areaSelection:[n,e]}:{areaSelection:[e,null]})}}(this),e=function(t){return function(e,n){var r,o;return O.select(document.body).classed("global-selecting",!0),null!=t.state.areaSelection?(r=null!=n?n:t.state.areaSelection[0],o=e,"bar chart"===t.state.perspective&&(r[0]=0+t.state.layout.barMargin.left,o[0]=t.state.layout.stage.width-t.state.layout.barMargin.right,r[1]=i(r[1]),o[1]=i(o[1])),t.setState({areaSelection:[r,o]})):void 0}}(this),n=function(t){return function(e,n){var r,o,a,s,u,l,c,h,p,f,d;if(O.select(document.body).classed("global-selecting",!1),r=t.state.areaSelection,null==r||null==r[1])return t.setState({areaSelection:null});switch(null!=n&&(r[0]=n),r[1]=e,h=I.sortBy(r.map(I.first)),p=I.sortBy(r.map(I.last)),"bar chart"===t.state.perspective&&(p[0]=i(p[0]),p[1]=i(p[1])),t.state.perspective){case"table":break;case"bar chart":s=function(e){var n,r;return h[0]<=(n=e.x)&&n<=h[1]&&p[0]<=(r=e.y+t.state.layout.barMargin.top)&&r<=p[1]},l=t.entitySet.filter(s);break;case"talent target":case"hierarchy":a=[t.state.layout.circular.left+t.state.layout.circular.width/2,t.state.layout.circular.top+t.state.layout.circular.height/2],o=k.computePolarSelectionBounds(r,a),s=function(t){var e;return o.innerRadius<=(e=k.distance([t.x,t.y],a))&&e<=o.outerRadius},l=t.entitySet.filter(s);break;default:s=function(t){var e,n;return h[0]<=(e=t.x)&&e<=h[1]&&p[0]<=(n=t.y)&&n<=p[1]},l=O.merge((null!=(f=t.blobs)?f:[]).filter(s).map(function(t){var e;return null!=(e=t.values)?e:[t]}))}return null!=l&&(O.event.sourceEvent.shiftKey?(c=I.clone(null!=(d=t.state.selected)?d:{}),u=l.every(function(t){return c[t.id]}),l.forEach(function(t){return c[t.id]=!u})):c=I.object(l.map(function(t){return[t.id,!0]}))),I.defer(function(){return t.setState({areaSelection:null}),t.setStateWithUndo({selected:null!=c?c:null})})}}(this),t=O.behavior.drag().on("dragstart",function(){var t;return(t=O.touches(this)).length?r.apply(null,O.touches(this).slice(0,2)):r(O.mouse(this))}).on("drag",function(){var t;return(t=O.touches(this)).length?e.apply(null,O.touches(this).slice(0,2)):e(O.mouse(this))}).on("dragend",function(){var t;return(t=O.touches(this)).length?n.apply(null,O.touches(this).slice(0,2)):n(O.mouse(this))}),O.select(this.refs.stage.getDOMNode()).call(t)},componentWillUnmount:function(){return O.select(window).on("resize",null)},onBlobInspect:function(t){var e,n;return window.clearTimeout(this.inspectTimeout),null!=(null!=t?t.blob:void 0)?this.setState({inspect:t}):null!=(null!=(e=null!=(n=this.state.inspect)?n.blob:void 0)?e:this.state.inspect)?this.inspectTimeout=window.setTimeout(function(e){return function(){return e.setState({inspect:t})}}(this),17):void 0},onBlobClick:function(t,e){var n,r;if(null==this.state.areaSelection)return"map"===this.state.perspective&&(null!=t?null==M.getPrecomputedBounds(t.key)||this.mapTransitionOngoing||(M.isRegion(t.key)?this.startMapTransition(t.key,null):M.isCountry(t.key)&&this.startMapTransition(M.getRegionOfCountry(t.key),t.key)):this.mapTransitionOngoing||this.startMapTransition(null,null)),n=(null!=t?t.isBlobSet:void 0)?O.merge(t.values.map(function(){return function(t){var e;return null!=(e=t.values)?e:[t]}}(this))):null!=(r=null!=t?t.values:void 0)?r:null!=t?[t]:null,(e?this.toggleNodes:this.selectNodes)(n)},onDetail:function(t){return this.setState({detail:t,inspect:null})},onCloseDetail:function(){return this.setState({detail:null})},onToggleFlag:function(e){var n,r,i;return t.call(null!=(r=this.state.flags)?r:[],e)>=0?(n=[].concat(this.state.flags),n.splice(n.indexOf(e),1),this.setState({flags:n})):this.setState({flags:(null!=(i=this.state.flags)?i:[]).concat(e)})},onHistogramFilter:function(t,e){var n,r,i;return r=this.state.filterBy,n=function(){return function(t){var n;return e[0]<=(n=t[r])&&n<=e[1]}}(this),i=this.entitySet.filter(n),t?this.toggleNodes(i):this.selectNodes(i)},startMapTransition:function(t,e){var n,r,i;return this.mapTransitionOngoing=!0,null==e&&null==t&&null==M.geoData.fixedMapView?O.transition().duration(1400).call(M.goToGlobal(this.state.layout.stage.width,this.state.layout.stage.height,this.zoom).event).each("end",function(t){return function(){return t.mapTransitionOngoing=!1,setTimeout(function(){return t.setState({expandedRegion:null,expandedCountry:null,currrentMapBounds:null})},100)}}(this)):(n=M.getPrecomputedBounds(e||t),n=n||M.geoData.fixedMapView,i=n.rect||n,r=n.padding||100,O.transition().duration(1400).call(M.goToBounds(i,this.state.layout.stage.width,this.state.layout.stage.height,this.zoom,r).event).each("end",function(r){return function(){return r.mapTransitionOngoing=!1,setTimeout(function(){return r.setState({expandedRegion:t,expandedCountry:e,currrentMapBounds:n})},100)}}(this)))},componentWillUpdate:function(t,e){var n,r;return"map"===e.perspective&&null==this.zoom&&(this.constructMapZoomController(),null!=M.geoData.fixedMapView&&(e.currrentMapBounds=M.geoData.fixedMapView,n=M.goToBounds(M.geoData.fixedMapView,e.layout.stage.width,e.layout.stage.height,this.zoom,100),this.zoom.translate(n.translate()).scale(n.scale()),O.transition().duration(0).call(this.zoom.event))),r=function(){return function(t,e){return document.title="Talent Lab: "+t+"  "+e.capitalize()}}(this),I.isEqual([this.state.title,this.state.perspective],[e.title,e.perspective])?void 0:r(e.title,e.perspective)},render:function(){var t,e,u,d,y,D,B,A,L,F,z,U,q,j,H,V,W,K,Y,X,G,Q,Z,$,J,te,ee,ne,re,ie,oe,ae,se,ue,le,ce,he,pe,fe,de,ge,ve,me,ye,Me,be,Ee,xe,we,_e,Se,Ce,Te,De,Re,ke,Oe,Ne,Pe,Ie,Be,Ae,Le,Fe,ze,Ue,qe,je,He,Ve,We,Ke,Ye,Xe,Ge,Qe,Ze,$e,Je,tn,en,nn,rn,on,an,sn,un,ln,cn,hn,pn,fn,dn,gn,vn;if(window.state=this.state,X=this.state.store.entities,this.state.filters.forEach(function(){return function(t){return X=X.filter(function(e){return t[e.id]})}}(this)),this.filteredEntities=X,this.entitySet=Y=X,K=I.indexBy(Y,"id"),q=null!=(be=this.state.store.attributeById)?be[this.state.colorBy]:void 0,j=k.d3scale(s.scale(q)),("table"===(Ee=this.state.perspective)||"barchart"===Ee)&&(this.groupsCache=null),V=!1,H=function(t){return function(e,n){var r,i,o,a,s,u,l,c,h,p,f,d,g,v,m,y,b,E;return null==n&&(n=t.state.showEntities),null==n&&(n=t.thresholdEntities(t.entitySet)),null==t.allFunc&&(t.allFunc=O.functor("[all]")),p=!n&&null!=t.state.colorBy&&t.state.colorBy!==e,r=n?"id":p?t.state.colorBy:null!=e?e:t.allFunc,(n||p)&&(i=null!=e?e:t.allFunc),f=[t.state.layout.stage.width,t.state.layout.stage.height],l={deps:{blobBy:r,blobSetBy:i,entitySet:Y,size:f,sizeBy:t.state.sizeBy,colorBy:t.state.colorBy,selected:t.state.selected,perspective:t.state.perspective}},(s=I.isEqual(l.deps,null!=(g=t.groupsCache)?g.deps:void 0))?(v=t.groupsCache,u=v.groups,a=v.blobs,o=v.blobSets):(c=O.nest(),null!=i&&(c=c.key(k.accessor(i))),n||(c=c.key(k.accessor(r))),u=c.entries(Y),(n||p)&&u.forEach(function(t){return t.color="hsl(219, 23%, 24%)",t.values.forEach(function(e){var n,r;return n=null!=(r=e.id)?r:e.key,I.extend(e,{key:""+t.key+"/"+n,label:n})})}),p&&u.forEach(function(t){var e;return e=O.sum(t.values,function(t){return t.values.length}),t.values.forEach(function(t){return t.percentOf=t.values.length/e})}),null!=i?(a=O.merge(I.pluck(u,"values")),o=u,o.forEach(function(t){return t.childValues=t.values})):(a=u,o=null),d=null!=(m=t.state.store.attributeById)?m[t.state.sizeBy]:void 0,h=I.isEmpty(t.state.selected),a.forEach(function(e){var n,r;return e.color=j(e.values?null!=(n=e.label)?n:e.key:e[null!=q?q.id:void 0]),e.sizeValue=Math.max(0,null!=e.values?null!=d?O.sum(e.values,function(t){var e;return null!=(e=t[d.id])?e:0}):e.values.length:null!=d?null!=(r=e[d.id])?r:0:1),h?delete e.selected:e.selected=null!=e.values?I.filter(e.values,function(e){return t.state.selected[e.id]}).length/e.values.length:!!t.state.selected[e.id]}),u=N({groups:u,isBlobSets:null!=i,size:f,colorAttribute:t.state.colorBy,sizeFactor:"map"===(y=t.state.perspective)||"scatter"===y?(null!=(b=M.geoData)?b.groupSizeFactor:void 0)||.5:void 0}),n&&(a=a.map(function(t){return I.extend({},t,{values:[t]})})),u=null!=(E=null!=o?o.concat(a):void 0)?E:a,t.groupsCache=I.extend(l,{groups:u,blobs:a,blobSets:o}),t.blobs=a),{groups:u,blobs:a,blobSets:o,blobBy:r,blobSetBy:i,fromCache:s}}}(this),null!=Y)switch(this.state.perspective){case"cluster":Ne=H(this.state.clusterBy),$=Ne.groups,e=Ne.blobBy,u=Ne.blobSetBy;break;case"map":null==M.geoData.fromDataset?(null==this.currentMapClusteringScheme[this.state.expandedRegion+this.state.expandedCountry]&&(this.currentMapClusteringScheme[this.state.expandedRegion+this.state.expandedCountry]=M.getCurrentClustringScheme(this.state.expandedRegion,this.state.expandedCountry)),se=this.currentMapClusteringScheme[this.state.expandedRegion+this.state.expandedCountry],He=H(se),$=He.groups,B=He.blobs,D=He.blobSets,e=He.blobBy,u=He.blobSetBy,null==u&&(V=!0)):(e="id",tn=H(null,!0),$=tn.groups,B=tn.blobs,D=tn.blobSets,e=tn.blobBy,u=tn.blobSetBy,D[0].x=-500,D[0].y=-500),this.projection=M.getProjection(),null!=this.zoom.scale()&&this.projection.scale(this.zoom.scale()),null!=this.zoom.translate()&&this.projection.translate(this.zoom.translate()),ce=this.projection,pe=function(t){return function(e){var n;return n={},e.forEach(function(e){var r,i,o,a,s;return r=null==M.geoData.fromDataset?M.getLonLat(e.key):[e.values[0].Longitude,e.values[0].Latitude],a=[e.x,e.y],i=a[0],o=a[1],s=null!=r?t.projection(r):[-100,-100],e.x=s[0],e.y=s[1],n[e.key]={x:e.x-i,y:e.y-o}}),n}}(this),null==M.geoData.fromDataset?null!=u?(y={},oe=pe(D),B.forEach(function(){return function(t){var e;return e=oe[t.key.split("/")[0]],t.x+=e.x,t.y+=e.y}}(this))):(pe(B),B.forEach(function(){return function(t){return t.color="hsl(224, 20%, 27%)"}}(this))):(pe(B),ge=[this.state.layout.stage.width,this.state.layout.stage.height],ve=null!=(pn=this.state.store.attributeById)?pn[this.state.sizeBy]:void 0,me=k.d3scale(S.scale(ve,Y,ge)),B.forEach(function(){return function(t){var e;return t.r=me(null!=ve?null!=(e=t[ve.id])?e:0:1),I.extend(K[t.id],I.pick(t,"x","y"))}}(this))),this.blobs=$;break;case"scatter":this.scatterBox=w.layout({size:[this.state.layout.stage.width,this.state.layout.stage.height]}),this.scales=de={},de.x=w.scale({entities:Y,attribute:this.state.store.attributeById[this.state.scatterXBy],range:[this.scatterBox.left,this.scatterBox.left+this.scatterBox.width]}),de.y=w.scale({entities:Y,attribute:this.state.store.attributeById[this.state.scatterYBy],range:[this.scatterBox.top+this.scatterBox.height,this.scatterBox.top]}),ge=[this.state.layout.stage.width,this.state.layout.stage.height],Z="ordinal"===(null!=(fn=de.x)?fn.type:void 0)&&"ordinal"===de.y.type,Z?(ue=null!=(dn=null!=(gn=this.organizeBy)?gn[[this.state.scatterXBy,this.state.scatterYBy]]:void 0)?dn:function(){return function(t,e,n){return n[t]+" + "+n[e]}}(this).bind(this,this.state.scatterXBy,this.state.scatterYBy),this.organizeBy=I.object([[[this.state.scatterXBy,this.state.scatterYBy],ue]]),vn=H(ue),$=vn.groups,B=vn.blobs,D=vn.blobSets,e=vn.blobBy,u=vn.blobSetBy,Q=vn.fromCache,fe=null!=D?D:B,null!=D&&(ae={},D.forEach(function(){return function(t){return ae[t.key]=I.pick(t,"x","y")}}(this)))):(e="id",J={deps:{blobBy:e,entitySet:Y,size:ge,sizeBy:this.state.sizeBy,colorBy:this.state.colorBy,scatterXBy:this.state.scatterXBy,scatterYBy:this.state.scatterYBy,selected:this.state.selected}},(Q=I.isEqual(J.deps,null!=(xe=this.groupsCache)?xe.deps:void 0))?(we=this.groupsCache,$=we.groups,Y=we.entitySet):(ve=null!=(_e=this.state.store.attributeById)?_e[this.state.sizeBy]:void 0,me=k.d3scale(S.scale(ve,Y,ge)),re=I.isEmpty(this.state.selected),Y.forEach(function(t){return function(e){var n,r;return e.color=j(e.values?null!=(n=e.label)?n:e.key:e[null!=q?q.id:void 0]),e.r=me(null!=ve?null!=(r=e[ve.id])?r:0:1),re?delete e.selected:e.selected=!!t.state.selected[e.id]}}(this)))),Q||w.scaleEntities({entities:Y,groups:null!=fe?fe:$,groupEntities:Z,layout:this.scatterBox,xScale:de.x,yScale:de.y,scatterXBy:this.state.store.attributeById[this.state.scatterXBy],scatterYBy:this.state.store.attributeById[this.state.scatterYBy]}),Q||(Z?(null!=D&&(d=I.indexBy(D,"key"),B.forEach(function(){return function(t){var e,n,r;return e=t.key.split("/")[0],r=ae[e],n=d[e],t.x+=n.x-r.x,t.y+=n.y-r.y}}(this))),B.forEach(k.distribute)):($=Y.map(I.clone),$.forEach(function(){return function(t){return t.key=t.id}}(this)),this.groupsCache=I.extend(J,{groups:$,blobBy:e,entitySet:Y}))),this.blobs=$;break;case"talent target":e="id",ge=[this.state.layout.stage.width,this.state.layout.stage.height],J={deps:{blobBy:e,entitySet:Y,size:ge,sizeBy:this.state.sizeBy,colorBy:this.state.colorBy,selected:this.state.selected,targetOn:this.state.targetOn,sectorBy:this.state.sectorBy}},(Q=I.isEqual(J.deps,null!=(Se=this.groupsCache)?Se.deps:void 0))?(Ce=this.groupsCache,$=Ce.groups,Y=Ce.entitySet):(q=null!=(Te=this.state.store.attributeById)?Te[this.state.colorBy]:void 0,j=k.d3scale(s.scale(q)),ve=null!=(De=this.state.store.attributeById)?De[this.state.sizeBy]:void 0,me=k.d3scale(S.scale(ve,Y,ge)),re=I.isEmpty(this.state.selected),Y.forEach(function(t){return function(e){var n,r;return e.color=j(e.values?null!=(n=e.label)?n:e.key:e[null!=q?q.id:void 0]),e.r=me(null!=ve?null!=(r=e[ve.id])?r:0:1),re?delete e.selected:e.selected=!!t.state.selected[e.id]}}(this)),P.scaleEntities({entities:Y,weightings:this.state.targetOn,sectorBy:this.state.sectorBy,store:this.state.store,layout:this.state.layout.circular}),$=Y.map(I.clone),$.forEach(function(){return function(t){return t.key=t.id}}(this)),this.groupsCache=I.extend(J,{groups:$,blobBy:e,entitySet:Y})),this.blobs=$;break;case"hierarchy":e="id",ge=[this.state.layout.stage.width,this.state.layout.stage.height],J={deps:{blobBy:e,entitySet:Y,size:ge,sizeBy:this.state.sizeBy,colorBy:this.state.colorBy,selected:this.state.selected}},(Q=I.isEqual(J.deps,null!=(Re=this.groupsCache)?Re.deps:void 0))?(ke=this.groupsCache,$=ke.groups,Y=ke.entitySet):(q=null!=(Oe=this.state.store.attributeById)?Oe[this.state.colorBy]:void 0,j=k.d3scale(s.scale(q)),ve=null!=(Pe=this.state.store.attributeById)?Pe[this.state.sizeBy]:void 0,me=k.d3scale(S.scale(ve,Y,ge)),re=I.isEmpty(this.state.selected),Y.forEach(function(t){return function(e){var n,r;return e.color=j(e.values?null!=(n=e.label)?n:e.key:e[null!=q?q.id:void 0]),e.r=me(null!=ve?null!=(r=e[ve.id])?r:0:1),re?delete e.selected:e.selected=!!t.state.selected[e.id]}}(this)),te=Y.filter(function(t){return null!=t.depthInCompleteTree}),console.time("chart structure creation"),this.hierarchyChartStructures=v.scaleEntities({nodes:te,collapsedLayer:this.state.collapsedLayer,layout:this.state.layout.circular,rankingManager:this.state.store.hierarchyRankingManager,allRolesByManagerID:this.state.store.hierarchyAllNodesByManagerID}),console.timeEnd("chart structure creation"),$=te.map(I.clone),$.forEach(function(){return function(t){return t.key=t.id}}(this)),this.groupsCache=I.extend(J,{groups:$,blobBy:e,entitySet:Y})),this.blobs=$;break;default:this.blobs=null}return E.createElement("container",{style:this.state.layout.container},_({style:this.state.layout.sidebar,subheading:this.state.title,colorScale:j,entities:X,blobs:this.blobs,useBlobSizesInLegend:"map"===this.state.perspective,attributeById:this.state.store.attributeById,viewNumbersAs:this.state.viewNumbersAs,setViewNumbersAs:null!=this.setViewNumbersAs?this.setViewNumbersAs:this.setViewNumbersAs=function(t){return function(e){return t.setState({viewNumbersAs:e})}}(this),onSelectGroup:this.onBlobClick,perspective:this.state.perspective,disabledPerspectives:[this.state.store.hierarchyEnabled?void 0:"hierarchy",null==M.geoData?"map":void 0,(null!=(Ie=this.state.selectorOptions.sizeBarBy)?Ie.length:void 0)?void 0:"bar chart"],setPerspective:function(t){return function(e){return t.setState({perspective:e})}}(this),clusterBy:this.state.clusterBy,clusterByOptions:this.state.selectorOptions.clusterBy,setClusterBy:function(t){return function(e){return t.setState({clusterBy:e})}}(this),scatterXBy:this.state.scatterXBy,scatterXByOptions:this.state.selectorOptions.scatterXBy,setScatterXBy:function(t){return function(e){return t.setState({scatterXBy:e})}}(this),scatterYBy:this.state.scatterYBy,scatterYByOptions:this.state.selectorOptions.scatterYBy,setScatterYBy:function(t){return function(e){return t.setState({scatterYBy:e})}}(this),sizeBarBy:this.state.sizeBarBy,sizeBarByOptions:this.state.selectorOptions.sizeBarBy,setSizeBarBy:function(t){return function(e){return t.setState({sizeBarBy:e})}}(this),rankBarBy:this.state.rankBarBy,rankBarByOptions:this.state.selectorOptions.rankBarBy,setRankBarBy:function(t){return function(e){return t.setState({rankBarBy:e})}}(this),colorBy:this.state.colorBy,colorByOptions:this.state.selectorOptions.colorBy,setColorBy:function(t){return function(e){return t.setState({colorBy:e})}}(this),sizeBy:this.state.sizeBy,sizeByOptions:this.state.selectorOptions.sizeBy,setSizeBy:function(t){return function(e){return t.setState({sizeBy:e})}}(this),filterBy:this.state.filterBy,filterByOptions:this.state.selectorOptions.filterBy,setFilterBy:function(t){return function(e){return t.setState({filterBy:e})}}(this),onHistogramFilter:this.onHistogramFilter,targetOn:this.state.targetOn,targetOnOptions:this.state.selectorOptions.targetOn,setTargetOn:function(t){return function(e){return t.setState({targetOn:e})}}(this),store:this.state.store,sectorBy:this.state.sectorBy,sectorByOptions:this.state.selectorOptions.sectorBy,setSectorBy:function(t){return function(e){return t.setState({sectorBy:e})}}(this)}),E.createElement("main",{style:this.state.layout.main},E.createElement("header",{style:this.state.layout.header},null!=Y?h({flags:this.state.flags,setFlags:function(t){return function(e){return t.setState({flags:e})}}(this),filters:this.state.filters,flagAttribute:this.state.flagAttribute,entityById:this.state.store.entityById,reveal:function(t){return function(e){return t.setState({reveal:e})}}(this),onDetail:this.onDetail}):void 0,E.createElement("icon",{className:"help",onClick:function(t){return function(){return t.setStateWithUndo({guideOpen:!0})}}(this)})),E.createElement("stage",{ref:"stage",style:I.extend({},this.state.layout.stage,{cursor:null!=this.state.hoveredKey?"pointer":void 0}),onMouseMove:function(t){return function(e){var n,r,i,o,a,s;if(null!=t.blobs)return r=t.refs.stage.getDOMNode().getBoundingClientRect(),i=e.clientX-r.left,o=e.clientY-r.top,B=I.clone(t.blobs).sort(function(t,e){return O.ascending(Math.round(t.isBlobSet),Math.round(e.isBlobSet))||O.ascending(t.r,e.r)||O.ascending(t.id,e.id)}),n=I.find(B,function(t){var e,n;return e=i-t.x,n=o-t.y,Math.sqrt(e*e+n*n)<=t.r+1}),n=null!=(a=null!=(s=null!=n?n.terminus:void 0)?s:n)?a:null,(null!=(null!=n?n.key:void 0)||null!=t.state.hoveredKey)&&t.onBlobInspect({x:i,y:o,blob:null!=n?n:null}),t.setState({hoveredKey:null!=n?n.key:void 0})}}(this),onMouseLeave:function(t){return function(){return t.onBlobInspect(null),t.setState({hoveredKey:null})}}(this),onClick:function(t){return function(e){var n,r,i,o,a,s;return null==t.blobs?void t.onBlobClick(null,e.shiftKey):(r=t.refs.stage.getDOMNode().getBoundingClientRect(),i=e.clientX-r.left,o=e.clientY-r.top,B=I.clone(t.blobs).sort(function(t,e){return O.ascending(Math.round(t.isBlobSet),Math.round(e.isBlobSet))||O.ascending(t.r,e.r)||O.ascending(t.id,e.id)}),n=I.find(B.reverse(),function(t){var e,n;return e=i-t.x,n=o-t.y,Math.sqrt(e*e+n*n)<=t.r+1}),n=null!=(a=null!=(s=null!=n?n.terminus:void 0)?s:n)?a:null,t.clickedBlob=n,t.onBlobClick(null!=n?n:null,e.shiftKey))}}(this),onDoubleClick:function(t){return function(){var e,n;return t.onDetail(null!=(e=null!=(n=t.clickedBlob)?n.id:void 0)?e:null)}}(this)},null!=Y?[E.addons.CSSTransitionGroup({transitionName:"fade"},function(){switch(this.state.perspective){case"scatter":return x({key:"scatter",layout:{top:0,left:0,width:this.state.layout.stage.width,height:this.state.layout.stage.height},chartLayout:this.scatterBox,entities:Y,xScale:this.scales.x,yScale:this.scales.y,scatterXBy:this.state.store.attributeById[this.state.scatterXBy],scatterYBy:this.state.store.attributeById[this.state.scatterYBy]});case"talent target":return[C({key:"sniper-rings",layout:this.state.layout.circular}),T({key:"sniper-sectors",layout:this.state.layout.circular,sectorBy:this.state.sectorBy,entities:Y,onBlobInspect:this.onBlobInspect,onClick:this.onBlobClick})];case"hierarchy":return g({key:"hierarchy",layout:this.state.layout.circular,selectNodes:this.selectNodes,toggleNodes:this.toggleNodes,chartStructures:this.hierarchyChartStructures})}}.call(this)),o({size:[this.state.layout.stage.width,this.state.layout.stage.height],entities:"table"!==(Be=this.state.perspective)&&"bar chart"!==Be?Y:void 0,groups:$,blobBy:e,blobSetBy:u,shouldTransition:!0,staggeredTransition:null!=(Ae=null!=(Le=this.state.transition)?Le.staggered:void 0)?Ae:"map"!==(Fe=this.state.perspective)&&"hierarchy"!==Fe,polarTransition:null!=(ze=null!=(Ue=this.state.transition)?Ue.polar:void 0)?ze:"talent target"===(qe=this.state.perspective)||"hierarchy"===qe,transitionDuration:null!=(je=this.state.transition)?je.duration:void 0,displayAllLabels:V,onBlobInspect:this.onBlobInspect,onClick:this.onBlobClick,onRandomSubset:this.onRandomSubset}),"table"!==(Ve=this.state.perspective)&&"bar chart"!==Ve?(t=I.isObject(null!=(We=this.state.inspect)?We.blob:void 0)?null!=(Ke=this.state.inspect)?Ke.blob:void 0:K[null!=(Ye=null!=(Xe=this.state.inspect)?Xe.blob:void 0)?Ye:this.state.inspect],E.addons.CSSTransitionGroup({transitionName:"overlay",transitionEnter:"scatter"!==this.state.perspective,component:"div",className:"overlay"},null==t||this.mapTransitionOngoing?void 0:(U=O.hcl(t.color),U.l=.7*U.l+40,i({className:(null!=t?t.isBlobSet:void 0)?"blob-set":void 0,key:t.key,size:[this.state.layout.stage.width,this.state.layout.stage.height],blobs:[I.extend({},t,{color:U.toString()})],outline:!0})))):void 0,E.addons.CSSTransitionGroup({transitionName:"slide"},function(){var t;switch(this.state.perspective){case"map":return m({key:"map",projection:this.projection,size:[this.state.layout.stage.width,this.state.layout.stage.height],translate:this.zoom.translate(),scale:this.zoom.scale()});case"bar chart":return null!=Y&&Y.forEach(function(t){return function(e){return e.color=j(e[t.state.colorBy])}}(this)),r({key:"bar chart",size:[this.state.layout.stage.width,this.state.layout.stage.height],margin:this.state.layout.barMargin,entities:Y,store:this.state.store,sizeBy:[].concat(null!=(t=this.state.sizeBarBy.value)?t:this.state.sizeBarBy).map(function(t){return function(e){var n;return null!=(n=t.state.store.attributeById)?n[e]:void 0}}(this)),rankBy:this.state.rankBarBy,colorBy:this.state.colorBy,scrollTop:this.state.scrollTop,onBlobInspect:this.onBlobInspect,stacked:this.state.stackedBars,selected:this.state.selected,setStacked:function(t){return function(e){return t.setState({stackedBars:e})}}(this),setScrollTop:function(t){return function(e){return t.transitionViaScroll=!0,t.setState({scrollTop:e})}}(this),onDestroy:function(t){return function(){return t.setState({scrollTop:0})}}(this),reveal:this.state.reveal,onSelectEntity:function(t){return function(e,n){return(n?t.toggleNodes:t.selectNodes)([e])}}(this),onDetail:this.onDetail})}}.call(this))]:void 0,c({entities:this.state.store.entities,selected:this.state.selected,filters:this.state.filters,groupCountLabel:this.state.groupCountLabel,onIsolateSelection:function(t){return function(){return t.isolateSelection()}}(this),onClearFilters:function(t){return function(e){var n;return null!=e?(n={filters:t.state.filters.slice(0,+e+1||9e9)},e+1<t.state.filters.length&&(n.selected=t.state.filters[e+1])):(n={filters:[]},t.state.filters.length&&!I.values(t.state.selected).filter(Boolean).length&&(n.selected=t.state.filters[0])),t.setStateWithUndo(n)}}(this)}),null!=Y&&"table"!==(Ge=this.state.perspective)&&"bar chart"!==Ge&&"scatter"!==Ge&&(null!=(Qe=this.state.selectorOptions.aggregateBy)?Qe.length:void 0)?n({store:this.state.store,options:this.state.selectorOptions.aggregateBy,entities:Y,aggregateBy:this.state.aggregateBy,setAggregateBy:function(t){return function(e){return t.setState({aggregateBy:e})}}(this)}):void 0,null!=(null!=(Ze=this.state.areaSelection)?Ze[1]:void 0)?E.createElement("svg",{width:this.state.layout.stage.width,height:this.state.layout.stage.height},function(){var t,e,n;switch(this.state.perspective){case"table":return null;case"talent target":case"hierarchy":for(ee=this.state.layout.circular,z=[ee.left+ee.width/2,ee.top+ee.height/2],L=k.computePolarSelectionBounds(this.state.areaSelection,z),he=this.state.layout.circular.radius,n=["innerRadius","outerRadius"],t=0,e=n.length;e>t;t++)A=n[t],L[A]=Math.min(L[A],he+13);
return E.createElement("path",{className:"area-selection",d:O.svg.arc()(L),transform:"translate("+z+")"});default:return ye=I.sortBy(this.state.areaSelection.map(I.first)),Me=I.sortBy(this.state.areaSelection.map(I.last)),E.createElement("rect",{className:"area-selection",x:ye[0],y:Me[0],width:ye[1]-ye[0],height:Me[1]-Me[0]})}}.call(this)):void 0),null!=Y&&"table"!==this.state.perspective?(F=I.isObject(null!=($e=this.state.inspect)?$e.blob:void 0)?this.state.inspect.blob:K[null!=(Je=null!=(en=this.state.inspect)?en.blob:void 0)?Je:this.state.inspect],ne=this.state.layout.stage,ie={left:0,top:0,barMarginCorrection:0},le=I.extend({},I.pick(null!=F?F:{},"x","y")),I.isObject(this.state.inspect)?I.extend(le,I.pick(this.state.inspect,"x","y")):void 0,"bar chart"===this.state.perspective?(ne=this.state.layout.barMargin,ie.left=this.state.layout.barMargin.left-this.state.layout.stage.left,ie.top=this.state.layout.barMargin.top-this.state.layout.stage.top,ie.barMarginCorrection=this.state.layout.main.top,le.x-=ie.left,le.y-=ie.top):void 0,G=this.state.layout.stage.width-2*ie.left,W=null!=(nn=this.state.flags)?nn.map(function(){return function(t){return null!=K?K[t]:void 0}}(this)):void 0,p({style:ne,offset:ie,flagAttribute:this.state.flagAttribute,entities:W,shouldTransition:!this.transitionViaScroll,renderFinished:function(t){return function(){return t.transitionViaScroll=!1}}(this),positionAtEnd:"bar chart"===this.state.perspective,width:G,bubble:a({data:F,position:le,options:this.state.calloutOptions,attributes:null!=(rn=this.state.calloutOptions)&&null!=(on=rn.attributes)?on.map(function(t){return function(e){return t.state.store.attributeById[e]}}(this)):void 0,size:[this.state.layout.stage.width,this.state.layout.stage.height],hierarchyInfo:v.getHierarchyInfo(null!=(an=this.state.inspect)?an.blob:void 0),groupCountLabel:this.state.groupCountLabel})})):void 0,l({options:this.state.detailOptions,layout:this.state.layout.stage,entity:null!=(sn=null!=(un=this.state.store.entityById)?un[this.state.detail]:void 0)?sn:null,attributeById:this.state.store.attributeById,flags:this.state.flags,onToggleFlag:this.onToggleFlag,onClose:this.onCloseDetail})),E.addons.CSSTransitionGroup({transitionName:"fade"},null!=Y&&"table"===this.state.perspective?[R({style:this.state.layout.table,entities:Y,attributes:this.state.tableAttributes,store:this.state.store,setAttributes:function(t){return function(e){return t.setState({tableAttributes:e})}}(this),sortBy:null!=(ln=this.state.tableSort)?ln.sortBy:void 0,sortDirection:null!=(cn=this.state.tableSort)?cn.sortDirection:void 0,tableSort:function(t){return function(e){return t.setState({tableSort:e})}}(this),reveal:this.state.reveal,flags:null!=(hn=this.state.flags)?hn.filter(function(){return function(t){return null!=(null!=K?K[t]:void 0)}}(this)):void 0,selected:this.state.selected,onSelectEntity:function(t){return function(e,n){return(n?t.toggleNodes:t.selectNodes)([e])}}(this),onDetail:this.onDetail}),E.createElement("pill",{style:{position:"absolute",bottom:-20,right:0}},E.createElement("div",{style:{display:"inline-block",padding:20},className:"export-button",onClick:function(t){return function(){var e,n,r,i,o;return n=I.clone(Y),null!=t.state.tableSort&&(i=t.state.tableSort.sortBy,o=t.state.tableSort.sortDirection,I.clone(n).sort(function(t,e){return O[o](t[i],e[i])||O[o](t.id,e.id)})),r=Y.map(function(e){return t.state.tableAttributes.map(function(n){var r;return r=t.state.store.attributeById[n],r.format(e[n])})}),e=b.unparse({fields:t.state.tableAttributes,data:r}),O.select(document.body).append("a").attr("href","data:text/csv;charset=UTF-8,"+encodeURIComponent(e)).attr("download","talent-lab-export.csv").attr("target","_blank").node().click()}}(this)},"Export to CSV"))]:void 0),E.createElement("div",{className:"logo"}),this.state.guideOpen?f({onClose:function(t){return function(){return t.setState({guideOpen:!1})}}(this)}):void 0)}})})}.call(this),function(){define("components/root",["require","react","d3","./app","./blobs","./scrollable"],function(t){var e,n,r,i,o;return r=t("react"),o=t("d3"),e=t("./app"),n=r.createFactory(t("./blobs")),i=r.createFactory(t("./scrollable")),r.createClass({displayName:"Root",fadeDuration:200,darkInterpolator:null,pulseRate:2e3,pulseTransition:null,launchClicked:function(){return o.select(window).transition("pulse").duration(0).each("end",function(t){return function(){return t.setState({currentStageName:"controls"})}}(this)),setTimeout(function(t){return function(){return t.setState({threeIconsDisplayed:!0})}}(this),1400)},bringInLegalModal:function(){return this.state.showLegal?(this.setState({currentStageName:"legal",legalModalInTransition:!0}),o.timer(function(t){return function(){return t.setState({legalModalInTransition:!1}),!0}}(this))):this.setState({appStarted:!0})},stages:{initial:function(t,e,i){return[n({size:[this.state.width,this.state.height],entities:e,groups:t,blobBy:function(){return function(){return"start"}}(this),shouldTransition:!0}),r.DOM.div({ref:"landing-button",className:"landing-button",onClick:this.launchClicked},r.DOM.svg({width:268,height:268},r.DOM.g({transform:"translate(134,134)"},r.DOM.path({className:"loading-arc-background",d:o.svg.arc()({innerRadius:122,outerRadius:130,startAngle:0,endAngle:2*Math.PI})}),r.DOM.path({className:"loading-arc",d:o.svg.arc()({innerRadius:122,outerRadius:122+8*(1-i),startAngle:0,endAngle:2*this.state.progress*Math.PI})}))))]},controls:function(t,e){return[n({size:[this.state.width,this.state.height],entities:e,groups:e,blobBy:function(t){return t.key},shouldTransition:!0}),this.state.threeIconsDisplayed?[r.DOM.div({ref:"start-button-background",className:"start-button-background hidden"}),r.DOM.div({ref:"start-button",className:"start-button",onClick:function(t){return function(){return t.setState({currentStageName:"legal",legalModalInTransition:!0}),o.timer(function(){return t.setState({legalModalInTransition:!1}),!0})}}(this),onMouseEnter:function(){return function(){return o.select(".start-button-background").classed("hidden",!1),o.select(".start-button").classed("hover",!0),o.select(".start-label").classed("hidden",!1)}}(this),onMouseLeave:function(){return function(){return o.select(".start-button-background").classed("hidden",!0),o.select(".start-button").classed("hover",!1),o.select(".start-label").classed("hidden",!0)}}(this)}),r.DOM.div({className:"start-label hidden"},"launch"),r.DOM.div({ref:"options-button",className:"options-button",onMouseEnter:function(){return function(){return o.select(".options-button").classed("hover",!0),o.select(".options-label").classed("hidden",!1)}}(this),onMouseLeave:function(){return function(){return o.select(".options-button").classed("hover",!1),o.select(".options-label").classed("hidden",!0)}}(this)}),r.DOM.div({className:"options-label hidden"},"settings"),r.DOM.div({ref:"upload-button",className:"upload-button"}),r.DOM.div({className:"upload-label hidden"},"data upload"),r.DOM.input({className:"upload-area",type:"file",multiple:!0,onChange:function(t){return function(e){return t.importFiles(e.target.files)}}(this),onMouseEnter:function(){return function(){return o.select(".upload-button").classed("hover",!0),o.select(".upload-label").classed("hidden",!1)}}(this),onMouseLeave:function(){return function(){return o.select(".upload-button").classed("hover",!1),o.select(".upload-label").classed("hidden",!0)}}(this),className:"file-upload"})]:void 0]},legal:function(){return r.DOM.div({className:"legal-container",style:{transitionProperty:"opacity",transitionDuration:this.fadeDuration+"ms",opacity:this.state.legalModalInTransition?0:void 0}},r.DOM.div({className:"legal-header"},"evaluation agreement"),r.DOM.div({className:"legal-body"},i({style:{height:550,paddingRight:30},scrollbarMargin:1,scrollbarStyle:{width:4}},this.state.legal.split("\n").map(function(){return function(t){return r.DOM.p({dangerouslySetInnerHTML:{__html:t}})}}(this)))),r.DOM.div({className:"accept button "+(this.state.showMainMenu?"":"only"),onClick:function(t){return function(){return t.setState({appStarted:!0})}}(this)},"accept"),this.state.showMainMenu?r.DOM.div({className:"goback button",onClick:function(t){return function(){return t.setState({legalModalInTransition:!0}),setTimeout(function(){return t.setState({legalModalInTransition:!1,currentStageName:"controls"})},t.fadeDuration)}}(this)},"go back"):void 0)}},getInitialState:function(){return{showMainMenu:!1,showLegal:!0,appStarted:!1,threeIconsDisplayed:!1,progress:0,pulse:0,legalModalInTransition:!1,currentStageName:"initial",width:window.innerWidth,height:window.innerHeight,legal:""}},importFiles:function(t){var e,n,r;return e=_.find(t,function(){return function(t){return/\.csv$/i.test(t.name)}}(this)),null!=e&&this.setState({data:e}),n=_.find(t,function(){return function(t){return/\.json$/i.test(t.name)}}(this)),null!=n&&(r=new FileReader,r.onloadend=function(t){return function(e){return t.setState({metadata:JSON.parse(e.target.result)})}}(this),r.readAsText(n)),this.bringInLegalModal()},componentDidMount:function(){var t,e,n,r;return o.text("assets/splash_page/legal.txt",function(t){return function(e){return t.setState({legal:e})}}(this)),t="hsl(227, 11.4%, 36.3%)",e="hsl(218, 9.1%, 41%)",n="hsl(223, 4.6%, 70.4%)",this.darkInterpolator=o.interpolateHsl(t,n),this.lightInterpolator=o.interpolateHsl(e,n),this.pulse=r=function(t){return function(){return t.state.blobsExpanded||t.state.appStarted?void 0:t.pulseTransition=o.select(window).transition("pulse").duration(t.pulseRate).ease("linear").tween("progress",function(){return function(e){return t.isMounted()?t.setState({pulse:e*t.pulseRate/1e3}):void 0}}).each("end",function(){return r()})}}(this),o.select(window).transition().duration(1350).ease("linear").tween("progress",function(t){return function(){return function(e){return t.isMounted()?t.setState({progress:1.05*e}):void 0}}}(this)).each("end",function(t){return function(){return o.select(".landing-button").classed("activated",!0),o.select(".loading-arc").classed("done",!0),o.select(".loading-arc-background").classed("hidden",!0),t.state.showMainMenu?t.launchClicked():t.bringInLegalModal()}}(this)),null==o.select(window).on("resize")&&o.select(window).on("resize",function(t){return function(){return t.setState({width:window.innerWidth,height:window.innerHeight})}}(this)),o.select(this.getDOMNode()).on("dragover",function(){return function(){return o.event.stopPropagation(),o.event.preventDefault()}}(this)),o.select(this.getDOMNode()).on("drop",function(t){return function(){return o.event.stopPropagation(),o.event.preventDefault(),t.importFiles(o.event.dataTransfer.files)}}(this))},pingPong:function(t,e,n){var r;return r=e-t,t+Math.abs((n+r)%(2*r)-r)},render:function(){var t,n,i;return n=this.pingPong(0,this.pulseRate/2e3,this.state.pulse),t=[{key:"start",id:"start",x:this.state.width/2,y:this.state.height/2,r:118,color:this.state.progress<1?null!=this.darkInterpolator?this.darkInterpolator(this.state.progress):"hsl(227, 11.4%, 36.3%)":this.lightInterpolator(1-n)}],i=[{key:"upload",id:"upload",x:this.state.width/2-221,y:this.state.height/2,r:41,color:"hsl(223, 4.6%, 70.4%)"},{key:"start",id:"start",x:this.state.width/2,y:this.state.height/2,r:100,color:"hsl(223, 4.6%, 70.4%)"},{key:"options",id:"options",x:this.state.width/2+221,y:this.state.height/2,r:41,color:"hsl(223, 4.6%, 70.4%)"}],r.addons.CSSTransitionGroup({transitionName:"fade",className:"root"},this.state.appStarted?e({key:"app",data:this.state.data,metadata:this.state.metadata}):r.DOM.div({key:"splash",ref:"splash-container",className:"splash-container"},this.stages[this.state.currentStageName].call(this,t,i,n)))}})})}.call(this),function(){String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(){return function(t){return t.toUpperCase()}}(this))},require.config({paths:{d3:"vendor/d3/d3.min",underscore:"vendor/underscore/underscore",react:"vendor/react/react-with-addons.min",hammer:"vendor/hammerjs/hammer",papaparse:"vendor/papaparse/papaparse",topojson:"vendor/topojson/topojson","d3-geo-projection":"vendor/d3-geo-projection/d3.geo.projection",fastclick:"vendor/fastclick/lib/fastclick",scroller:"vendor/scroller/src/Scroller","scroller-animate":"vendor/scroller/src/Animate",immutable:"vendor/immutable/dist/immutable.min",moment:"vendor/moment/moment",jsondiffpatch:"vendor/jsondiffpatch/public/build/jsondiffpatch",stats:"vendor/stats.js/build/stats.min"},shim:{papaparse:{exports:"Papa"},animate:{exports:"Scroller"},scroller:{exports:"Scroller",deps:["scroller-animate"]},stats:{exports:"Stats"}}}),require(["react","fastclick","./components/root"],function(t,e,n){return e.attach(document.body),t.initializeTouchEvents(!0),t.render(t.createFactory(n)(),document.getElementById("content"))})}.call(this),define("main",function(){});